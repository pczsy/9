<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修Python学习日记(二十四) 继承' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>Python学习日记(二十四) 继承</center></div><div class='banquan'>原文出处:本文由博客园博主Fantac提供。<br/>
原文连接:https://www.cnblogs.com/Fantac/p/11477508.html</div><br>
    <p><strong><span style="font-family: 宋体; font-size: 18pt; color: #ffffff; background-color: #ff0000;">继承</span></strong></p>
<p><span style="font-family: 宋体; font-size: 18px;">什么是继承?就是一个派生类(derived class)继承基类(base class)的字段和方法。一个类可以被多个类继承;在python中,一个类可以继承多个类。</span></p>
<p><span style="font-family: 宋体; font-size: 18px;">父类可以称为基类和超类,而子类可以称为派生类</span></p>
<p><span style="font-family: 宋体; font-size: 18px;">在继承中可分为单继承和多继承两种</span></p>
<p><span style="font-family: 宋体; font-size: 18px;">下面是继承的用法,语法为'class 子类的名字(父类名):'</span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">class</span> Plane:                                    <span style="color: #008000;">#</span><span style="color: #008000;">定义一个所有战机的父类</span>
    <span style="color: #0000ff;">def</span> <span style="color: #800080;">__init__</span><span style="color: #000000;">(self,name,speed,hp,atk):
        self.name </span>=<span style="color: #000000;"> name
        self.speed </span>=<span style="color: #000000;"> speed
        self.hp </span>=<span style="color: #000000;"> hp
        self.atk </span>=<span style="color: #000000;"> atk

</span><span style="color: #0000ff;">class</span> Fighter(Plane):                           <span style="color: #008000;">#</span><span style="color: #008000;">定义一个Fighter类 它继承的是Plane类</span>
    <span style="color: #0000ff;">def</span> <span style="color: #800080;">__init__</span><span style="color: #000000;">(self,name,speed,hp,atk,money):
        self.name </span>=<span style="color: #000000;"> name
        self.speed </span>=<span style="color: #000000;"> speed
        self.hp </span>=<span style="color: #000000;"> hp
        self.atk </span>=<span style="color: #000000;"> atk
        self.money</span>=<span style="color: #000000;"> money
    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> Attack(self,enemyFighter):
        enemyFighter.hp </span>-=<span style="color: #000000;"> self.atk

</span><span style="color: #0000ff;">class</span> EnemyFighter(Plane):                      <span style="color: #008000;">#</span><span style="color: #008000;">定义一个EnemyFighter类 它继承的是Plane类</span>
    <span style="color: #0000ff;">def</span> <span style="color: #800080;">__init__</span><span style="color: #000000;">(self,name,speed,hp,atk,type):
        self.name </span>=<span style="color: #000000;"> name
        self.speed </span>=<span style="color: #000000;"> speed
        self.hp </span>=<span style="color: #000000;"> hp
        self.atk </span>=<span style="color: #000000;"> atk
        self.type </span>=<span style="color: #000000;"> type
    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> EnemyAttack(self,fighter):
        fighter.hp </span>-= self.atk</pre>
</div>
<p><span style="font-family: 宋体; font-size: 18px;">我们如果想知道一个类的父类是谁,可以使用<span style="color: #000080;">__bases__</span>方法查看</span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">print</span>(Plane.<span style="color: #800080;">__bases__</span>)          <span style="color: #008000;">#</span><span style="color: #008000;">(&lt;class 'object'&gt;,)</span>
<span style="color: #0000ff;">print</span>(Fighter.<span style="color: #800080;">__bases__</span>)        <span style="color: #008000;">#</span><span style="color: #008000;">(&lt;class '__main__.Plane'&gt;,)</span>
<span style="color: #0000ff;">print</span>(EnemyFighter.<span style="color: #800080;">__bases__</span>)   <span style="color: #008000;">#</span><span style="color: #008000;">(&lt;class '__main__.Plane'&gt;,)</span></pre>
</div>
<p><span style="font-family: 宋体; font-size: 18px;">可以从结果看出两个子类都继承了Plane这个父类,而Plane类它继承的是类的'祖宗'object类。在一个python3里所有的类都有父类,如果一个类它没有发生继承那么它的父类就是object的子类。</span></p>
<p><strong><span style="font-family: 宋体; font-size: 18px;">新式类:没有继承父类默认继承object类</span></strong></p>
<p>&nbsp;</p>
<p><span style="background-color: #ff0000; color: #ffffff; font-size: 18pt;"><strong>抽象的概念</strong></span></p>
<p><span style="font-family: 宋体; font-size: 18px;">抽象就是抽取类似或比较像的部分</span></p>
<p><span style="font-family: 宋体; font-size: 18px;">分为两个层次:将两个比较相似的对象比较像的部分抽取成类和把多个类比较像的部分抽取成父类</span></p>
<p><strong><span style="font-family: 宋体; font-size: 18px;">继承是基于抽象的结果,通过编程语言去实现它,肯定是先经历抽象这个过程,才能通过继承的方式表达出抽象的结构;且类与类之间才有继承的关系</span></strong></p>
<p>&nbsp;</p>
<p><span style="background-color: #ff0000; color: #ffffff; font-size: 18pt;"><strong>单继承</strong></span></p>
<p><span style="font-family: 宋体; font-size: 18px;">我们在写上面的代码时候可以发现Fighter类和EnemyFighter类中有很多属性在父类都是重复的，并且有些属性又是自己特有的,那么对于这个派生类特有的属性我们称为派生属性。下面我们修改我们上面的代码:</span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">class</span> Plane:                                    <span style="color: #008000;">#</span><span style="color: #008000;">定义一个所有战机的父类</span>
    <span style="color: #0000ff;">def</span> <span style="color: #800080;">__init__</span><span style="color: #000000;">(self,name,speed,hp,atk):
        self.name </span>=<span style="color: #000000;"> name
        self.speed </span>=<span style="color: #000000;"> speed
        self.hp </span>=<span style="color: #000000;"> hp
        self.atk </span>=<span style="color: #000000;"> atk

</span><span style="color: #0000ff;">class</span> Fighter(Plane):                           <span style="color: #008000;">#</span><span style="color: #008000;">定义一个Fighter类 它继承的是Plane类</span>
    <span style="color: #0000ff;">def</span> <span style="color: #800080;">__init__</span><span style="color: #000000;">(self,name,speed,hp,atk,money):
        Plane.</span><span style="color: #800080;">__init__</span>(self,name,speed,hp,atk)  <span style="color: #008000;">#</span><span style="color: #008000;">这里的self是Fighter的self</span>
        self.money= money                       <span style="color: #008000;">#</span><span style="color: #008000;">派生属性</span>
    <span style="color: #0000ff;">def</span><span style="color: #000000;"> Attack(self,enemyFighter):
        enemyFighter.hp </span>-=<span style="color: #000000;"> self.atk

</span><span style="color: #0000ff;">class</span> EnemyFighter(Plane):                      <span style="color: #008000;">#</span><span style="color: #008000;">定义一个EnemyFighter类 它继承的是Plane类</span>
    <span style="color: #0000ff;">def</span> <span style="color: #800080;">__init__</span><span style="color: #000000;">(self,name,speed,hp,atk,type):
        Plane.</span><span style="color: #800080;">__init__</span>(self,name,speed,hp,atk)  <span style="color: #008000;">#</span><span style="color: #008000;">这里的self是EnemyFighter的self</span>
        self.type = type                        <span style="color: #008000;">#</span><span style="color: #008000;">派生属性</span>
    <span style="color: #0000ff;">def</span><span style="color: #000000;"> EnemyAttack(self,fighter):
        fighter.hp </span>-=<span style="color: #000000;"> self.atk

f1 </span>= Fighter(<span style="color: #800000;">'</span><span style="color: #800000;">player1</span><span style="color: #800000;">'</span>,150,1000,100,500<span style="color: #000000;">)
</span><span style="color: #0000ff;">print</span>(f1.<span style="color: #800080;">__dict__</span>)                              <span style="color: #008000;">#</span><span style="color: #008000;">{'name': 'player1', 'speed': 150, 'hp': 1000, 'atk': 100, 'money': 500}</span>
Boss1 = EnemyFighter(<span style="color: #800000;">'</span><span style="color: #800000;">AKS-89</span><span style="color: #800000;">'</span>,50,3000,500,<span style="color: #800000;">'</span><span style="color: #800000;">BOSS</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #0000ff;">print</span>(Boss1.<span style="color: #800080;">__dict__</span>)                           <span style="color: #008000;">#</span><span style="color: #008000;">{'name': 'AKS-89', 'speed': 50, 'hp': 3000, 'atk': 500, 'type': 'BOSS'}</span></pre>
</div>
<p><span style="font-family: 宋体; font-size: 18px;">现在给Plane类添加一个方法Attack,当如果子类和父类的方法重名时,在子类在调用的时候,如果子类中有这个名字那么就一定是用子类的,子类没有才找父类的,如果父类没有就报错</span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">class</span> Plane:                                    <span style="color: #008000;">#</span><span style="color: #008000;">定义一个所有战机的父类</span>
    <span style="color: #0000ff;">def</span> <span style="color: #800080;">__init__</span><span style="color: #000000;">(self,name,speed,hp,atk):
        self.name </span>=<span style="color: #000000;"> name
        self.speed </span>=<span style="color: #000000;"> speed
        self.hp </span>=<span style="color: #000000;"> hp
        self.atk </span>=<span style="color: #000000;"> atk
    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> Attack(self):
        </span><span style="color: #0000ff;">print</span>(self.name+<span style="color: #800000;">'</span><span style="color: #800000;">发射子弹!</span><span style="color: #800000;">'</span><span style="color: #000000;">)

</span><span style="color: #0000ff;">class</span> Fighter(Plane):                           <span style="color: #008000;">#</span><span style="color: #008000;">定义一个Fighter类 它继承的是Plane类</span>
    <span style="color: #0000ff;">def</span> <span style="color: #800080;">__init__</span><span style="color: #000000;">(self,name,speed,hp,atk,money):
        Plane.</span><span style="color: #800080;">__init__</span>(self,name,speed,hp,atk)  <span style="color: #008000;">#</span><span style="color: #008000;">这里的self是Fighter的self</span>
        self.money= money                       <span style="color: #008000;">#</span><span style="color: #008000;">派生属性</span>
    <span style="color: #0000ff;">def</span><span style="color: #000000;"> Attack(self,enemyFighter):
        enemyFighter.hp </span>-=<span style="color: #000000;"> self.atk
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">Now {0} hp : {1}</span><span style="color: #800000;">'</span><span style="color: #000000;">.format(enemyFighter.name,enemyFighter.hp))

</span><span style="color: #0000ff;">class</span> EnemyFighter(Plane):                      <span style="color: #008000;">#</span><span style="color: #008000;">定义一个EnemyFighter类 它继承的是Plane类</span>
    <span style="color: #0000ff;">def</span> <span style="color: #800080;">__init__</span><span style="color: #000000;">(self,name,speed,hp,atk,type):
        Plane.</span><span style="color: #800080;">__init__</span>(self,name,speed,hp,atk)  <span style="color: #008000;">#</span><span style="color: #008000;">这里的self是EnemyFighter的self</span>
        self.type = type                        <span style="color: #008000;">#</span><span style="color: #008000;">派生属性</span>
    <span style="color: #0000ff;">def</span><span style="color: #000000;"> EnemyAttack(self,fighter):
        fighter.hp </span>-=<span style="color: #000000;"> self.atk
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">Now {0} hp : {1}</span><span style="color: #800000;">'</span><span style="color: #000000;">.format(fighter.name, fighter.hp))

f1 </span>= Fighter(<span style="color: #800000;">'</span><span style="color: #800000;">player1</span><span style="color: #800000;">'</span>,150,1000,100,500<span style="color: #000000;">)
Boss1 </span>= EnemyFighter(<span style="color: #800000;">'</span><span style="color: #800000;">AKS-89</span><span style="color: #800000;">'</span>,50,3000,500,<span style="color: #800000;">'</span><span style="color: #800000;">BOSS</span><span style="color: #800000;">'</span><span style="color: #000000;">)

f1.Attack(Boss1)                                </span><span style="color: #008000;">#</span><span style="color: #008000;">Now AKS-89 hp : 2900</span>
Boss1.EnemyAttack(f1)                           <span style="color: #008000;">#</span><span style="color: #008000;">Now player1 hp : 500</span>
Boss1.Attack()                                  <span style="color: #008000;">#</span><span style="color: #008000;">AKS-89发射子弹!</span></pre>
</div>
<p><span style="font-family: 宋体; font-size: 18px;">派生方法:父类中没有但在子类中特有的方法,例如上面的EnemyAttack()</span></p>
<p><span style="font-family: 宋体;"><span style="font-size: 18px;">如果一个子类还想用父类的东西,应该单独调用父类的</span></span></p>
<p><strong><span style="font-family: 宋体;"><span style="font-size: 18px;">&lt;1&gt;父类名.类方法名(self参数),这里的self参数必须传</span></span></strong></p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">class</span> Fighter(Plane):                           <span style="color: #008000;">#</span><span style="color: #008000;">定义一个Fighter类 它继承的是Plane类</span>
    <span style="color: #0000ff;">def</span> <span style="color: #800080;">__init__</span><span style="color: #000000;">(self,name,speed,hp,atk,money):
        Plane.</span><span style="color: #800080;">__init__</span>(self,name,speed,hp,atk)  <span style="color: #008000;">#</span><span style="color: #008000;">这里的self是Fighter的self</span>
        self.money= money                       <span style="color: #008000;">#</span><span style="color: #008000;">派生属性</span>
    <span style="color: #0000ff;">def</span><span style="color: #000000;"> Attack(self,enemyFighter):
        Plane.Attack(self)                      </span><span style="color: #008000;">#</span><span style="color: #008000;">如果既想实现新的功能也想使用父类原本的功能,还需要在子类中调用父类</span>
        enemyFighter.hp -=<span style="color: #000000;"> self.atk
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">Now {0} hp : {1}</span><span style="color: #800000;">'</span>.format(enemyFighter.name,enemyFighter.hp))</pre>
</div>
<div class="cnblogs_code">
<pre><code>f1 = Fighter(<span style="color: #800000;">'</span><span style="color: #800000;">player1</span><span style="color: #800000;">'</span>,150,1000,100,500<span style="color: #000000;">)
Boss1 </span>= EnemyFighter(<span style="color: #800000;">'</span><span style="color: #800000;">AKS-89</span><span style="color: #800000;">'</span>,50,3000,500,<span style="color: #800000;">'</span><span style="color: #800000;">BOSS</span><span style="color: #800000;">'</span><span style="color: #000000;">)
f1.Attack(Boss1)                                </span><span style="color: #008000;">#</span><span style="color: #008000;">player1发射子弹!</span>
                                                <span style="color: #008000;">#</span><span style="color: #008000;">Now AKS-89 hp : 2900</span></pre>
</div>
<p><strong><span style="font-family: 宋体; font-size: 18px;">&lt;2&gt;super方法</span></strong></p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">class</span> Plane:                                    <span style="color: #008000;">#</span><span style="color: #008000;">定义一个所有战机的父类</span>
    <span style="color: #0000ff;">def</span> <span style="color: #800080;">__init__</span><span style="color: #000000;">(self,name,speed,hp,atk):
        self.name </span>=<span style="color: #000000;"> name
        self.speed </span>=<span style="color: #000000;"> speed
        self.hp </span>=<span style="color: #000000;"> hp
        self.atk </span>=<span style="color: #000000;"> atk
    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> Attack(self):
        </span><span style="color: #0000ff;">print</span>(self.name+<span style="color: #800000;">'</span><span style="color: #800000;">发射子弹!</span><span style="color: #800000;">'</span><span style="color: #000000;">)

</span><span style="color: #0000ff;">class</span> Fighter(Plane):                           <span style="color: #008000;">#</span><span style="color: #008000;">定义一个Fighter类 它继承的是Plane类</span>
    <span style="color: #0000ff;">def</span> <span style="color: #800080;">__init__</span><span style="color: #000000;">(self,name,speed,hp,atk,money):
        super().</span><span style="color: #800080;">__init__</span>(name,speed,hp,atk)     <span style="color: #008000;">#</span><span style="color: #008000;">这里的self是Fighter的self</span>
        self.money= money                       <span style="color: #008000;">#</span><span style="color: #008000;">派生属性</span>
    <span style="color: #0000ff;">def</span><span style="color: #000000;"> Attack(self,enemyFighter):
        Plane.Attack(self)                      </span><span style="color: #008000;">#</span><span style="color: #008000;">如果既想实现新的功能也想使用父类原本的功能,还需要在子类中调用父类</span>
        enemyFighter.hp -=<span style="color: #000000;"> self.atk
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">Now {0} hp : {1}</span><span style="color: #800000;">'</span><span style="color: #000000;">.format(enemyFighter.name,enemyFighter.hp))

</span><span style="color: #0000ff;">class</span> EnemyFighter(Plane):                      <span style="color: #008000;">#</span><span style="color: #008000;">定义一个EnemyFighter类 它继承的是Plane类</span>
    <span style="color: #0000ff;">def</span> <span style="color: #800080;">__init__</span><span style="color: #000000;">(self,name,speed,hp,atk,type):
        super().</span><span style="color: #800080;">__init__</span>(name,speed,hp,atk)     <span style="color: #008000;">#</span><span style="color: #008000;">这里的self是EnemyFighter的self</span>
        self.type = type                        <span style="color: #008000;">#</span><span style="color: #008000;">派生属性</span>
    <span style="color: #0000ff;">def</span><span style="color: #000000;"> EnemyAttack(self,fighter):
        Plane.Attack(self)
        fighter.hp </span>-=<span style="color: #000000;"> self.atk
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">Now {0} hp : {1}</span><span style="color: #800000;">'</span><span style="color: #000000;">.format(fighter.name, fighter.hp))

f1 </span>= Fighter(<span style="color: #800000;">'</span><span style="color: #800000;">player1</span><span style="color: #800000;">'</span>,150,1000,100,500<span style="color: #000000;">)
Boss1 </span>= EnemyFighter(<span style="color: #800000;">'</span><span style="color: #800000;">AKS-89</span><span style="color: #800000;">'</span>,50,3000,500,<span style="color: #800000;">'</span><span style="color: #800000;">BOSS</span><span style="color: #800000;">'</span><span style="color: #000000;">)
f1.Attack(Boss1)                                </span><span style="color: #008000;">#</span><span style="color: #008000;">player1发射子弹!</span>
                                                <span style="color: #008000;">#</span><span style="color: #008000;">Now AKS-89 hp : 2900</span>
Boss1.EnemyAttack(f1)                           <span style="color: #008000;">#</span><span style="color: #008000;">AKS-89发射子弹!</span>
                                                <span style="color: #008000;">#</span><span style="color: #008000;">Now player1 hp : 500</span></pre>
</div>
<p><span style="font-family: 宋体; font-size: 18px;">super()函数在这里省略了两个参数,分别是子类名和self参数。super()只在新式类有并且它只在python3存在,而在python3中所有的类都是新式类。对于单继承来说super()就可以找到他的父类了;上面的super()用法是在类的<strong>内部</strong>使用。</span></p>
<p><span style="font-family: 宋体; font-size: 18px;">super()在类的<strong>外部</strong>使用:</span></p>
<div class="cnblogs_code">
<pre><code>f1 = Fighter(<span style="color: #800000;">'</span><span style="color: #800000;">player1</span><span style="color: #800000;">'</span>,150,1000,100,500<span style="color: #000000;">)
Boss1 </span>= EnemyFighter(<span style="color: #800000;">'</span><span style="color: #800000;">AKS-89</span><span style="color: #800000;">'</span>,50,3000,500,<span style="color: #800000;">'</span><span style="color: #800000;">BOSS</span><span style="color: #800000;">'</span><span style="color: #000000;">)
super(Fighter,f1).Attack()                      </span><span style="color: #008000;">#</span><span style="color: #008000;">player1发射子弹!</span>
super(EnemyFighter,Boss1).Attack()              <span style="color: #008000;">#</span><span style="color: #008000;">AKS-89发射子弹!</span></pre>
</div>
<p><span style="font-family: 宋体; font-size: 18px;">可以直接找父类的这一个函数并进行调用</span></p>
<p><strong><span style="font-family: 宋体; font-size: 18px;">在单继承中,一个类它只继承一个基类且一般来说它能够减少代码的重复,提高代码可读性,规范编程模式</span></strong></p>
<p>&nbsp;</p>
<p><span style="font-size: 18pt;"><strong><span style="color: #ffffff; background-color: #ff0000;">多继承</span></strong></span></p>
<p><span style="font-family: 宋体; font-size: 18px;">多继承顾名思义就是一个类它继承了两个或两个以上的父类</span></p>
<p><strong><span style="font-family: 宋体; font-size: 18px;">&lt;1&gt;钻石继承:</span></strong></p>
<p><span style="font-family: 宋体; font-size: 18px;">假设有4个类它们的继承关系如下图表示</span></p>
<p><img src="./images/Python学习日记(二十四) 继承0.png" alt="" width="244" height="196" /></p>
<div class="cnblogs_code" onclick="cnblogs_code_show('423433f1-42e4-49f4-ad55-21d2be23570a')"><img id="code_img_closed_423433f1-42e4-49f4-ad55-21d2be23570a" class="code_img_closed" src="./images/Python学习日记(二十四) 继承1.png" alt="" /><img id="code_img_opened_423433f1-42e4-49f4-ad55-21d2be23570a" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('423433f1-42e4-49f4-ad55-21d2be23570a',event)" src="./images/Python学习日记(二十四) 继承2.png" alt="" />
<div id="cnblogs_code_open_423433f1-42e4-49f4-ad55-21d2be23570a" class="cnblogs_code_hide">
<pre><code><span style="color: #0000ff;">class</span><span style="color: #000000;"> A:
    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> fuc(self):
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">A</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> C(A):
    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> fuc(self):
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">C</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> D(A):
    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> fuc(self):
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">D</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> B(C,D):
    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> fuc(self):
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">B</span><span style="color: #800000;">'</span><span style="color: #000000;">)
b </span>=<span style="color: #000000;"> B()
b.fuc()     </span><span style="color: #008000;">#</span><span style="color: #008000;">B</span></pre>
</div>
<span class="cnblogs_code_collapse">第一次执行fuc</span></div>
<p><span style="font-family: 宋体; font-size: 18px;">如果把B类的方法注释掉现在的结果是什么？</span></p>
<div class="cnblogs_code" onclick="cnblogs_code_show('4d44d466-e060-4ed7-93f0-a737721c8545')"><img id="code_img_closed_4d44d466-e060-4ed7-93f0-a737721c8545" class="code_img_closed" src="./images/Python学习日记(二十四) 继承1.png" alt="" /><img id="code_img_opened_4d44d466-e060-4ed7-93f0-a737721c8545" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('4d44d466-e060-4ed7-93f0-a737721c8545',event)" src="./images/Python学习日记(二十四) 继承2.png" alt="" />
<div id="cnblogs_code_open_4d44d466-e060-4ed7-93f0-a737721c8545" class="cnblogs_code_hide">
<pre><code><span style="color: #0000ff;">class</span><span style="color: #000000;"> A:
    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> fuc(self):
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">A</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> C(A):
    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> fuc(self):
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">C</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> D(A):
    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> fuc(self):
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">D</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> B(C,D):
    </span><span style="color: #0000ff;">pass</span>
    <span style="color: #008000;">#</span><span style="color: #008000;"> def fuc(self):</span>
    <span style="color: #008000;">#</span><span style="color: #008000;">     print('B')</span>
b =<span style="color: #000000;"> B()
b.fuc()     </span><span style="color: #008000;">#</span><span style="color: #008000;">C</span></pre>
</div>
<span class="cnblogs_code_collapse">第二次执行fuc</span></div>
<p><span style="font-family: 宋体; font-size: 18px;">再注释掉C类的方法</span></p>
<div class="cnblogs_code" onclick="cnblogs_code_show('4f1f698b-6c12-4049-a69d-c3dc1c64a60d')"><img id="code_img_closed_4f1f698b-6c12-4049-a69d-c3dc1c64a60d" class="code_img_closed" src="./images/Python学习日记(二十四) 继承1.png" alt="" /><img id="code_img_opened_4f1f698b-6c12-4049-a69d-c3dc1c64a60d" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('4f1f698b-6c12-4049-a69d-c3dc1c64a60d',event)" src="./images/Python学习日记(二十四) 继承2.png" alt="" />
<div id="cnblogs_code_open_4f1f698b-6c12-4049-a69d-c3dc1c64a60d" class="cnblogs_code_hide">
<pre><code><span style="color: #0000ff;">class</span><span style="color: #000000;"> A:
    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> fuc(self):
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">A</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> C(A):
    </span><span style="color: #0000ff;">pass</span>
    <span style="color: #008000;">#</span><span style="color: #008000;"> def fuc(self):</span>
    <span style="color: #008000;">#</span><span style="color: #008000;">     print('C')</span>
<span style="color: #0000ff;">class</span><span style="color: #000000;"> D(A):
    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> fuc(self):
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">D</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> B(C,D):
    </span><span style="color: #0000ff;">pass</span>
    <span style="color: #008000;">#</span><span style="color: #008000;"> def fuc(self):</span>
    <span style="color: #008000;">#</span><span style="color: #008000;">     print('B')</span>
b =<span style="color: #000000;"> B()
b.fuc()     </span><span style="color: #008000;">#</span><span style="color: #008000;">D</span></pre>
</div>
<span class="cnblogs_code_collapse">第三次执行fuc</span></div>
<p><span style="font-family: 宋体; font-size: 18px;">所以在最后一次执行的结果就是A了</span></p>
<p><span style="font-family: 宋体; font-size: 18px;">我们也可以通过B.mro()的方法来知道python是怎么走的</span></p>
<div class="cnblogs_code" onclick="cnblogs_code_show('b01f3cf7-021a-449d-82f0-78a9223ab078')"><img id="code_img_closed_b01f3cf7-021a-449d-82f0-78a9223ab078" class="code_img_closed" src="./images/Python学习日记(二十四) 继承1.png" alt="" /><img id="code_img_opened_b01f3cf7-021a-449d-82f0-78a9223ab078" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('b01f3cf7-021a-449d-82f0-78a9223ab078',event)" src="./images/Python学习日记(二十四) 继承2.png" alt="" />
<div id="cnblogs_code_open_b01f3cf7-021a-449d-82f0-78a9223ab078" class="cnblogs_code_hide">
<pre><code><span style="color: #0000ff;">class</span><span style="color: #000000;"> A:
    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> fuc(self):
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">A</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> C(A):
    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> fuc(self):
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">C</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> D(A):
    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> fuc(self):
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">D</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> B(C,D):
    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> fuc(self):
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">B</span><span style="color: #800000;">'</span><span style="color: #000000;">)
b </span>=<span style="color: #000000;"> B()
</span><span style="color: #0000ff;">print</span>(B.mro())  <span style="color: #008000;">#</span><span style="color: #008000;">[&lt;class '__main__.B'&gt;, &lt;class '__main__.C'&gt;, &lt;class '__main__.D'&gt;, &lt;class '__main__.A'&gt;, &lt;class 'object'&gt;]</span></pre>
</div>
<span class="cnblogs_code_collapse">结果</span></div>
<p><span style="font-family: 宋体; font-size: 18px;">在这里为什么先找的是D而不是A呢?虽然python在找的时候它其实已经知道了C后面有一个A,但是它要优先遵循从左往右的方向去找并且C-&gt;A,D-&gt;A,如果它直接找到A的话那么D的节点就会丢失,如果一个节点丢失的话就再也找不回来了,所以第三次结果它打印了D。</span></p>
<p><span style="font-family: 宋体; font-size: 18px;"><img src="./images/Python学习日记(二十四) 继承9.png" alt="" width="409" height="282" /></span></p>
<p><span style="font-family: 宋体; font-size: 18px;"><strong>&lt;2&gt;乌龟继承:</strong></span></p>
<p><span style="font-family: 宋体; font-size: 18px;">这些类的继承关系如下图表示</span></p>
<p><span style="font-family: 宋体; font-size: 18px;"><img src="./images/Python学习日记(二十四) 继承10.png" alt="" width="273" height="237" /></span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">class</span><span style="color: #000000;"> A:
    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> fuc(self):
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">A</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> B(A):
    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> fuc(self):
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">B</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> F(A):
    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> fuc(self):
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">F</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> C(B):
    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> fuc(self):
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">C</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> E(F):
    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> fuc(self):
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">E</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> D(E,C):
    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> fuc(self):
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">D</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #0000ff;">print</span>(D.mro()) <br /><span style="color: #008000;">#</span><span style="color: #008000;">[&lt;class '__main__.D'&gt;, &lt;class '__main__.E'&gt;, &lt;class '__main__.F'&gt;, &lt;class '__main__.C'&gt;, &lt;class '__main__.B'&gt;, &lt;class '__main__.A'&gt;, &lt;class 'object'&gt;]</span></pre>
</div>
<p><span style="font-family: 宋体; font-size: 18px;">这种记录继承顺序它是新式类的继承顺序,所遵循的是广度优先</span></p>
<p><span style="font-family: 宋体; font-size: 18px;">而在python2.7中就是经典类,它所遵循的深度优先即走过的路就不走了,在这里的结果就是D-&gt;E-&gt;F-&gt;A-&gt;C-&gt;B</span></p>
<p><strong><span style="font-family: 宋体; font-size: 18px;">总结:</span></strong></p>
<p><span style="font-family: 宋体; font-size: 18px;">如果是多个父类中有一个方法的名字都相同,一个子类继承了这些父类,当它去用这个方法的时候,它会优先从左往右去找</span></p>
<p><span style="font-family: 宋体; font-size: 18px;">python2.7 新式类和经典类共存,新式类要继承object</span></p>
<p><span style="font-family: 宋体; font-size: 18px;">python3 只有新式类,默认继承object</span></p>
<p><span style="font-family: 宋体; font-size: 18px;">经典类和新式类还有一个区别就是mro方法之在新式类存在</span></p>
<p>&nbsp;</p>
<p><span style="font-size: 18pt;"><strong><span style="background-color: #ff0000; color: #ffffff;">super的本质</span></strong></span></p>
<p><span style="font-family: 宋体; font-size: 18px;">用到上面钻石继承的继承关系图,但代码稍微改动</span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">class</span><span style="color: #000000;"> A:
    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> fuc(self):
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">A</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> C(A):
    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> fuc(self):
        super().fuc()
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">C</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> D(A):
    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> fuc(self):
        super().fuc()
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">D</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> B(C,D):
    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> fuc(self):
        super().fuc()
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">B</span><span style="color: #800000;">'</span><span style="color: #000000;">)
b </span>=<span style="color: #000000;"> B()
b.fuc()
</span><span style="color: #008000;">#</span><span style="color: #008000;"> A</span><span style="color: #008000;">
#</span><span style="color: #008000;"> D</span><span style="color: #008000;">
#</span><span style="color: #008000;"> C</span><span style="color: #008000;">
#</span><span style="color: #008000;"> B</span></pre>
</div>
<p><span style="font-family: 宋体; font-size: 18px;"><strong>super它的本质不是单纯找父类,而是根据调用者的节点位置的广度优先顺序来找的</strong></span></p>
<p><span style="font-family: 宋体; font-size: 18px;">具体执行流程:</span></p>
<p><img src="./images/Python学习日记(二十四) 继承11.png" alt="" width="855" height="476" /></p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>