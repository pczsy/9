<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修java之异常' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>java之异常</center></div><div class='banquan'>原文出处:本文由博客园博主西西嘛呦提供。<br/>
原文连接:https://www.cnblogs.com/xiximayou/p/12059530.html</div><br>
    <p>（1）任何一种程序设计语言设计的程序在运行时都可能出现错误。</p>
<p>（2）捕获错误最理想的是在编译期间，但有的错误只有在运行时才会发生。</p>
<p>（3）对于这些错误，一般有两种解决方法：</p>
<ul>
<li>遇到错误就终止程序运行；</li>
<li>由程序员在编写程序时，就考虑到可能出现的错误，并进行错误的检测、错误的提示以及错误的处理；</li>
</ul>
<p><span style="color: #ff0000;"><strong>那么什么是编译，什么是运行呢？</strong></span></p>
<p><strong><span style="color: #ff0000;">编译</span></strong>：又分为编译和链接两个过程。编译是将源文件转换为机器可识别的二进制文件。链接是将这些二进制文件组合成系统可以执行的可执行文件。</p>
<p><strong><span style="color: #ff0000;">运行</span></strong>：将编译出来的可执行程序放在系统中进行运行。</p>
<p><strong><span style="color: #ff0000;">Java异常</span></strong>：在java语言中，将程序执行中发生的不正常情况称为异常。</p>
<p>java中的异常用于处理非预期的情况，如文件没找到、网络错误、非法的参数等。</p>
<p><strong><span style="color: #ff0000;">java程序运行过程中的异常可分为两类</span></strong>：</p>
<ul>
<li>Error：JVM系统内部错误、资源耗尽等严重情况；</li>
<li>Exception：其它因编程原因或偶然的外在因素导致的一致性问题，例如空指针访问、试图读取不存在的文件、网络连接中断等。</li>
</ul>
<p><strong><span style="color: #ff0000;">异常处理机制</span></strong>：</p>
<ul>
<li>在编写程序时，经常要在可能出错误的地方加上检测的代码；</li>
<li><span style="color: #000000;">java异常处理：java采用异常处理机制，将异常处理的程序代码集中在一起，与正常的程序代码分开，使得程序简洁，并利于维护；</span></li>
</ul>
<p><span style="color: #ff0000;"><strong>说明</strong></span>：</p>
<ul>
<li>java提供的是异常处理的抓抛模型；</li>
<li>java程序的执行过程中若果出现异常，会自动生成一个异常类对象，该异常对象将被提交给java运行时系统，这个过程称为抛出异常；</li>
<li>如果在一个方法内抛出异常，该异常会被抛到调用的方法中，如果异常没有在调用方法中处理，他继续被抛给这个调用方法的调用者。这个过程会一直持续下去，直到异常被处理。这一个过程被称为捕获异常；</li>
<li>如果一个异常回到main()方法，并且main()也不处理，则程序运行终止；</li>
<li>程序员通常只能处理Exception，而对Error无能为力；</li>
</ul>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">try</span><span style="color: #000000;">{
    </span><span style="color: #008000;">//</span><span style="color: #008000;">需要判断是否出现异常的语句</span>
}<span style="color: #0000ff;">catch</span><span style="color: #000000;">(Exception e){
    </span><span style="color: #008000;">//</span><span style="color: #008000;">捕获异常  </span>
}<span style="color: #0000ff;">finally</span><span style="color: #000000;">{
    </span><span style="color: #008000;">//</span><span style="color: #008000;">无论是否出现异常，都会运行这里的代码</span>
}</pre>
</div>
<p><span style="color: #ff0000;"><strong>注意：如果有多个catch，在捕获到前面的异常后，后面的就不会再捕获了。</strong></span></p>
<p><strong><span style="color: #ff0000;">声明抛出异常</span></strong></p>
<ul>
<li>声明抛出异常是java中处理异常的第二种方式；</li>
<li>如果一个方法可能生成某种异常，但是并不能确定如何处理这个异常，则此方法应显示地声明抛出异常，表明该方法将不对这些异常进行处理，由该方法的调用者进行处理。</li>
<li>在方法中声明throws子句可以声明抛出异常的列表，throws后面的异常类型可以是方法中产生的异常类型，也可以是它的父类；</li>
<li>举例：public void readFile(String file) throws FileNotFoundException{<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;FileInputStream fis = new FileInputStream(file);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</li>

</ul>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">package</span><span style="color: #000000;"> myjava;

</span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> Test3 {
    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> main(String[] args) {
        B b </span>= <span style="color: #0000ff;">new</span><span style="color: #000000;"> B();
        </span><span style="color: #0000ff;">try</span><span style="color: #000000;"> {
            b.test();
        }</span><span style="color: #0000ff;">catch</span><span style="color: #000000;">(Exception e){
            e.printStackTrace();
        }                                
    }
}
</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> B{
    </span><span style="color: #0000ff;">int</span><span style="color: #000000;"> i;
    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span> test() <span style="color: #0000ff;">throws</span><span style="color: #000000;"> Exception{
        B b </span>= <span style="color: #0000ff;">null</span><span style="color: #000000;">;
        System.out.println(b.i);
    }
}</span></pre>
</div>
<p>输出：</p>
<p><img src="./images/java之异常0.png" alt="" /></p>
<p>&nbsp;</p>
<p>注意：当父类方法抛出异常，子类方法继承父类对该方法进行重写时，也需要抛出异常，同时抛出的异常范围不能比父类的大。</p>
<p><strong><span style="color: #ff0000;">人工抛出异常：</span></strong></p>
<ul>
<li>java异常类对象除在程序执行的过程中出现异常时由系统自动生成并抛出，也可根据人工创建并抛出；</li>
<li>首先要生成异常类对象，然后通过throw语句实现抛出操作；</li>
<li>可以抛出的异常必须是throwable或其子类的实例；</li>
</ul>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">package</span><span style="color: #000000;"> myjava;

</span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> Test3 {
    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> main(String[] args) {
        B b </span>= <span style="color: #0000ff;">new</span><span style="color: #000000;"> B();
        </span><span style="color: #0000ff;">try</span><span style="color: #000000;"> {
            b.test(</span>200<span style="color: #000000;">);
        }</span><span style="color: #0000ff;">catch</span><span style="color: #000000;">(Exception e){
            e.printStackTrace();
        }                                
    }
}
</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> B{
    </span><span style="color: #0000ff;">int</span><span style="color: #000000;"> age;
    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span> test(<span style="color: #0000ff;">int</span> age) <span style="color: #0000ff;">throws</span><span style="color: #000000;"> Exception{
        </span><span style="color: #0000ff;">if</span> (age&gt;=0 &amp;&amp; age &lt;= 100<span style="color: #000000;">) {
            System.out.println(</span>"合法"<span style="color: #000000;">);
        }</span><span style="color: #0000ff;">else</span><span style="color: #000000;"> {
            </span><span style="color: #0000ff;">throw</span> <span style="color: #0000ff;">new</span> Exception("年龄不合法"<span style="color: #000000;">);
        }
    }
    
}</span></pre>
</div>
<p>输出：<br /><img src="./images/java之异常1.png" alt="" /></p>
<p>&nbsp;</p>
<p><span style="color: #ff0000;"><strong>创建用户自定义异常类：用户自定义的异常类必须继承现有的异常类</strong></span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">package</span><span style="color: #000000;"> myjava;

</span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> Test3 {
    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> main(String[] args) {
        B b </span>= <span style="color: #0000ff;">new</span><span style="color: #000000;"> B();
        </span><span style="color: #0000ff;">try</span><span style="color: #000000;"> {
            b.regist(</span>-1<span style="color: #000000;">);
        }</span><span style="color: #0000ff;">catch</span><span style="color: #000000;">(Exception e){
            e.printStackTrace();
        }
    }
}
</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> B{
    
    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span> regist(<span style="color: #0000ff;">int</span> num) <span style="color: #0000ff;">throws</span><span style="color: #000000;"> Exception{
        </span><span style="color: #0000ff;">if</span> (num&lt;0<span style="color: #000000;">) {
            </span><span style="color: #0000ff;">throw</span> <span style="color: #0000ff;">new</span> MyException("人数不能为负值",3<span style="color: #000000;">);
        }</span><span style="color: #0000ff;">else</span><span style="color: #000000;"> {
            System.out.println(</span>"登记人数"+<span style="color: #000000;">num);
        }
    } 
}
</span><span style="color: #0000ff;">class</span> MyException <span style="color: #0000ff;">extends</span><span style="color: #000000;"> Exception{
    </span><span style="color: #0000ff;">private</span> <span style="color: #0000ff;">int</span><span style="color: #000000;"> idnumber;
    </span><span style="color: #0000ff;">public</span> MyException(String message,<span style="color: #0000ff;">int</span><span style="color: #000000;"> id) {
        </span><span style="color: #0000ff;">super</span><span style="color: #000000;">(message);
        </span><span style="color: #0000ff;">this</span>.idnumber =<span style="color: #000000;"> id;
    }
    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">int</span><span style="color: #000000;"> getId() {
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> idnumber;
    }
}</span></pre>
</div>
<p>输出：<br /><img src="./images/java之异常2.png" alt="" /></p>
<p>&nbsp;</p>
<p>然后就可以抛出异常：</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">package</span><span style="color: #000000;"> myjava;

</span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> Test3 {
    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> main(String[] args) {
        B b </span>= <span style="color: #0000ff;">new</span><span style="color: #000000;"> B();
        </span><span style="color: #0000ff;">try</span><span style="color: #000000;"> {
            b.message(</span><span style="color: #000000;">);
        }</span><span style="color: #0000ff;">catch</span><span style="color: #000000;">(Exception e){
            e.printStackTrace();
        }
    } 
}
</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> B{
    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span> regist(<span style="color: #0000ff;">int</span> num) <span style="color: #0000ff;">throws</span><span style="color: #000000;"> Exception{
        </span><span style="color: #0000ff;">if</span> (num&lt;0<span style="color: #000000;">) {
            </span><span style="color: #0000ff;">throw</span> <span style="color: #0000ff;">new</span> MyException("人数不能为负值",3<span style="color: #000000;">);
        }</span><span style="color: #0000ff;">else</span><span style="color: #000000;"> {
            System.out.println(</span>"登记人数"+<span style="color: #000000;">num);
        }
    }
    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span> message() <span style="color: #0000ff;">throws</span><span style="color: #000000;"> Exception {
        </span><span style="color: #0000ff;">try</span><span style="color: #000000;"> {
            regist(</span>-1<span style="color: #000000;">);
        }</span><span style="color: #0000ff;">catch</span><span style="color: #000000;"> (MyException e){
            System.out.println(</span>"登记失败，出错种类"+<span style="color: #000000;">e.getId());
        }
        System.out.println(</span>"本次登记结束"<span style="color: #000000;">);
    }
    
}
</span><span style="color: #0000ff;">class</span> MyException <span style="color: #0000ff;">extends</span><span style="color: #000000;"> Exception{
    </span><span style="color: #0000ff;">private</span> <span style="color: #0000ff;">int</span><span style="color: #000000;"> idnumber;
    </span><span style="color: #0000ff;">public</span> MyException(String message,<span style="color: #0000ff;">int</span><span style="color: #000000;"> id) {
        </span><span style="color: #0000ff;">super</span><span style="color: #000000;">(message);
        </span><span style="color: #0000ff;">this</span>.idnumber =<span style="color: #000000;"> id;
    }
    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">int</span><span style="color: #000000;"> getId() {
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> idnumber;
    }
}</span></pre>
</div>
<p>输出：</p>
<p><img src="./images/java之异常3.png" alt="" /></p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>