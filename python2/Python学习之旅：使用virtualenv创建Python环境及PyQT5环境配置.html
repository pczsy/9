<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修Python学习之旅：使用virtualenv创建Python环境及PyQT5环境配置' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>Python学习之旅：使用virtualenv创建Python环境及PyQT5环境配置</center></div><div class='banquan'>原文出处:本文由博客园博主TM0831提供。<br/>
原文连接:https://www.cnblogs.com/TM0831/p/11488892.html</div><br>
    <h1>一、写在前面</h1>
<p>　　从学 Python 的第一天起，我就知道了使用 pip 命令来安装包，从学习爬虫到学习 Web 开发，安装的库越来越多，从 requests 到 lxml，从 Django 到 Flask，各种各样的库都处在一个 Python 环境之中。</p>
<p>　　这种做法对于我这种懒人来说是再适合不过的了，但是这样也是会有问题的。第一个问题在于 Pycharm 的加载速度变得慢了，因为要导入太多包了，而其中很多包对于很多程序来说根本用不上。第二个问题在于很多模块之间是有版本要求的，都需要特定的版本才能执行。可能有人会说去安装那个特定的版本不就好了？然而要是每次都需要这么做呢？岂不是得花费太多时间了嘛，所以是时候学习下使用 virtualenv 来为我们的应用创建一套&ldquo;隔离的&rdquo; Python 运行环境了！</p>
<p>&nbsp;</p>
<h1>二、使用virtualenv</h1>
<h3>1.下载</h3>
<p>　　既然要使用 virtualenv，那第一步肯定得安装了，使用 pip 进行安装即可。</p>
<blockquote>
<p>pip install virtualenv</p>
</blockquote>
<h3>2.创建环境　　</h3>
<p>　　你需要找一个文件夹用来储存创建的环境（例如：my_env），然后使用 virtualenv 命令创建环境，该命令有一个 --no-site-packages 参数，使用了这个参数之后就不会将系统环境中已经有的包复制过来了，当然会有几个基础的包的比如pip。除此之外，如果你的系统中已经装了多个版本的 Python，还可以通过传入路径来指定 Python版本。最后，你需要传入一个名称给创建的 Python 环境命名，这里我使用的是 for_pyqt，很明显就是为 PyQT5 所创建的环境了。</p>
<p>　　最终命令为：</p>
<blockquote>
<p>virtualenv --no-site-packages for_pyqt</p>
</blockquote>
<p>　　下图是运行时的截图：</p>
<p>　　<img src="./images/Python学习之旅：使用virtualenv创建Python环境及PyQT5环境配置0.png" alt="" /></p>
<h3>3.安装第三方包</h3>
<p>　　现在环境已经创建好了，可以看下都有什么文件：</p>
<p>　　<img src="./images/Python学习之旅：使用virtualenv创建Python环境及PyQT5环境配置1.png" alt="" width="578" height="318" /></p>
<p>&nbsp;　　要安装第三方包，还需要从系统的 Python 环境切换到我们创建的 Python 环境之中。具体步骤为进入 Scripts 文件夹，执行 activate 命令，如下所示：</p>
<p>　　<img src="./images/Python学习之旅：使用virtualenv创建Python环境及PyQT5环境配置2.png" alt="" width="580" height="112" /></p>
<p>&nbsp;　　可以看到开头已经变成了 for_pyqt，也就表明已经切换到创建的 Python 环境中了，然后就可以愉快地使用 pip 安装第三方包了！</p>
<h3>&nbsp;4.使用创建的 Python 环境</h3>
<p>　　这里只讲怎么使用 Pycharm 导入我们创建的 Python 环境。</p>
<p>　　在 Pycharm 中打开设置，然后添加 python 解释器，创建一个空的文件夹（例如：venv），再将创建的 Python 环境的路径加进来，最后点击&ldquo;OK&rdquo;就大功告成了。</p>
<p>&nbsp;　　<img src="./images/Python学习之旅：使用virtualenv创建Python环境及PyQT5环境配置3.png" alt="" width="939" height="631" /></p>
<p>&nbsp;</p>
<h1>三、PyQT5环境配置</h1>
<h3>1.为什么是PyQT5？</h3>
<p>　　如果要你用 Python 写 GUI，你会用什么呢？是用 Python 自带的 tkinter？还是 WxPython？又或者是 PyQT5？</p>
<p>　　在这里我首先要淘汰掉的就是 tkinter，原因有二，一是使用麻烦，接口难用，二是做出来的界面颜值是真的低！那 WxPython 和 PyQT5 对比呢？</p>
<p>　　首先这两者都是基于 C++ 开发的，且都跨平台，开发的界面也都还算美观，不过 PyQT5 更加灵活，各组件灵活搭配能实现很多功能，WxPython 在这方面表现就不太好了。因此最终我选择了 PyQT5，虽然它安装起来真的很麻烦！</p>
<h3>2.PyQT5安装</h3>
<p>　　要使用 PyQT5，除了需要安装 PyQT5 这个包之外，还需要安装一个用来支持 PyQT5 的包：pyqt5-tools。所以安装命令为：</p>
<blockquote>
<p>pip install PyQT5</p>
<p>pip install pyqt5-tools</p>
</blockquote>
<p>　　这两个包安装的时候可能会花费很长时间，所以就需要你有一点耐心了==</p>
<h3>3.PyQT5配置</h3>
<p>　　这里还是以 Pycharm 为例来说下 PyQT5 的环境配置。选择"File" =&gt; "Settings" =&gt; "Tools" =&gt; "External Tools"，然后点击&ldquo;+&rdquo;，进行如下配置：</p>
<p>　　<img src="./images/Python学习之旅：使用virtualenv创建Python环境及PyQT5环境配置4.png" alt="" /></p>
<p>&nbsp;　　<img src="./images/Python学习之旅：使用virtualenv创建Python环境及PyQT5环境配置5.png" alt="" /></p>
<p>&nbsp;　　主要就是把 designer.exe 和 pyuic5.exe 的路径加进去，这里给出我的路径以供参考：</p>
<blockquote>
<p>E:\Pycharm\my_env\for_pyqt\Lib\site-packages\pyqt5_tools\Qt\bin\designer.exe</p>
<p>E:\Pycharm\my_env\for_pyqt\Scripts\pyuic5.exe</p>
</blockquote>
<p>　　完成上述操作之后，应该就能看到添加的工具了，如下图：</p>
<p>　　<img src="./images/Python学习之旅：使用virtualenv创建Python环境及PyQT5环境配置6.png" alt="" /></p>
<h3>&nbsp;4.环境验证</h3>
<p>　　首先点击 QtDesigner 创建一个应用，然后保存下来，再在 Pycharm 中右键点击该文件后选择 &ldquo;PyUIC&rdquo;，如果出现如下情况，那么恭喜你，你的环境就装好了！</p>
<p>　　<img src="./images/Python学习之旅：使用virtualenv创建Python环境及PyQT5环境配置7.png" alt="" /></p>
<p>&nbsp;　　至于为什么会出现上面的报错信息，我觉得是因为没有指明文件路径。解决办法就是在命令行中使用如下命令（以test.ui为例）：</p>
<blockquote>
<p>pyuic5 -o ui.py test.ui</p>
</blockquote>
<p>　　该命令不报错的话就会生成一个 ui.py 了，然后你就可以愉快地使用 PyQT5 开发属于你的应用了！</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>