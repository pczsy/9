<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修time,datetime,random,os,sys,hashlib,logging,configparser,re模块' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>time,datetime,random,os,sys,hashlib,logging,configparser,re模块</center></div><div class='banquan'>原文出处:本文由博客园博主Rise_team提供。<br/>
原文连接:https://www.cnblogs.com/rise-home/p/11628319.html</div><br>
    <pre><code><strong>#-----time模块-----</strong><br /><br /></pre>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">print</span>(help(time))  <span style="color: #008000;">#</span><span style="color: #008000;">打印time帮助文档</span>
<span style="color: #008080;"> 2</span> <span style="color: #0000ff;">print</span>(time.time()) <span style="color: #008000;">#</span><span style="color: #008000;">打印时间戳  1569824501.6265268</span>
<span style="color: #008080;"> 3</span> time.sleep(2<span style="color: #000000;">)
</span><span style="color: #008080;"> 4</span> <span style="color: #0000ff;">print</span>(time.perf_counter())  <span style="color: #008000;">#</span><span style="color: #008000;">计时器</span>
<span style="color: #008080;"> 5</span> <span style="color: #0000ff;">print</span>(time.process_time())  <span style="color: #008000;">#</span><span style="color: #008000;">处理时间</span>
<span style="color: #008080;"> 6</span> <span style="color: #0000ff;">print</span>(time.gmtime()) <span style="color: #008000;">#</span><span style="color: #008000;">结构化时间，UTC时间</span>
<span style="color: #008080;"> 7</span> <span style="color: #0000ff;">print</span>(time.localtime()) <span style="color: #008000;">#</span><span style="color: #008000;">本地时间</span>
<span style="color: #008080;"> 8</span> <span style="color: #0000ff;">print</span>(time.strftime(<span style="color: #800000;">"</span><span style="color: #800000;">%Y-%m-%d %H:%M:%S</span><span style="color: #800000;">"</span>,time.localtime())) <span style="color: #008000;">#</span><span style="color: #008000;">2019-09-30 14:51:34</span>
<span style="color: #008080;"> 9</span> <span style="color: #0000ff;">print</span>(time.strftime(<span style="color: #800000;">"</span><span style="color: #800000;">%Y-%m-%d %X</span><span style="color: #800000;">"</span>,time.localtime())) <span style="color: #008000;">#</span><span style="color: #008000;">2019-09-30 14:51:34</span>
<span style="color: #008080;">10</span> 
<span style="color: #008080;">11</span> a = time.strptime(<span style="color: #800000;">"</span><span style="color: #800000;">2019-09-30 14:51:34</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">%Y-%m-%d %H:%M:%S</span><span style="color: #800000;">"</span><span style="color: #000000;">)
</span><span style="color: #008080;">12</span> <span style="color: #008000;">#</span><span style="color: #008000;">time.struct_time(tm_year=2019, tm_mon=9, tm_mday=30, tm_hour=14, tm_min=51, tm_sec=34, tm_wday=0, tm_yday=273, tm_isdst=-1)</span>
<span style="color: #008080;">13</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(a.tm_year)
</span><span style="color: #008080;">14</span> 
<span style="color: #008080;">15</span> <span style="color: #008000;">#</span><span style="color: #008000;">时间戳表现形式：1、结构化时间  2、格式化时间</span>
<span style="color: #008080;">16</span> 
<span style="color: #008080;">17</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(time.ctime())
</span><span style="color: #008080;">18</span> <span style="color: #0000ff;">print</span>(time.mktime(time.localtime())) <span style="color: #008000;">#</span><span style="color: #008000;">转换为时间戳  1569827234.0</span></pre>
</div>
<p>&nbsp;</p>
<pre><code><strong>#-----datetime模块-----</strong><br /><br /></pre>
<pre><code>print(datetime.datetime.now()) #2019-09-30 15:53:13.628849<br /><br /></pre>
<pre><code><strong>#-----random 随机数-----</strong><br /><br /></pre>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;">1</span> <span style="color: #0000ff;">print</span>(random.random()) <span style="color: #008000;">#</span><span style="color: #008000;">0~1之间的数</span>
<span style="color: #008080;">2</span> <span style="color: #0000ff;">print</span>(random.randint(1,3)) <span style="color: #008000;">#</span><span style="color: #008000;">包括3</span>
<span style="color: #008080;">3</span> <span style="color: #0000ff;">print</span>(random.choice([<span style="color: #800000;">'</span><span style="color: #800000;">剪刀</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">石头</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">布</span><span style="color: #800000;">'</span>])) <span style="color: #008000;">#</span><span style="color: #008000;">取列表中的一个值</span>
<span style="color: #008080;">4</span> <span style="color: #0000ff;">print</span>(random.choice(<span style="color: #800000;">'</span><span style="color: #800000;">1</span><span style="color: #800000;">''</span><span style="color: #800000;">2</span><span style="color: #800000;">''</span><span style="color: #800000;">3</span><span style="color: #800000;">''</span><span style="color: #800000;">4</span><span style="color: #800000;">''</span><span style="color: #800000;">5</span><span style="color: #800000;">'</span><span style="color: #000000;">))
</span><span style="color: #008080;">5</span> <span style="color: #0000ff;">print</span>(random.randrange(10)) <span style="color: #008000;">#</span><span style="color: #008000;">在0~9 之间取随机数</span></pre>
</div>
<p>&nbsp;</p>
<pre><code><strong>#-----打乱排序</strong><br /><br /></pre>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;">1</span> iters = [1,2,3,4,5,6,7,8,9<span style="color: #000000;">]
</span><span style="color: #008080;">2</span> a =<span style="color: #000000;"> random.shuffle(iters)
</span><span style="color: #008080;">3</span> <span style="color: #0000ff;">print</span>(iters)  <span style="color: #008000;">#</span><span style="color: #008000;">[5, 8, 1, 4, 3, 7, 9, 6, 2]</span></pre>
</div>
<p>&nbsp;</p>
<pre><code><strong>#多个字符串中选取指定数量的字符组成新字符串：</strong><br /><br /></pre>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;">1</span> <span style="color: #0000ff;">print</span>(<span style="color: #800000;">''</span>.join(random.sample([<span style="color: #800000;">'</span><span style="color: #800000;">a</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">z</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">d</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">w</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">r</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">w</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">y</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">i</span><span style="color: #800000;">'</span>],3)))</pre>
</div>
<p>&nbsp;</p>
<pre><code><strong>#-----随机生成5位验证码</strong></pre>
<div class="cnblogs_code" onclick="cnblogs_code_show('e329439b-be02-4ef2-b580-ead65236efcb')"><img id="code_img_closed_e329439b-be02-4ef2-b580-ead65236efcb" class="code_img_closed" src="./images/time,datetime,random,os,sys,hashlib,logging,configparser,re模块0.png" alt="" /><img id="code_img_opened_e329439b-be02-4ef2-b580-ead65236efcb" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('e329439b-be02-4ef2-b580-ead65236efcb',event)" src="./images/time,datetime,random,os,sys,hashlib,logging,configparser,re模块1.png" alt="" />
<div id="cnblogs_code_open_e329439b-be02-4ef2-b580-ead65236efcb" class="cnblogs_code_hide">
<pre><code><span style="color: #008080;">1</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> random
</span><span style="color: #008080;">2</span> 
<span style="color: #008080;">3</span> <span style="color: #0000ff;">def</span><span style="color: #000000;"> v_code():
</span><span style="color: #008080;">4</span>     <span style="color: #0000ff;">for</span> i <span style="color: #0000ff;">in</span> range(5<span style="color: #000000;">):
</span><span style="color: #008080;">5</span>         code1 = random.randrange(10) <span style="color: #008000;">#</span><span style="color: #008000;">生成一个随机0-9随机数字</span>
<span style="color: #008080;">6</span>         code2 = random.choice(chr(random.randrange(65,91))) <span style="color: #008000;">#</span><span style="color: #008000;">生成一个随机大写字母</span>
<span style="color: #008080;">7</span>         code3 = random.choice(chr(random.randrange(97,123))) <span style="color: #008000;">#</span><span style="color: #008000;">生成一个随机小写字母</span>
<span style="color: #008080;">8</span>         <span style="color: #0000ff;">print</span>(random.choice([code1,code2,code3]),end=<span style="color: #800000;">""</span><span style="color: #000000;">)
</span><span style="color: #008080;">9</span> v_code()</pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>&nbsp;</p>
<pre><code><strong>#-----os 模块-----</strong><br /><br /></pre>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> os
</span><span style="color: #008080;"> 2</span> 
<span style="color: #008080;"> 3</span> <span style="color: #008000;">#</span><span style="color: #008000;">-----os模块(测试系统为linux环境)-----</span>
<span style="color: #008080;"> 4</span> <span style="color: #0000ff;">print</span>(os.getcwd()) <span style="color: #008000;">#</span><span style="color: #008000;">获取当前目录</span>
<span style="color: #008080;"> 5</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(os.getcwd())
</span><span style="color: #008080;"> 6</span> <span style="color: #0000ff;">print</span>(os.chdir(r<span style="color: #800000;">"</span><span style="color: #800000;">/</span><span style="color: #800000;">"</span>)) <span style="color: #008000;">#</span><span style="color: #008000;">修改当前路径</span>
<span style="color: #008080;"> 7</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(os.getcwd())
</span><span style="color: #008080;"> 8</span> os.makedirs(<span style="color: #800000;">'</span><span style="color: #800000;">dream</span><span style="color: #800000;">'</span>) <span style="color: #008000;">#</span><span style="color: #008000;">创建一个文件夹</span>
<span style="color: #008080;"> 9</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(os.getcwd())
</span><span style="color: #008080;">10</span> os.remove(<span style="color: #800000;">'</span><span style="color: #800000;">dream//1.py</span><span style="color: #800000;">'</span>)<span style="color: #008000;">#</span><span style="color: #008000;">删除单个文件1.py</span>
<span style="color: #008080;">11</span> os.removedirs(<span style="color: #800000;">'</span><span style="color: #800000;">dream</span><span style="color: #800000;">'</span>)<span style="color: #008000;">#</span><span style="color: #008000;">只能删除空文件夹，删除dream文件夹</span>
<span style="color: #008080;">12</span> os.mkdir(<span style="color: #800000;">'</span><span style="color: #800000;">wx</span><span style="color: #800000;">'</span>)<span style="color: #008000;">#</span><span style="color: #008000;">生成单个目录</span>
<span style="color: #008080;">13</span> os.mkdir(<span style="color: #800000;">'</span><span style="color: #800000;">wx//qq</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #008080;">14</span> os.removedirs(<span style="color: #800000;">'</span><span style="color: #800000;">wx//qq</span><span style="color: #800000;">'</span>)<span style="color: #008000;">#</span><span style="color: #008000;">只能删除空文件夹</span>
<span style="color: #008080;">15</span> os.rmdir(<span style="color: #800000;">'</span><span style="color: #800000;">wx</span><span style="color: #800000;">'</span>) <span style="color: #008000;">#</span><span style="color: #008000;">删除文件夹</span>
<span style="color: #008080;">16</span> os.makedirs(<span style="color: #800000;">'</span><span style="color: #800000;">dream//test//rise</span><span style="color: #800000;">'</span>) <span style="color: #008000;">#</span><span style="color: #008000;">创建对多文件夹</span>
<span style="color: #008080;">17</span> a = os.listdir(r<span style="color: #800000;">'</span><span style="color: #800000;">/home/rise/PycharmProjects/mode1/02部分/week4/day3</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #008080;">18</span> <span style="color: #0000ff;">print</span>(a) <span style="color: #008000;">#</span><span style="color: #008000;">列出指定目录下的所有文件和子目录</span>
<span style="color: #008080;">19</span> os.remove(<span style="color: #800000;">'</span><span style="color: #800000;">1.py</span><span style="color: #800000;">'</span>) <span style="color: #008000;">#</span><span style="color: #008000;">只能删除文件，不能删除文件夹</span>
<span style="color: #008080;">20</span> os.rename(<span style="color: #800000;">'</span><span style="color: #800000;">1.py</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">test.py</span><span style="color: #800000;">'</span>) <span style="color: #008000;">#</span><span style="color: #008000;">重命名文件</span>
<span style="color: #008080;">21</span> <span style="color: #0000ff;">print</span>(os.name)<span style="color: #008000;">#</span><span style="color: #008000;">输出字符串指示当前使用平台。win-&gt;'nt'; Linux-&gt;'posix'</span>
<span style="color: #008080;">22</span> info = os.stat(r<span style="color: #800000;">"</span><span style="color: #800000;">day3.1.txt</span><span style="color: #800000;">"</span>)  <span style="color: #008000;">#</span><span style="color: #008000;">获取文件信息</span>
<span style="color: #008080;">23</span> <span style="color: #0000ff;">print</span>(info.st_size) <span style="color: #008000;">#</span><span style="color: #008000;">2758</span>
<span style="color: #008080;">24</span> <span style="color: #0000ff;">print</span>(os.sep) <span style="color: #008000;">#</span><span style="color: #008000;"> / #路径分割符</span>
<span style="color: #008080;">25</span> <span style="color: #0000ff;">print</span>(os.pathsep) <span style="color: #008000;">#</span><span style="color: #008000;">环境变量风格符</span>
<span style="color: #008080;">26</span> os.system(<span style="color: #800000;">"</span><span style="color: #800000;">ls</span><span style="color: #800000;">"</span>) <span style="color: #008000;">#</span><span style="color: #008000;">执行shell命令</span>
<span style="color: #008080;">27</span> <span style="color: #0000ff;">print</span>(os.path.abspath(<span style="color: #800000;">'</span><span style="color: #800000;">./day3.1.txt</span><span style="color: #800000;">'</span>)) <span style="color: #008000;">#</span><span style="color: #008000;">/home绝对路径 /rise/PycharmProjects/mode1/02部分/week4/day3/day3.1.txt</span>
<span style="color: #008080;">28</span> <span style="color: #0000ff;">print</span>(os.path.split(<span style="color: #800000;">'</span><span style="color: #800000;">/rise/PycharmProjects/mode1/02部分/week4/day3/day3.1.txt</span><span style="color: #800000;">'</span>))  <span style="color: #008000;">#</span><span style="color: #008000;">路径分割，分割为路径和文件名</span>
<span style="color: #008080;">29</span> <span style="color: #008000;">#</span><span style="color: #008000;">('/rise/PycharmProjects/mode1/02部分/week4/day3', 'day3.1.txt')</span>
<span style="color: #008080;">30</span> <span style="color: #0000ff;">print</span>(os.path.dirname(<span style="color: #800000;">'</span><span style="color: #800000;">/rise/PycharmProjects/mode1/02部分/week4/day3/day3.1.txt</span><span style="color: #800000;">'</span>)) <span style="color: #008000;">#</span><span style="color: #008000;">返回绝对路径上一层</span>
<span style="color: #008080;">31</span> <span style="color: #0000ff;">print</span>(os.environ) <span style="color: #008000;">#</span><span style="color: #008000;">显示环境变量</span>
<span style="color: #008080;">32</span> <span style="color: #0000ff;">print</span>(os.name)<span style="color: #008000;">#</span><span style="color: #008000;">输出字符串指示当前使用平台。win-&gt;'nt'; Linux-&gt;'posix'</span>
<span style="color: #008080;">33</span> <span style="color: #0000ff;">print</span>(os.path.dirname(<span style="color: #800080;">__file__</span>))   <span style="color: #008000;">#</span><span style="color: #008000;">输出当前文件路径</span>
<span style="color: #008080;">34</span> /home/rise/PycharmProjects/mode1/02部分/week4/day3</pre>
</div>
<p>&nbsp;</p>
<pre><code><strong>#-----sys模块(与Python解释器进行交互)-----</strong><br /><br /></pre>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;">1</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> sys
</span><span style="color: #008080;">2</span> 
<span style="color: #008080;">3</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(sys.argv)
</span><span style="color: #008080;">4</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(sys.exit())
</span><span style="color: #008080;">5</span> <span style="color: #0000ff;">print</span>(sys.path) <span style="color: #008000;">#</span><span style="color: #008000;">搜寻模块路径的列表</span>
<span style="color: #008080;">6</span> <span style="color: #0000ff;">print</span>(sys.version)<span style="color: #008000;">#</span><span style="color: #008000;">获取python解释器版本信息</span>
<span style="color: #008080;">7</span> <span style="color: #0000ff;">print</span>(sys.platform) <span style="color: #008000;">#</span><span style="color: #008000;">返回操作系统平台名称</span></pre>
</div>
<p>&nbsp;</p>
<pre><code><strong>#-----hashlib模块-----</strong><br /><br /></pre>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> hashlib
</span><span style="color: #008080;"> 2</span> 
<span style="color: #008080;"> 3</span> <span style="color: #008000;">#</span><span style="color: #008000;">----md5</span>
<span style="color: #008080;"> 4</span> m1 =<span style="color: #000000;"> hashlib.md5()
</span><span style="color: #008080;"> 5</span> m1.update(<span style="color: #800000;">"</span><span style="color: #800000;">learn english</span><span style="color: #800000;">"</span>.encode(<span style="color: #800000;">"</span><span style="color: #800000;">utf-8</span><span style="color: #800000;">"</span>)) <span style="color: #008000;">#</span><span style="color: #008000;">编码转换,update 处理数据类型为byte类型</span>
<span style="color: #008080;"> 6</span> <span style="color: #0000ff;">print</span>(m1.hexdigest()) <span style="color: #008000;">#</span><span style="color: #008000;">51e219953881565e51a2c54c4947c3c0</span>
<span style="color: #008080;"> 7</span> 
<span style="color: #008080;"> 8</span> <span style="color: #008000;">#</span><span style="color: #008000;">----sha256</span>
<span style="color: #008080;"> 9</span> <span style="color: #000000;">hashlib.sha256
</span><span style="color: #008080;">10</span> m2 =<span style="color: #000000;"> hashlib.sha256()
</span><span style="color: #008080;">11</span> m2.update(<span style="color: #800000;">"</span><span style="color: #800000;">learn english</span><span style="color: #800000;">"</span>.encode(<span style="color: #800000;">"</span><span style="color: #800000;">utf-8</span><span style="color: #800000;">"</span>)) <span style="color: #008000;">#</span><span style="color: #008000;">编码转换,update 处理数据类型为byte类型</span>
<span style="color: #008080;">12</span> <span style="color: #0000ff;">print</span>(m2.hexdigest()) <span style="color: #008000;">#</span><span style="color: #008000;">c980e31678b5f1ac8ee13ccebf192320a98714600c0e971555c221509e13efe0</span></pre>
</div>
<p>&nbsp;</p>
<pre><code><strong>#-----logging模块-----</strong><br /><br /></pre>
<div class="cnblogs_code" onclick="cnblogs_code_show('ddec6303-1de4-48b1-9eee-0e523b544e7f')"><img id="code_img_closed_ddec6303-1de4-48b1-9eee-0e523b544e7f" class="code_img_closed" src="./images/time,datetime,random,os,sys,hashlib,logging,configparser,re模块0.png" alt="" /><img id="code_img_opened_ddec6303-1de4-48b1-9eee-0e523b544e7f" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('ddec6303-1de4-48b1-9eee-0e523b544e7f',event)" src="./images/time,datetime,random,os,sys,hashlib,logging,configparser,re模块1.png" alt="" />
<div id="cnblogs_code_open_ddec6303-1de4-48b1-9eee-0e523b544e7f" class="cnblogs_code_hide">
<pre><code><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> logging
</span><span style="color: #008080;"> 2</span> 
<span style="color: #008080;"> 3</span> logging.basicConfig(level=<span style="color: #000000;">logging.INFO,
</span><span style="color: #008080;"> 4</span>                     format=<span style="color: #800000;">'</span><span style="color: #800000;">%(asctime)s %(filename)s [line:%(lineno)d] %(levelname)s %(message)s</span><span style="color: #800000;">'</span><span style="color: #000000;">,
</span><span style="color: #008080;"> 5</span>                     datefmt=<span style="color: #800000;">'</span><span style="color: #800000;">%a,%d %m %Y %H:%M:%S</span><span style="color: #800000;">'</span><span style="color: #000000;">,
</span><span style="color: #008080;"> 6</span> 
<span style="color: #008080;"> 7</span>                     filename=<span style="color: #800000;">'</span><span style="color: #800000;">text.log</span><span style="color: #800000;">'</span>,  <span style="color: #008000;">#</span><span style="color: #008000;">filename 改变输出方式</span>
<span style="color: #008080;"> 8</span>                     filemode=<span style="color: #800000;">'</span><span style="color: #800000;">a</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #008080;"> 9</span> 
<span style="color: #008080;">10</span> logging.debug(<span style="color: #800000;">'</span><span style="color: #800000;">debug message1</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #008080;">11</span> logging.info(<span style="color: #800000;">'</span><span style="color: #800000;">info message2</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #008080;">12</span> logging.warning(<span style="color: #800000;">'</span><span style="color: #800000;">warning message3</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #008080;">13</span> logging.error(<span style="color: #800000;">'</span><span style="color: #800000;">error message4</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #008080;">14</span> logging.critical(<span style="color: #800000;">'</span><span style="color: #800000;">critical message5</span><span style="color: #800000;">'</span>)</pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>&nbsp;</p>
<pre><code><strong>#-----logging屏幕与文件同时输出-----</strong><br /><br /></pre>
<div class="cnblogs_code" onclick="cnblogs_code_show('22f6b645-9e59-42ce-b0ac-9fbb6a2113ef')"><img id="code_img_closed_22f6b645-9e59-42ce-b0ac-9fbb6a2113ef" class="code_img_closed" src="./images/time,datetime,random,os,sys,hashlib,logging,configparser,re模块0.png" alt="" /><img id="code_img_opened_22f6b645-9e59-42ce-b0ac-9fbb6a2113ef" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('22f6b645-9e59-42ce-b0ac-9fbb6a2113ef',event)" src="./images/time,datetime,random,os,sys,hashlib,logging,configparser,re模块1.png" alt="" />
<div id="cnblogs_code_open_22f6b645-9e59-42ce-b0ac-9fbb6a2113ef" class="cnblogs_code_hide">
<pre><code><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> logging
</span><span style="color: #008080;"> 2</span> 
<span style="color: #008080;"> 3</span> logger =<span style="color: #000000;"> logging.getLogger()
</span><span style="color: #008080;"> 4</span> <span style="color: #008000;">#</span><span style="color: #008000;">创建一个handler,用于写入日志文件</span>
<span style="color: #008080;"> 5</span> fh = logging.FileHandler(<span style="color: #800000;">'</span><span style="color: #800000;">test.log</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #008080;"> 6</span> 
<span style="color: #008080;"> 7</span> <span style="color: #008000;">#</span><span style="color: #008000;">在创建一个handler，用于输出到控制台(屏幕输出)</span>
<span style="color: #008080;"> 8</span> ch =<span style="color: #000000;"> logging.StreamHandler()
</span><span style="color: #008080;"> 9</span> 
<span style="color: #008080;">10</span> formatter = logging.Formatter(<span style="color: #800000;">'</span><span style="color: #800000;">%(asctime)s - %(name)s - %(levelname)s - %(message)s</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #008080;">11</span> 
<span style="color: #008080;">12</span> <span style="color: #000000;">fh.setFormatter(formatter)
</span><span style="color: #008080;">13</span> <span style="color: #000000;">ch.setFormatter(formatter)
</span><span style="color: #008080;">14</span> 
<span style="color: #008080;">15</span> logger.addHandler(fh) <span style="color: #008000;">#</span><span style="color: #008000;">添加文件输出</span>
<span style="color: #008080;">16</span> logger.addHandler(ch) <span style="color: #008000;">#</span><span style="color: #008000;">添加屏幕输出</span>
<span style="color: #008080;">17</span> 
<span style="color: #008080;">18</span> 
<span style="color: #008080;">19</span> logger.setLevel(logging.DEBUG) <span style="color: #008000;">#</span><span style="color: #008000;">日志级别</span>
<span style="color: #008080;">20</span> 
<span style="color: #008080;">21</span> logger.debug(<span style="color: #800000;">'</span><span style="color: #800000;">debug message1</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #008080;">22</span> logger.info(<span style="color: #800000;">'</span><span style="color: #800000;">info message2</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #008080;">23</span> logger.warning(<span style="color: #800000;">'</span><span style="color: #800000;">warning message3</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #008080;">24</span> logger.error(<span style="color: #800000;">'</span><span style="color: #800000;">error message4</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #008080;">25</span> logger.critical(<span style="color: #800000;">'</span><span style="color: #800000;">critical message5</span><span style="color: #800000;">'</span>)</pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>&nbsp;</p>
<pre><code><strong>#-----configparser（创建配置文件）-----</strong><br /><br /></pre>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> configparser
</span><span style="color: #008080;"> 2</span> 
<span style="color: #008080;"> 3</span> config =<span style="color: #000000;"> configparser.ConfigParser()
</span><span style="color: #008080;"> 4</span> config[<span style="color: #800000;">"</span><span style="color: #800000;">DEFAULT</span><span style="color: #800000;">"</span>] =<span style="color: #000000;"> {
</span><span style="color: #008080;"> 5</span>     <span style="color: #800000;">"</span><span style="color: #800000;">Server</span><span style="color: #800000;">"</span>:45<span style="color: #000000;">,
</span><span style="color: #008080;"> 6</span>     <span style="color: #800000;">"</span><span style="color: #800000;">Compression</span><span style="color: #800000;">"</span>:<span style="color: #800000;">"</span><span style="color: #800000;">yes</span><span style="color: #800000;">"</span><span style="color: #000000;">,
</span><span style="color: #008080;"> 7</span>     <span style="color: #800000;">"</span><span style="color: #800000;">ComprewssionLevel</span><span style="color: #800000;">"</span>:9<span style="color: #000000;">}
</span><span style="color: #008080;"> 8</span> config[<span style="color: #800000;">'</span><span style="color: #800000;">dream</span><span style="color: #800000;">'</span>] =<span style="color: #000000;"> {
</span><span style="color: #008080;"> 9</span>     <span style="color: #800000;">"</span><span style="color: #800000;">name</span><span style="color: #800000;">"</span>:<span style="color: #800000;">"</span><span style="color: #800000;">dream</span><span style="color: #800000;">"</span><span style="color: #000000;">,
</span><span style="color: #008080;">10</span>     <span style="color: #800000;">"</span><span style="color: #800000;">age</span><span style="color: #800000;">"</span>:21<span style="color: #000000;">,
</span><span style="color: #008080;">11</span>     <span style="color: #800000;">"</span><span style="color: #800000;">sex</span><span style="color: #800000;">"</span>:<span style="color: #800000;">"</span><span style="color: #800000;">male</span><span style="color: #800000;">"</span><span style="color: #000000;">}
</span><span style="color: #008080;">12</span> config[<span style="color: #800000;">'</span><span style="color: #800000;">test</span><span style="color: #800000;">'</span>] =<span style="color: #000000;">{
</span><span style="color: #008080;">13</span>     <span style="color: #800000;">"</span><span style="color: #800000;">ttt</span><span style="color: #800000;">"</span>:<span style="color: #800000;">"</span><span style="color: #800000;">t</span><span style="color: #800000;">"</span><span style="color: #000000;">,
</span><span style="color: #008080;">14</span>     <span style="color: #800000;">"</span><span style="color: #800000;">aaa</span><span style="color: #800000;">"</span>:<span style="color: #800000;">"</span><span style="color: #800000;">a</span><span style="color: #800000;">"</span><span style="color: #000000;">,
</span><span style="color: #008080;">15</span>     <span style="color: #800000;">"</span><span style="color: #800000;">bbb</span><span style="color: #800000;">"</span>:<span style="color: #800000;">'</span><span style="color: #800000;">b</span><span style="color: #800000;">'</span><span style="color: #000000;">}
</span><span style="color: #008080;">16</span> with open(<span style="color: #800000;">"</span><span style="color: #800000;">config.ini</span><span style="color: #800000;">"</span>,<span style="color: #800000;">'</span><span style="color: #800000;">w</span><span style="color: #800000;">'</span><span style="color: #000000;">) as configfile:
</span><span style="color: #008080;">17</span>     config.write(configfile)</pre>
</div>
<p>&nbsp;</p>
<pre><code><strong>#-----输出结果（配置文件）</strong><br /><br /></pre>
<div class="cnblogs_code" onclick="cnblogs_code_show('92ee82a3-9155-47cc-8752-36f7eaf80f0a')"><img id="code_img_closed_92ee82a3-9155-47cc-8752-36f7eaf80f0a" class="code_img_closed" src="./images/time,datetime,random,os,sys,hashlib,logging,configparser,re模块0.png" alt="" /><img id="code_img_opened_92ee82a3-9155-47cc-8752-36f7eaf80f0a" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('92ee82a3-9155-47cc-8752-36f7eaf80f0a',event)" src="./images/time,datetime,random,os,sys,hashlib,logging,configparser,re模块1.png" alt="" />
<div id="cnblogs_code_open_92ee82a3-9155-47cc-8752-36f7eaf80f0a" class="cnblogs_code_hide">
<pre><code><span style="color: #008080;"> 1</span> <span style="color: #000000;">[DEFAULT]
</span><span style="color: #008080;"> 2</span> server = 45
<span style="color: #008080;"> 3</span> compression =<span style="color: #000000;"> yes
</span><span style="color: #008080;"> 4</span> comprewssionlevel = 9
<span style="color: #008080;"> 5</span> 
<span style="color: #008080;"> 6</span> <span style="color: #000000;">[dream]
</span><span style="color: #008080;"> 7</span> name =<span style="color: #000000;"> dream
</span><span style="color: #008080;"> 8</span> age = 21
<span style="color: #008080;"> 9</span> sex =<span style="color: #000000;"> male
</span><span style="color: #008080;">10</span> 
<span style="color: #008080;">11</span> <span style="color: #000000;">[test]
</span><span style="color: #008080;">12</span> ttt =<span style="color: #000000;"> t
</span><span style="color: #008080;">13</span> aaa =<span style="color: #000000;"> a
</span><span style="color: #008080;">14</span> bbb = b</pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>&nbsp;</p>
<pre><code><strong>#-----读取</strong><br /><br /></pre>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;"> 1</span> config =<span style="color: #000000;"> configparser.ConfigParser()
</span><span style="color: #008080;"> 2</span> config.read(<span style="color: #800000;">"</span><span style="color: #800000;">config.ini</span><span style="color: #800000;">"</span><span style="color: #000000;">)
</span><span style="color: #008080;"> 3</span> <span style="color: #0000ff;">print</span>(config.sections()) <span style="color: #008000;">#</span><span style="color: #008000;">除去默认的，['dream']</span>
<span style="color: #008080;"> 4</span> <span style="color: #0000ff;">print</span>(config.defaults()) <span style="color: #008000;">#</span><span style="color: #008000;">生成有序的字典，打印默认中的信息。OrderedDict([('server', '45'), ('compression', 'yes'), ('comprewssionlevel', '9')])</span>
<span style="color: #008080;"> 5</span> <span style="color: #0000ff;">print</span>(config.default_section) <span style="color: #008000;">#</span><span style="color: #008000;">DEFAULT</span>
<span style="color: #008080;"> 6</span> <span style="color: #0000ff;">print</span>(config[<span style="color: #800000;">'</span><span style="color: #800000;">DEFAULT</span><span style="color: #800000;">'</span>][<span style="color: #800000;">'</span><span style="color: #800000;">server</span><span style="color: #800000;">'</span>])  <span style="color: #008000;">#</span><span style="color: #008000;">类似字典取法,45</span>
<span style="color: #008080;"> 7</span> 
<span style="color: #008080;"> 8</span> <span style="color: #0000ff;">for</span> key <span style="color: #0000ff;">in</span> config[<span style="color: #800000;">"</span><span style="color: #800000;">dream</span><span style="color: #800000;">"</span><span style="color: #000000;">]:
</span><span style="color: #008080;"> 9</span>     <span style="color: #0000ff;">print</span>(key,end=<span style="color: #800000;">"</span> <span style="color: #800000;">"</span><span style="color: #000000;">)
</span><span style="color: #008080;">10</span> <span style="color: #008000;">#</span><span style="color: #008000;">除打印需求的，同时打印DEFAULT（默认的）name age sex server compression comprewssionlevel</span></pre>
</div>
<p>&nbsp;</p>
<pre><code><strong>#-----修改</strong><br /><br /></pre>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;"> 1</span> config =<span style="color: #000000;"> configparser.ConfigParser()
</span><span style="color: #008080;"> 2</span> config.read(<span style="color: #800000;">"</span><span style="color: #800000;">config.ini</span><span style="color: #800000;">"</span>) <span style="color: #008000;">#</span><span style="color: #008000;">读取文件</span>
<span style="color: #008080;"> 3</span> config.remove_section(<span style="color: #800000;">'</span><span style="color: #800000;">dream</span><span style="color: #800000;">'</span>) <span style="color: #008000;">#</span><span style="color: #008000;">删除分组['dream']的配置文件</span>
<span style="color: #008080;"> 4</span> config.write(open(<span style="color: #800000;">"</span><span style="color: #800000;">config1.ini</span><span style="color: #800000;">"</span>,<span style="color: #800000;">'</span><span style="color: #800000;">w</span><span style="color: #800000;">'</span>)) <span style="color: #008000;">#</span><span style="color: #008000;">删除后另存为config1文件</span>
<span style="color: #008080;"> 5</span> 
<span style="color: #008080;"> 6</span> config.read(<span style="color: #800000;">"</span><span style="color: #800000;">config1.ini</span><span style="color: #800000;">"</span>) <span style="color: #008000;">#</span><span style="color: #008000;">读取文件</span>
<span style="color: #008080;"> 7</span> ter1 = config.has_section(<span style="color: #800000;">'</span><span style="color: #800000;">dream</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #008080;"> 8</span> <span style="color: #0000ff;">print</span>(ter1) <span style="color: #008000;">#</span><span style="color: #008000;">检查是否在,返回False</span>
<span style="color: #008080;"> 9</span> 
<span style="color: #008080;">10</span> config.remove_option(<span style="color: #800000;">'</span><span style="color: #800000;">test</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">ttt</span><span style="color: #800000;">'</span>) <span style="color: #008000;">#</span><span style="color: #008000;">删除分组中的部分</span>
<span style="color: #008080;">11</span> config.write(open(<span style="color: #800000;">'</span><span style="color: #800000;">config2.ini</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">w</span><span style="color: #800000;">'</span><span style="color: #000000;">))
</span><span style="color: #008080;">12</span> 
<span style="color: #008080;">13</span> config.read(<span style="color: #800000;">'</span><span style="color: #800000;">config2.ini</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #008080;">14</span> ter2 = config.has_option(<span style="color: #800000;">'</span><span style="color: #800000;">test</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">ttt</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #008080;">15</span> <span style="color: #0000ff;">print</span>(ter2) <span style="color: #008000;">#</span><span style="color: #008000;">False</span>
<span style="color: #008080;">16</span> 
<span style="color: #008080;">17</span> config.add_section(<span style="color: #800000;">"</span><span style="color: #800000;">h1</span><span style="color: #800000;">"</span><span style="color: #000000;">)
</span><span style="color: #008080;">18</span> config.write(open(<span style="color: #800000;">"</span><span style="color: #800000;">config4.ini</span><span style="color: #800000;">"</span>,<span style="color: #800000;">'</span><span style="color: #800000;">w</span><span style="color: #800000;">'</span>)) <span style="color: #008000;">#</span><span style="color: #008000;">生成分组[h1]</span>
<span style="color: #008080;">19</span> 
<span style="color: #008080;">20</span> config.read(<span style="color: #800000;">"</span><span style="color: #800000;">config2.ini</span><span style="color: #800000;">"</span><span style="color: #000000;">)
</span><span style="color: #008080;">21</span> config.set(<span style="color: #800000;">'</span><span style="color: #800000;">test</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">aaa</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">a1</span><span style="color: #800000;">'</span>) <span style="color: #008000;">#</span><span style="color: #008000;">修改['h1']['aaa'] 相关的值，将'a'改为'a1'</span>
<span style="color: #008080;">22</span> config.write(open(<span style="color: #800000;">"</span><span style="color: #800000;">config3.ini</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">w</span><span style="color: #800000;">"</span>))</pre>
</div>
<p>&nbsp;</p>
<pre><code><strong>#-----re正则表达式：匹配字符串-----</strong><br /><br /></pre>
<pre><code><strong>#正则表达式的方法：</strong><br /><br /><strong>    1、re.findall() :所有结果都返回到一个列表里</strong><br /><strong>    2、re.search()  :返回对象(object)，对象调用group()返回结果</strong><br /><strong>    3、match() ：只在字符串开始匹配</strong><br /><strong>    4、re.split() :分割</strong><br /><strong>    5、re.sub() :替换</strong><br /><strong>    6、re.compile ： 共用规则，多次调用规则进行匹配</strong><br /><br /></pre>
<pre><code><strong>#string（字符串）提供匹配方法是完全匹配</strong><br /><br /></pre>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> re
</span><span style="color: #008080;"> 2</span> 
<span style="color: #008080;"> 3</span> <span style="color: #008000;">#</span><span style="color: #008000;">源字符 . ^ $ * + ? {} ( ) \</span>
<span style="color: #008080;"> 4</span> 
<span style="color: #008080;"> 5</span> <span style="color: #008000;">#</span><span style="color: #008000;">通配符 . (点代指任意一个字符,换行符\n ，无法匹配到)</span>
<span style="color: #008080;"> 6</span> ret1 = re.findall(<span style="color: #800000;">"</span><span style="color: #800000;">w..l</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">hello world</span><span style="color: #800000;">"</span><span style="color: #000000;">)
</span><span style="color: #008080;"> 7</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(ret1)
</span><span style="color: #008080;"> 8</span> 
<span style="color: #008080;"> 9</span> <span style="color: #008000;">#</span><span style="color: #008000;"> ^  (以最开始的位置匹配)</span>
<span style="color: #008080;">10</span> ret2 = re.findall(<span style="color: #800000;">'</span><span style="color: #800000;">^a..n</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">adfnddfdafffn</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #008080;">11</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(ret2)
</span><span style="color: #008080;">12</span> 
<span style="color: #008080;">13</span> <span style="color: #008000;">#</span><span style="color: #008000;"> $ (以结尾的位置匹配)</span>
<span style="color: #008080;">14</span> ret3 = re.findall(<span style="color: #800000;">'</span><span style="color: #800000;">a..n$</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">addnadfddfkdafdn</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #008080;">15</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(ret3)
</span><span style="color: #008080;">16</span> 
<span style="color: #008080;">17</span> <span style="color: #008000;">#</span><span style="color: #008000;"> * （重复匹配）[0,+00]</span>
<span style="color: #008080;">18</span> ret4 = re.findall(<span style="color: #800000;">'</span><span style="color: #800000;">abc*</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">abcccccc</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #008080;">19</span> <span style="color: #0000ff;">print</span>(ret4)<span style="color: #008000;">#</span><span style="color: #008000;">贪婪匹配方法['abcccccc']</span>
<span style="color: #008080;">20</span> 
<span style="color: #008080;">21</span> <span style="color: #008000;">#</span><span style="color: #008000;"> +（重复匹配）[1,+00]</span>
<span style="color: #008080;">22</span> ret5 = re.findall(<span style="color: #800000;">'</span><span style="color: #800000;">abc+</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">abcccccf</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #008080;">23</span> <span style="color: #0000ff;">print</span>(ret5) <span style="color: #008000;">#</span><span style="color: #008000;">['abccccc']</span>
<span style="color: #008080;">24</span> 
<span style="color: #008080;">25</span> <span style="color: #008000;">#</span><span style="color: #008000;"> ? 惰性匹配[0,1]</span>
<span style="color: #008080;">26</span> ret6 = re.findall(<span style="color: #800000;">'</span><span style="color: #800000;">abc?</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">abccabdcccc</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #008080;">27</span> <span style="color: #0000ff;">print</span>(ret6)<span style="color: #008000;">#</span><span style="color: #008000;"> [0,1]</span>
<span style="color: #008080;">28</span> 
<span style="color: #008080;">29</span> <span style="color: #008000;">#</span><span style="color: #008000;"> {}</span>
<span style="color: #008080;">30</span> ret7 = re.findall(<span style="color: #800000;">'</span><span style="color: #800000;">a{5}b</span><span style="color: #800000;">'</span>,<span style="color: #800000;">"</span><span style="color: #800000;">eaaaaaabbbcdfgd</span><span style="color: #800000;">"</span><span style="color: #000000;">)
</span><span style="color: #008080;">31</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(ret7)
</span><span style="color: #008080;">32</span> ret8 = re.findall(<span style="color: #800000;">'</span><span style="color: #800000;">a{1,3}b</span><span style="color: #800000;">'</span>,<span style="color: #800000;">"</span><span style="color: #800000;">eaaaaaabbbcdfgd</span><span style="color: #800000;">"</span><span style="color: #000000;">)
</span><span style="color: #008080;">33</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(ret8)
</span><span style="color: #008080;">34</span> 
<span style="color: #008080;">35</span> <span style="color: #008000;">#</span><span style="color: #008000;"> []</span>
<span style="color: #008080;">36</span> ret9 = re.findall(<span style="color: #800000;">'</span><span style="color: #800000;">a[bc]d</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">abdcacdabcd</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #008080;">37</span> <span style="color: #0000ff;">print</span>(ret9) <span style="color: #008000;">#</span><span style="color: #008000;">[bc] 之间的关系为或的关系</span>
<span style="color: #008080;">38</span> 
<span style="color: #008080;">39</span> ret10 = re.findall(<span style="color: #800000;">'</span><span style="color: #800000;">abc*?</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">abcdffgabccgh</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #008080;">40</span> <span style="color: #0000ff;">print</span>(ret10) <span style="color: #008000;">#</span><span style="color: #008000;"> ? 惰性匹配</span>
<span style="color: #008080;">41</span> 
<span style="color: #008080;">42</span> <span style="color: #008000;">#</span><span style="color: #008000;">[^a-z] 取反</span>
<span style="color: #008080;">43</span> ret = re.findall(<span style="color: #800000;">"</span><span style="color: #800000;">[^a-z]</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">123435fsfafdfsd</span><span style="color: #800000;">"</span><span style="color: #000000;">)
</span><span style="color: #008080;">44</span> <span style="color: #0000ff;">print</span>(ret) <span style="color: #008000;">#</span><span style="color: #008000;">['1', '2', '3', '4', '3', '5']</span>
<span style="color: #008080;">45</span> 
<span style="color: #008080;">46</span> <span style="color: #008000;">#</span><span style="color: #008000;">------ [] 字符集： 取消元字符的特殊功能(\ ^ -)</span>
<span style="color: #008080;">47</span> 
<span style="color: #008080;">48</span> ret = re.findall(<span style="color: #800000;">'</span><span style="color: #800000;">a[bc,*]d</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">abdcacdabca*d</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #008080;">49</span> <span style="color: #0000ff;">print</span>(ret) <span style="color: #008000;">#</span><span style="color: #008000;">['abd', 'acd', 'a*d']</span>
<span style="color: #008080;">50</span> 
<span style="color: #008080;">51</span> ret = re.findall(<span style="color: #800000;">'</span><span style="color: #800000;">[1-9,a-z,A-Z]</span><span style="color: #800000;">'</span>,<span style="color: #800000;">"</span><span style="color: #800000;">12wff7ofWHfe</span><span style="color: #800000;">"</span><span style="color: #000000;">)
</span><span style="color: #008080;">52</span> <span style="color: #0000ff;">print</span>(ret) <span style="color: #008000;">#</span><span style="color: #008000;">['1', '2', 'w', 'f', 'f', '7', 'o', 'f', 'W', 'H', 'f', 'e']</span>
<span style="color: #008080;">53</span> 
<span style="color: #008080;">54</span> <span style="color: #008000;">#</span><span style="color: #008000;"> \ (1、反斜杠后面的元字符去掉特殊功能 2、反斜杠后面跟普通字符实现特殊功能)</span>
<span style="color: #008080;">55</span> ret = re.findall(<span style="color: #800000;">"</span><span style="color: #800000;">\d{11}</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">asda1234454676677dd</span><span style="color: #800000;">"</span><span style="color: #000000;">)
</span><span style="color: #008080;">56</span> <span style="color: #0000ff;">print</span>(ret) <span style="color: #008000;">#</span><span style="color: #008000;">['12344546766']</span>
<span style="color: #008080;">57</span> 
<span style="color: #008080;">58</span> <span style="color: #008000;">#</span><span style="color: #008000;">\w 匹配任何字母数字字符</span>
<span style="color: #008080;">59</span> ret = re.findall(<span style="color: #800000;">"</span><span style="color: #800000;">\w</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">asda1237d</span><span style="color: #800000;">"</span><span style="color: #000000;">)
</span><span style="color: #008080;">60</span> <span style="color: #0000ff;">print</span>(ret) <span style="color: #008000;">#</span><span style="color: #008000;">['a', 's', 'd', 'a', '1', '2', '3', '7', 'd']</span>
<span style="color: #008080;">61</span> ret1 = re.findall(<span style="color: #800000;">"</span><span style="color: #800000;">\w+</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">i am a boy</span><span style="color: #800000;">"</span><span style="color: #000000;">)
</span><span style="color: #008080;">62</span> <span style="color: #0000ff;">print</span>(ret1) <span style="color: #008000;">#</span><span style="color: #008000;">['i', 'am', 'a', 'boy']</span>
<span style="color: #008080;">63</span> 
<span style="color: #008080;">64</span> <span style="color: #008000;">#</span><span style="color: #008000;">\b 匹配特殊字符边界（空格或者特殊字符$）</span>
<span style="color: #008080;">65</span> ret2 = re.findall(r<span style="color: #800000;">"</span><span style="color: #800000;">i\b</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">i am a boy,i$</span><span style="color: #800000;">"</span><span style="color: #000000;">)
</span><span style="color: #008080;">66</span> <span style="color: #0000ff;">print</span>(ret2) <span style="color: #008000;">#</span><span style="color: #008000;">['i', 'i']</span>
<span style="color: #008080;">67</span> 
<span style="color: #008080;">68</span> <span style="color: #008000;">#</span><span style="color: #008000;">-----search 匹配出第一个满条件的结果</span>
<span style="color: #008080;">69</span> ret = re.search(<span style="color: #800000;">"</span><span style="color: #800000;">ab</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">adfdfdababdab</span><span style="color: #800000;">"</span><span style="color: #000000;">)
</span><span style="color: #008080;">70</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(ret.group())
</span><span style="color: #008080;">71</span> 
<span style="color: #008080;">72</span> <span style="color: #008000;">#</span><span style="color: #008000;"> r"" 匹配条件加r（原生字符）</span>
<span style="color: #008080;">73</span> a = re.findall(r<span style="color: #800000;">"</span><span style="color: #800000;">\bblow</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">blow</span><span style="color: #800000;">"</span><span style="color: #000000;">)
</span><span style="color: #008080;">74</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(a)
</span><span style="color: #008080;">75</span> b = re.findall(<span style="color: #800000;">"</span><span style="color: #800000;">\\\\</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">\\\\</span><span style="color: #800000;">"</span><span style="color: #000000;">)
</span><span style="color: #008080;">76</span> b1 = re.findall(r<span style="color: #800000;">"</span><span style="color: #800000;">\\</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">\\\\\\</span><span style="color: #800000;">"</span><span style="color: #000000;">)
</span><span style="color: #008080;">77</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(b,b1)
</span><span style="color: #008080;">78</span> 
<span style="color: #008080;">79</span> <span style="color: #008000;">#</span><span style="color: #008000;"> () |</span>
<span style="color: #008080;">80</span> <span style="color: #0000ff;">print</span>(re.search(<span style="color: #800000;">"</span><span style="color: #800000;">(ab)+</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">ababdfdf</span><span style="color: #800000;">"</span><span style="color: #000000;">).group())
</span><span style="color: #008080;">81</span> <span style="color: #0000ff;">print</span>(re.search(<span style="color: #800000;">"</span><span style="color: #800000;">(ab)|3</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">ababd3fdf</span><span style="color: #800000;">"</span><span style="color: #000000;">).group())
</span><span style="color: #008080;">82</span> 
<span style="color: #008080;">83</span> <span style="color: #008000;">#</span><span style="color: #008000;"> ?P&lt;id&gt;\d{3}  (分组)</span>
<span style="color: #008080;">84</span> <span style="color: #0000ff;">print</span>(re.search(<span style="color: #800000;">"</span><span style="color: #800000;">(?P&lt;id&gt;\d{3})/(?P&lt;name&gt;\w{3})</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">12324/csvcs239</span><span style="color: #800000;">"</span>).group()) <span style="color: #008000;">#</span><span style="color: #008000;">324/csv</span>
<span style="color: #008080;">85</span> 
<span style="color: #008080;">86</span> <span style="color: #0000ff;">print</span>(re.match(<span style="color: #800000;">"</span><span style="color: #800000;">abc</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">abcweabc</span><span style="color: #800000;">"</span>).group()) <span style="color: #008000;">#</span><span style="color: #008000;">从字符开始匹配</span>
<span style="color: #008080;">87</span> ret = re.split(<span style="color: #800000;">"</span><span style="color: #800000;">[j,d]</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">sdswkdldbds</span><span style="color: #800000;">"</span>) <span style="color: #008000;">#</span><span style="color: #008000;">分割</span>
<span style="color: #008080;">88</span> <span style="color: #0000ff;">print</span>(ret) <span style="color: #008000;">#</span><span style="color: #008000;">['s', 'swk', 'l', 'b', 's']</span>
<span style="color: #008080;">89</span> ret = re.sub(<span style="color: #800000;">"</span><span style="color: #800000;">a</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">cv</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">avbadvdve</span><span style="color: #800000;">"</span>)  <span style="color: #008000;">#</span><span style="color: #008000;">替换</span>
<span style="color: #008080;">90</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(ret)
</span><span style="color: #008080;">91</span> 
<span style="color: #008080;">92</span> obj = re.compile(r<span style="color: #800000;">"</span><span style="color: #800000;">\.com</span><span style="color: #800000;">"</span>) <span style="color: #008000;">#</span><span style="color: #008000;">re.compile内添加规则</span>
<span style="color: #008080;">93</span> ret1 = obj.findall(<span style="color: #800000;">"</span><span style="color: #800000;">www.baidu.com</span><span style="color: #800000;">"</span><span style="color: #000000;">)
</span><span style="color: #008080;">94</span> <span style="color: #0000ff;">print</span>(ret1)</pre>
</div>
<pre><code></pre>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>