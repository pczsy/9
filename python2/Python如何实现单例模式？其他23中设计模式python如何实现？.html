<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修Python如何实现单例模式？其他23中设计模式python如何实现？' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>Python如何实现单例模式？其他23中设计模式python如何实现？</center></div><div class='banquan'>原文出处:本文由博客园博主小小程序员ol提供。<br/>
原文连接:https://www.cnblogs.com/python960410445/p/11799525.html</div><br>
    <p>单例模式主要有四种方法：new、共享属性、装饰器、import。</p>
<pre><code><code># __ new__方法：

class Singleton(object):
    def __new__(cls, *args, **kw): 
        if not hasattr(cls, &#39;_instance&#39;): 
            orig = super(Singleton, cls) 
            cls._instance = orig.__new__(cls, *args, **kw) 
            return cls._instance 
class MyClass(Singleton): 
    a = 1</code></pre>
<pre><code><code># 共享属性：
# 创建实例时把所有实例的__ dict__指向同一个字典，这样它们就具有了相同的属性和方法。

class Borg(object): 
    _state = {} 
    def __new__(cls, *args, **kw): 
        ob = super(Borg, cls).__new__(cls, *args, **kw) 
        ob.__dict__ = cls._state 
        return ob 
class MyClass2(Borg): 
    a = 1</code></pre>
<pre><code><code># 装饰器版本

def singleton(cls, *args, **kw): 
    instances = {} 
    def getinstance(): 
        if cls not in instances: 
            instances[cls] = cls(*args, **kw) 
            return instances[cls] 
        return getinstance 
@singleton 
class MyClass:</code></pre>
<pre><code><code>#import方法,作为python的模块是天然的单例模式

# mysingleton.py 
class My_Singleton(object): 
    def foo(self): 
        pass 
    my_singleton = My_Singleton() 
# to use 
from mysingleton import my_singleton 
my_singleton.foo()</code></pre>
<p>其他23中设计模式基本分为创建型、结构型和行为型模式。<br />
创建模式，提供实例化的方法，为适合的状况提供相应的对象创建方法。<br />
结构化模式，通常用来处理实体之间的关系，使得这些实体能够更好地协同工作。<br />
行为模式，用于在不同的实体间建立通信，为实体之间的通信提供更容易，更灵活的通信方法。<br />
各模式的实现可根据其特点编写代码。</p>

</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>