<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修python文件操作' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>python文件操作</center></div><div class='banquan'>原文出处:本文由博客园博主梦想一步登天提供。<br/>
原文连接:https://www.cnblogs.com/june-L/p/11588374.html</div><br>
    <p><span style="font-size: 18px;">操作流程：</span><br /><span style="font-size: 18px;">1、打开文件</span><br /><span style="font-size: 18px;">	　　文件柄 = open(文件名，模式，编码)</span><br />	<br /><span style="font-size: 18px;">打开文件的模式有：</span><br /><span style="font-size: 18px;">	　　一、基本的打开方式：</span><br /><span style="font-size: 18px;">	　　　　1）r：只读模式【默认】</span><br /><span style="font-size: 18px;">		　　　　　　f = open("file.txt", "r")</span><br /><span style="font-size: 18px;">		　　　　　　data = f.read()</span><br /><span style="font-size: 18px;">		　　　　　　f.close()</span><br /><span style="font-size: 18px;">		　　　　　　print(data )</span><br /><span style="font-size: 18px;">	　　　　2）w：只写模式【不可读；文件不存在则创建，存在则清空内容】</span><br /><span style="font-size: 18px;">		　　　　　　f = open("file1.txt","w")</span><br /><span style="font-size: 18px;">		　　　　　　f.write("123456789")</span><br /><span style="font-size: 18px;">		　　　　　　f.close()</span><br /><span style="font-size: 18px;">	　　　　3）x：只写模式【不可读 ；文件不存在则创建，存在则报错】</span><br /><span style="font-size: 18px;">		　　　　　　f = open("file1.txt","x")</span><br /><span style="font-size: 18px;">		　　　　　　f.write("123456789")</span><br /><span style="font-size: 18px;">		　　　　　　f.close()</span><br /><span style="font-size: 18px;">	　　　　4）a：追加模式【不可读；文件不存在则创建，存在则只追加内容】</span><br /><span style="font-size: 18px;">		　　　　　　f = open("file1.txt","a")</span><br /><span style="font-size: 18px;">		　　　　　　f.write("asdfghjk")</span><br /><span style="font-size: 18px;">		　　　　　　f.close()</span><br />		<br /><span style="font-size: 18px;">	　　二、以字节的方式打开：</span><br /><span style="font-size: 18px;">	　　　　1）rb：只读，</span><br /><span style="font-size: 18px;">		　　　　　　f = open("file1.txt","rb")</span><br /><span style="font-size: 18px;">		　　　　　　data = f.read()</span><br /><span style="font-size: 18px;">		　　　　　　f.close()</span><br /><span style="font-size: 18px;">		　　　　　　str_data = str(data, encoding="utf-8")</span><br /><span style="font-size: 18px;">		　　　　　　print(str_data)</span><br />		<br /><span style="font-size: 18px;">	　　　　2）wb：只写</span><br /><span style="font-size: 18px;">		　　　　　　f = open("file1.txt","wb")</span><br /><span style="font-size: 18px;">		　　　　　　str_data = "中国人"</span><br /><span style="font-size: 18px;">		　　　　　　byte_data = byte(str_data, encoding="utf-8"</span><br /><span style="font-size: 18px;">		　　　　　　data = f.write(byte_data)</span><br /><span style="font-size: 18px;">		　　　　　　f.close()</span></p>
<p><span style="font-size: 18px;">　　&ldquo;+&rdquo; 表示可以同时读写某个文件</span><br /><span style="font-size: 18px;">	　　　　1）r+：读写【可读，可写】注意：1）可写时，末尾追加，指针在最后。2）从开始向后读</span><br /><span style="font-size: 18px;">		　　　　　　f = open("file1.txt","r+", encoding="utf-8")</span><br /><span style="font-size: 18px;">		　　　　　　#指针为0，起始位置</span><br /><span style="font-size: 18px;">		　　　　　　print(f.tell())  #获取指针的位置</span><br /><span style="font-size: 18px;">		　　　　　　data = f.read()   #先读取</span><br /><span style="font-size: 18px;">		　　　　　　print(data)</span><br /><span style="font-size: 18px;">		　　　　　　f.write("法国人")  #再写</span><br /><span style="font-size: 18px;">		　　　　　　f.seek(0) #将指针放到最前</span><br /><span style="font-size: 18px;">		　　　　　　data = f.read()   #最后再读取</span><br /><span style="font-size: 18px;">		　　　　　　print(data)</span><br /><span style="font-size: 18px;">		　　　　　　f.close()</span><br /><span style="font-size: 18px;">	　　　　2）w+：写读【可读，可写】注意：1）先清空，在写后，就可读了；写，指针在最后。2）从开始向后读</span><br /><span style="font-size: 18px;">		　　　　　　f = open("file1.txt","w+", encoding="utf-8")</span><br /><span style="font-size: 18px;">		　　　　　　f.write("赵钱孙李")a</span><br /><span style="font-size: 18px;">		　　　　　　f.seek(0)  #将指针放到最前</span><br /><span style="font-size: 18px;">		　　　　　　data = f.read()</span><br /><span style="font-size: 18px;">		　　　　　　f.close()</span><br /><span style="font-size: 18px;">		　　　　　　print(data)</span><br /><span style="font-size: 18px;">	　　　　3）x+：写读【可读，可写】  注意：如果文件存在，则报错。</span><br />	<br /><span style="font-size: 18px;">	　　　　4）a+：写读【可读，可写】注意：打开的同时，指针已经到最后了；</span><br /><span style="font-size: 18px;">		　　　　　　f = open("file1.txt","a+", encoding="utf-8")</span><br /><span style="font-size: 18px;">		　　　　　　data = f.read()</span><br /><span style="font-size: 18px;">		　　　　　　print(data)  #没有读到数据</span><br /><span style="font-size: 18px;">		　　　　　　f.seek(0)  #将指针放到最前</span><br /><span style="font-size: 18px;">		　　　　　　data = f.read()</span><br /><span style="font-size: 18px;">		　　　　　　f.close()</span><br /><span style="font-size: 18px;">		　　　　　　print(data)</span></p>
<p><span style="font-size: 18px;">　　　　2、操作文件</span><br /><span style="font-size: 18px;">	　　　　　　1）close():关闭文件</span><br /><span style="font-size: 18px;">	　　　　　　2）fileno():文件描述符</span><br /><span style="font-size: 18px;">	　　　　　　3）flush():将内存的数据写入硬盘</span><br /><span style="font-size: 18px;">	　　　　　　4）readline():仅读一行数据</span><br /><span style="font-size: 18px;">	　　　　　　5）seek():获取指针位置</span><br /><span style="font-size: 18px;">	　　　　　　6）truncate():截取数据，依赖于指针的位置开始截取数据</span><br /><span style="font-size: 18px;">	　　　　　　7）read():读取数据</span><br /><span style="font-size: 18px;">	　　　　　　8）write():写入数据</span></p>
<p><span style="font-size: 18px;">　　　　3、关闭文件</span></p>
<p><span style="font-size: 18px;">	　　　　　　with open(文件名，模式) as f: 等价于 f.close()</span></p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>