<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修python_0基础开始_day08' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>python_0基础开始_day08</center></div><div class='banquan'>原文出处:本文由博客园博主年与时驰灬提供。<br/>
原文连接:https://www.cnblogs.com/linglichong/p/11342294.html</div><br>
    <h2 class="md-end-block md-heading"><span class="md-plain md-expand">第八节</span></h2>
<h3 class="md-end-block md-heading"><span class="md-plain">1，文件操作</span></h3>
<p class="md-end-block md-p"><span class="md-tab"> <span class="md-plain">文件操作目的: 持久化,永久存储 (数据库之前 -- 文件操作就是代替数据库)</span></span></p>
<ol class="ol-list" start="">
<li class="md-list-item">
<h4 class="md-end-block md-heading"><span><strong>读</strong></span></h4>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">1，找到文件位</span></p>
<p class="md-end-block md-p"><span class="md-plain">2，双击打开</span></p>
<p class="md-end-block md-p"><span class="md-plain">3，进行一些操作</span></p>
<p class="md-end-block md-p"><span class="md-plain">4，关闭文件</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">open() 打开，通过python控制操作系统进行打开</span></p>
</li>
<li class="md-list-item md-focus-container">
<p class="md-end-block md-p md-focus"><span class="md-plain md-expand">file 文件的位置</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">mode 默认不写就是r</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">encoding 文件的编码</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">f 文件句柄</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">文件只能读取一次</span></p>
</li>
</ul>
</li>
</ol>
<pre><code><span><span class="cm-variable">f = <span class="cm-builtin">open(<span class="cm-string">"D:\Python_s25\day08\小姐姐电话号",<span class="cm-variable">mode=<span class="cm-string">"r",<span class="cm-variable">encoding=<span class="cm-string">"utf-8")<br /><span><span class="cm-builtin">print(<span class="cm-variable">f.<span class="cm-property">read())<span class="cm-comment"># 全部读取<br /><span><span class="cm-builtin">print(<span class="cm-variable">f.<span class="cm-property">read(<span class="cm-number">4))<span class="cm-comment">#按照字符读取<br /><span><span class="cm-builtin">print(<span class="cm-variable">f.<span class="cm-property">readline())<span class="cm-comment"># 默认尾部有一个\n，读取一行<br /><span><span class="cm-builtin">print(<span class="cm-variable">f.<span class="cm-property">readline().<span class="cm-property">strip()) <span class="cm-comment">#\n去除<br /><span><span class="cm-builtin">print(<span class="cm-variable">f.<span class="cm-property">readlines())<span class="cm-comment"># 一行一行读取，全部储存到列表中</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span><strong>绝对路径：</strong><span class="md-plain">具体到文件的精确位置，具体到名字</span></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span><strong>相对路径：</strong><span class="md-plain">具体到文件的文件夹，</span></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span><strong>路径转义：</strong><span class="md-plain">r" "</span></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">读字节</span></p>
<p class="md-end-block md-p"><span><strong>字节操作 不能指定encoding编码</strong></span></p>
<pre><code><span><span class="cm-variable">f = <span class="cm-builtin">open(<span class="cm-string">"timg.jpg",<span class="cm-variable">mode=<span class="cm-string">"rb")<br /><span><span class="cm-builtin">print(<span class="cm-variable">f.<span class="cm-property">read()) &nbsp; &nbsp; &nbsp;<span class="cm-comment"># 全部读取<br /><span><span class="cm-builtin">print(<span class="cm-variable">f.<span class="cm-property">read(<span class="cm-number">3)) &nbsp; &nbsp; <span class="cm-comment"># 按照字节读取<br /><span><span class="cm-builtin">print(<span class="cm-variable">f.<span class="cm-property">readline()) &nbsp;<span class="cm-comment"># 按照行进行读取<br /><span><span class="cm-builtin">print(<span class="cm-variable">f.<span class="cm-property">readlines()) <span class="cm-comment"># 一行一行读取，全部储存到列表中</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span><strong>r和 r b的区别:</strong></span></p>
<p class="md-end-block md-p"><span class="md-plain">1，r需要指定encoding，r b不需要 </span></p>
<p class="md-end-block md-p"><span class="md-plain">2，r模式中的read(3) 按照字符读取,，r b模式中的read(3) 按照字节读取</span></p>
</li>
</ul>
</li>
</ul>
<ol class="ol-list" start="2">
<li class="md-list-item">
<h4 class="md-end-block md-heading"><span><strong>写</strong></span></h4>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">w操作 &mdash;&mdash; 清空写，写的是文本</span></p>
<p class="md-end-block md-p"><span class="md-plain">1，先清空文件</span></p>
<p class="md-end-block md-p"><span class="md-plain">2，写入内容</span></p>
<p class="md-end-block md-p"><span class="md-plain">注：当模式为a和w时，有文件就使用当前文件，没有就新建一个</span></p>
</li>
</ul>
<pre><code><span><span class="cm-variable">ff = <span class="cm-builtin">open(<span class="cm-string">"a1",<span class="cm-variable">mode=<span class="cm-string">"w",<span class="cm-variable">encoding=<span class="cm-string">"utf-8")<br /><span><span class="cm-variable">ff.<span class="cm-property">write(<span class="cm-string">"123") &nbsp;<span class="cm-comment"># 写的内容必须是字符串<br /><span><span class="cm-variable">ff = <span class="cm-builtin">open(<span class="cm-string">"a1",<span class="cm-variable">mode=<span class="cm-string">"w",<span class="cm-variable">encoding=<span class="cm-string">"utf-8")<br /><span><span class="cm-variable">ff.<span class="cm-property">write(<span class="cm-string">"我是一个字符串串") &nbsp;<span class="cm-comment"># 写的内容必须是字符串<br /><span><span>​<br /><span><span class="cm-variable">ff = <span class="cm-builtin">open(<span class="cm-string">"a1",<span class="cm-variable">mode=<span class="cm-string">"w",<span class="cm-variable">encoding=<span class="cm-string">"utf-8")<br /><span><span class="cm-variable">ff.<span class="cm-property">write(<span class="cm-string">"[1,2,3,4]\n") &nbsp;<span class="cm-comment"># 写的内容必须是字符串<br /><span><span class="cm-variable">ff.<span class="cm-property">write(<span class="cm-string">'1111\n') &nbsp;<span class="cm-comment"># 写的内容必须是字符串<br /><span><span class="cm-variable">ff.<span class="cm-property">write(<span class="cm-string">'2222\n') &nbsp;<span class="cm-comment"># 写的内容必须是字符串<br /><span><span>​<br /><span><span class="cm-variable">ff = <span class="cm-builtin">open(<span class="cm-string">"a1",<span class="cm-variable">mode=<span class="cm-string">"w",<span class="cm-variable">encoding=<span class="cm-string">"utf-8")<br /><span><span class="cm-variable">ff.<span class="cm-property">write(<span class="cm-string">"[1,2,3,4]\n") &nbsp;<span class="cm-comment"># 写的内容必须是字符串<br /><span><span class="cm-variable">ff.<span class="cm-property">write(<span class="cm-string">'1111\n') &nbsp;<span class="cm-comment"># 写的内容必须是字符串<br /><span><span class="cm-variable">ff.<span class="cm-property">write(<span class="cm-string">'2222\n') &nbsp;<span class="cm-comment"># 写的内容必须是字符串</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">w b &mdash;&mdash; 清空写，写字节</span></p>
</li>
</ul>
<pre><code><span><span class="cm-variable">f = <span class="cm-builtin">open(<span class="cm-string">'timg.jpg',<span class="cm-variable">mode=<span class="cm-string">"rb")<br /><span><span class="cm-variable">f1 = <span class="cm-builtin">open(<span class="cm-string">"g1.jpg",<span class="cm-variable">mode=<span class="cm-string">"wb")<br /><span><span class="cm-variable">content = <span class="cm-variable">f.<span class="cm-property">read()<br /><span><span class="cm-variable">f1.<span class="cm-property">write(<span class="cm-variable">content)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre>
</li>
</ol>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">追加&mdash;&mdash; a</span></p>
<pre><code><span><span class="cm-variable">f = <span class="cm-builtin">open(<span class="cm-string">"b1",<span class="cm-variable">mode=<span class="cm-string">"a",<span class="cm-variable">encoding=<span class="cm-string">"utf-8")<br /><span><span class="cm-variable">f.<span class="cm-property">write(<span class="cm-string">"你好啊\n")<br /><span><span class="cm-variable">f.<span class="cm-property">write(<span class="cm-string">"我好啊\n")<br /><span><span class="cm-variable">f.<span class="cm-property">write(<span class="cm-string">"他好啊\n")<br /><span><span class="cm-variable">f.<span class="cm-property">write(<span class="cm-string">"大家好啊\n")<span class="cm-number">3.</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre>
</li>
</ul>
<ol class="ol-list" start="3">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">加操作</span></p>
<pre><code><span><span class="cm-variable">r <span class="cm-operator">+ <span class="cm-variable">（有点用）<br /><span><span class="cm-comment"># 正确的操作:<br /><span><span class="cm-variable">f = <span class="cm-builtin">open(<span class="cm-string">"b1",<span class="cm-variable">mode=<span class="cm-string">"r+",<span class="cm-variable">encoding=<span class="cm-string">"utf-8")<br /><span><span class="cm-builtin">print(<span class="cm-variable">f.<span class="cm-property">read())<br /><span><span class="cm-variable">f.<span class="cm-property">write(<span class="cm-string">"今天是周一")</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre>
<pre><code><span><span class="cm-variable">w<span class="cm-operator">+ <span class="cm-variable">写读 (<span class="cm-variable">有点用)<br /><span><span class="cm-variable">f = <span class="cm-builtin">open(<span class="cm-string">"b1",<span class="cm-variable">mode=<span class="cm-string">"w+",<span class="cm-variable">encoding=<span class="cm-string">"utf-8")<br /><span><span class="cm-variable">f.<span class="cm-property">write(<span class="cm-string">"今天是周一")<br /><span><span class="cm-variable">f.<span class="cm-property">seek(<span class="cm-number">0) &nbsp;<span class="cm-comment"># 移动光标<br /><span><span class="cm-builtin">print(<span class="cm-variable">f.<span class="cm-property">read())</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre>
<pre><code><span><span class="cm-variable">a<span class="cm-operator">+ <span class="cm-variable">追加读 &nbsp;<span class="cm-comment"># 坑<br /><span><span class="cm-variable">f = <span class="cm-builtin">open(<span class="cm-string">"b1",<span class="cm-variable">mode=<span class="cm-string">"a+",<span class="cm-variable">encoding=<span class="cm-string">"utf-8")<br /><span><span class="cm-variable">f.<span class="cm-property">write(<span class="cm-string">"今天是周一")<br /><span><span class="cm-variable">f.<span class="cm-property">seek(<span class="cm-number">0) &nbsp;<span class="cm-comment"># 移动光标<br /><span><span class="cm-variable">f.<span class="cm-property">write(<span class="cm-string">"啊啊啊啊")<br /><span><span class="cm-builtin">print(<span class="cm-variable">f.<span class="cm-property">read())<span class="cm-variable">a<span class="cm-operator">+ <span class="cm-variable">追加读 &nbsp;<span class="cm-comment"># 坑<br /><span><span class="cm-variable">f = <span class="cm-builtin">open(<span class="cm-string">"b1",<span class="cm-variable">mode=<span class="cm-string">"a+",<span class="cm-variable">encoding=<span class="cm-string">"utf-8")<br /><span><span class="cm-variable">f.<span class="cm-property">write(<span class="cm-string">"今天是周一")<br /><span><span class="cm-variable">f.<span class="cm-property">seek(<span class="cm-number">0) &nbsp;<span class="cm-comment"># 移动光标<br /><span><span class="cm-variable">f.<span class="cm-property">write(<span class="cm-string">"啊啊啊啊")<br /><span><span class="cm-builtin">print(<span class="cm-variable">f.<span class="cm-property">read())</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">其他操作:</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">seek() 移动光标</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">f.seek(0,0) </span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">移动光标到文件的头部# f.seek(0,1) </span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">移动光标到当前位置# f.seek(0,2) </span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">移动光标到文件末尾# f.seek(6) </span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">光标是按照字节移动</span></p>
</li>
</ul>
<pre><code><span><span class="cm-comment"># 考点:<br /><span><span class="cm-keyword">import <span class="cm-variable">os &nbsp;<span class="cm-comment"># 操作系统交互的接口<br /><span><span class="cm-variable">f = <span class="cm-builtin">open(<span class="cm-string">'a2',<span class="cm-string">"r",<span class="cm-variable">encoding=<span class="cm-string">"utf-8")<br /><span><span class="cm-variable">f1 = <span class="cm-builtin">open(<span class="cm-string">"a1",<span class="cm-string">"w",<span class="cm-variable">encoding=<span class="cm-string">"utf-8")<br /><span><span class="cm-variable">i = <span class="cm-variable">f1.<span class="cm-property">read().<span class="cm-property">replace(<span class="cm-string">"天",<span class="cm-string">"日") &nbsp; &nbsp;<span class="cm-comment"># 将文件中全部内容读取 容易导致内存溢出<br /><span><span class="cm-variable">f1.<span class="cm-property">write(<span class="cm-variable">i)<br /><span><span class="cm-variable">f.<span class="cm-property">close()<br /><span><span class="cm-variable">f1.<span class="cm-property">close()<br /><span><span class="cm-variable">os.<span class="cm-property">rename(<span class="cm-string">"a2",<span class="cm-string">"a3")<br /><span><span class="cm-variable">os.<span class="cm-property">rename(<span class="cm-string">"a1",<span class="cm-string">"a2")<br /><span><span>​<br /><span><span>​<br /><span><span class="cm-keyword">with <span class="cm-builtin">open(<span class="cm-string">"a3",<span class="cm-string">"r",<span class="cm-variable">encoding=<span class="cm-string">"utf-8")<span class="cm-keyword">as <span class="cm-variable">f,<span class="cm-error">\<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-builtin">open(<span class="cm-string">'a2',<span class="cm-string">"r",<span class="cm-variable">encoding=<span class="cm-string">"utf-8")<span class="cm-keyword">as <span class="cm-variable">f1:<br /><span> &nbsp; &nbsp;<span class="cm-builtin">print(<span class="cm-variable">f.<span class="cm-property">read())<br /><span> &nbsp; &nbsp;<span class="cm-builtin">print(<span class="cm-variable">f1.<span class="cm-property">read())<br /><span><span class="cm-comment"># 1.自动关闭文件<br /><span><span class="cm-comment"># 2.同一时间操作多个文件</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre>
</li>
</ol>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>