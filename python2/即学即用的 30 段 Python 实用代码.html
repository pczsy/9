<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修即学即用的 30 段 Python 实用代码' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>即学即用的 30 段 Python 实用代码</center></div><div class='banquan'>原文出处:本文由博客园博主python学习者0提供。<br/>
原文连接:https://www.cnblogs.com/xxpythonxx/p/11564095.html</div><br>
    <p>Python是目前最流行的语言之一，它在数据科学、机器学习、web开发、脚本编写、自动化方面被许多人广泛使用。它的简单和易用性造就了它如此流行的原因。<br />
在本文中，我们将会介绍 30 个简短的代码片段，你可以在 30 秒或更短的时间里理解和学习这些代码片段。</p>
<h4 id="检查重复元素">1.检查重复元素</h4>
<p>下面的方法可以检查给定列表中是否有重复的元素。它使用了 set() 属性，该属性将会从列表中删除重复的元素。</p>
<pre><code><code>def all_unique(lst):    
    return len(lst) == len(set(lst))  
      
x = [1,1,2,2,3,2,3,4,5,6]    
y = [1,2,3,4,5]    
all_unique(x) # False    
all_unique(y) # True</code></pre>
<h4 id="变位词">2.变位词</h4>
<p>检测两个字符串是否互为变位词（即互相颠倒字符顺序）</p>
<pre><code><code>from collections import Counter   
 
def anagram(first, second):    
    return Counter(first) == Counter(second)    
anagram(&quot;abcd3&quot;, &quot;3acdb&quot;) # True</code></pre>
<h4 id="检查内存使用情况">3.检查内存使用情况</h4>
<p>以下代码段可用来检查对象的内存使用情况。</p>
<pre><code><code>import sys    
variable = 30     
print(sys.getsizeof(variable)) # 24</code></pre>
<h4 id="字节大小计算">4.字节大小计算</h4>
<p>以下方法将以字节为单位返回字符串长度。</p>
<pre><code><code>def byte_size(string):    
    return(len(string.encode( utf-8 )))   
     
byte_size( 😀 ) # 4    
byte_size( Hello World ) # 11</code></pre>
<h4 id="重复打印字符串-n-次">5.重复打印字符串 N 次</h4>
<p>以下代码不需要使用循环即可打印某个字符串 n 次</p>
<pre><code><code>n = 2; 
s =&quot;Programming&quot;; print(s * n); 
# ProgrammingProgramming</code></pre>
<h4 id="首字母大写">6.首字母大写</h4>
<p>以下代码段使用 title() 方法将字符串内的每个词进行首字母大写。</p>
<pre><code><code>s = &quot;programming is awesome&quot;    
print(s.title()) # Programming Is Awesome</code></pre>
<h4 id="分块">7.分块</h4>
<p>以下方法使用 range() 将列表分块为指定大小的较小列表。</p>
<pre><code><code>from math import ceil 
   
def chunk(lst, size):    
    return list(    
        map(lambda x: lst[x * size:x * size + size],    
            list(range(0, ceil(len(lst) / size)))))    
chunk([1,2,3,4,5],2) # [[1,2],[3,4],5]</code></pre>
<h4 id="压缩">8.压缩</h4>
<p>以下方法使用 fliter() 删除列表中的错误值（如：False, None, 0 和“”）</p>
<pre><code><code>def compact(lst):    
    return list(filter(bool, lst))    
compact([0, 1, False, 2,   , 3,  a ,  s , 34]) # [ 1, 2, 3,  a ,  s , 34 ]</code></pre>
<h4 id="间隔数">9.间隔数</h4>
<p>以下代码段可以用来转换一个二维数组。</p>
<pre><code><code>array = [[ a ,  b ], [ c ,  d ], [ e ,  f ]]    
transposed = zip(*array)    
print(transposed) # [( a ,  c ,  e ), ( b ,  d ,  f )]</code></pre>
<h4 id="链式比较">10.链式比较</h4>
<p>以下代码可以在一行中用各种操作符进行多次比较。</p>
<pre><code><code>a = 3    
print( 2 &lt; a &lt; 8) # True    
print(1 == a &lt; 2) # False</code></pre>
<h4 id="逗号分隔">11.逗号分隔</h4>
<p>以下代码段可将字符串列表转换为单个字符串，列表中的每个元素用逗号分隔。</p>
<pre><code><code>hobbies = [&quot;basketball&quot;, &quot;football&quot;, &quot;swimming&quot;]
print(&quot;My hobbies are: &quot; + &quot;, &quot;.join(hobbies)) # My hobbies are: basketball, football, swimming</code></pre>
<h4 id="计算元音字母数">12.计算元音字母数</h4>
<p>以下方法可计算字符串中元音字母（‘a’, ‘e’, ‘i’, ‘o’, ‘u’）的数目。</p>
<pre><code><code>import re    
def count_vowels(str):    
    return len(len(re.findall(r [aeiou] , str, re.IGNORECASE)))    
count_vowels( foobar ) # 3    
count_vowels( gym ) # 0</code></pre>
<h4 id="首字母恢复小写">13.首字母恢复小写</h4>
<p>以下方法可用于将给定字符串的第一个字母转换为小写。</p>
<pre><code><code>def decapitalize(string):    
    return str[:1].lower() + str[1:]    
decapitalize( FooBar ) #  fooBar     
decapitalize( FooBar ) #  fooBar</code></pre>
<h4 id="平面化">14.平面化</h4>
<p>以下方法使用递归来展开潜在的深度列表。</p>
<pre><code><code>def spread(arg):
    ret = []
    for i in arg:
        if isinstance(i, list):
            ret.extend(i)
        else:
            ret.append(i)
    return ret
def deep_flatten(lst):
    result = []
    result.extend(
        spread(list(map(lambda x: deep_flatten(x) if type(x) == list else x, lst))))
    return result
deep_flatten([1, [2], [[3], 4], 5]) # [1,2,3,4,5]</code></pre>
<h4 id="差异">15.差异</h4>
<p>该方法只保留第一个迭代器中的值，从而发现两个迭代器之间的差异。</p>
<pre><code><code>def difference(a, b):
    set_a = set(a)
    set_b = set(b)
    comparison = set_a.difference(set_b)
    return list(comparison)
difference([1,2,3], [1,2,4]) # [3]</code></pre>
<h4 id="寻找差异">16.寻找差异</h4>
<p>下面的方法在将给定的函数应用于两个列表的每个元素后，返回两个列表之间的差值。</p>
<pre><code><code>def difference_by(a, b, fn):
    b = set(map(fn, b))
    return [item for item in a if fn(item) not in b]
from math import floor
difference_by([2.1, 1.2], [2.3, 3.4],floor) # [1.2]
difference_by([{  x : 2 }, {  x : 1 }], [{  x : 1 }], lambda v : v[ x ]) # [ { x: 2 } ]</code></pre>
<h4 id="链式函数调用">17.链式函数调用</h4>
<p>以下方法可在一行中调用多个函数。</p>
<pre><code><code>def add(a, b):
    return a + b
def subtract(a, b):
    return a - b
a, b = 4, 5
print((subtract if a &gt; b else add)(a, b)) # 9</code></pre>
<h4 id="检查重复值">18.检查重复值</h4>
<p>以下方法使用 set() 方法仅包含唯一元素的事实来检查列表是否具有重复值。</p>
<pre><code><code>def has_duplicates(lst):
    return len(lst) != len(set(lst))
    
x = [1,2,3,4,5,5]
y = [1,2,3,4,5]
has_duplicates(x) # True
has_duplicates(y) # False</code></pre>
<h4 id="合并两个词典">19.合并两个词典</h4>
<p>以下方法可用于合并两个词典。</p>
<pre><code><code>def merge_two_dicts(a, b):
    c = a.copy()   # make a copy of a 
    c.update(b)    # modify keys and values of a with the ones from b
    return c
a = {  x : 1,  y : 2}
b = {  y : 3,  z : 4}
print(merge_two_dicts(a, b)) # { y : 3,  x : 1,  z : 4}</code></pre>
<p>在Python 3.5及更高版本中，你还可以执行以下操作：</p>
<pre><code><code>def merge_dictionaries(a, b)
   return {**a, **b}
a = {  x : 1,  y : 2}
b = {  y : 3,  z : 4}
print(merge_dictionaries(a, b)) # { y : 3,  x : 1,  z : 4}</code></pre>
<h4 id="将两个列表转换成一个词典">20.将两个列表转换成一个词典</h4>
<p>以下方法可将两个列表转换成一个词典。</p>
<pre><code><code>def to_dictionary(keys, values):
    return dict(zip(keys, values))
    
keys = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]    
values = [2, 3, 4]
print(to_dictionary(keys, values)) # { a : 2,  c : 4,  b : 3}</code></pre>
<h4 id="使用枚举">21.使用枚举</h4>
<p>以下方法将字典作为输入，然后仅返回该字典中的键。</p>
<pre><code><code>list = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]
for index, element in enumerate(list): 
    print(&quot;Value&quot;, element, &quot;Index &quot;, index, )
# ( Value ,  a ,  Index  , 0)
# ( Value ,  b ,  Index  , 1)
#( Value ,  c ,  Index  , 2)
# ( Value ,  d ,  Index  , 3)</code></pre>
<h4 id="计算所需时间">22.计算所需时间</h4>
<p>以下代码段可用于计算执行特定代码所需的时间。</p>
<pre><code><code>import time
start_time = time.time()
a = 1
b = 2
c = a + b
print(c) #3
end_time = time.time()
total_time = end_time - start_time
print(&quot;Time: &quot;, total_time)
# ( Time:  , 1.1205673217773438e-05)</code></pre>
<h4 id="try-else-指令">23.Try else 指令</h4>
<p>你可以将 else 子句作为 try/except 块的一部分，如果没有抛出异常，则执行该子句。</p>
<pre><code><code>try:
    2*3
except TypeError:
    print(&quot;An exception was raised&quot;)
else:
    print(&quot;Thank God, no exceptions were raised.&quot;)
#Thank God, no exceptions were raised.</code></pre>
<h4 id="查找最常见元素">24.查找最常见元素</h4>
<p>以下方法返回列表中出现的最常见元素。</p>
<pre><code><code>def most_frequent(list):
    return max(set(list), key = list.count)
  
list = [1,2,1,2,3,2,1,4,2]
most_frequent(list)</code></pre>
<h4 id="回文">25.回文</h4>
<p>以下方法可检查给定的字符串是否为回文结构。该方法首先将字符串转换为小写，然后从中删除非字母数字字符。最后，它会将新的字符串与反转版本进行比较。</p>
<pre><code><code>def palindrome(string):
    from re import sub
    s = sub( [W_] ,   , string.lower())
    return s == s[::-1]
palindrome( taco cat ) # True</code></pre>
<h4 id="没有-if-else-语句的简单计算器">26.没有 if-else 语句的简单计算器</h4>
<p>以下代码段将展示如何编写一个不使用 if-else 条件的简单计算器。</p>
<pre><code><code>import operator
action = {
    &quot;+&quot;: operator.add,
    &quot;-&quot;: operator.sub,
    &quot;/&quot;: operator.truediv,
    &quot;*&quot;: operator.mul,
    &quot;**&quot;: pow
}
print(action[ - ](50, 25)) # 25</code></pre>
<h4 id="元素顺序打乱">27.元素顺序打乱</h4>
<p>以下算法通过实现 Fisher-Yates算法 在新列表中进行排序来将列表中的元素顺序随机打乱。</p>
<pre><code><code>from copy import deepcopy
from random import randint
def shuffle(lst):
    temp_lst = deepcopy(lst)
    m = len(temp_lst)
    while (m):
        m -= 1
        i = randint(0, m)
        temp_lst[m], temp_lst[i] = temp_lst[i], temp_lst[m]
    return temp_lst
  
foo = [1,2,3]
shuffle(foo) # [2,3,1] , foo = [1,2,3]</code></pre>
<h4 id="列表扁平化">28.列表扁平化</h4>
<p>以下方法可使列表扁平化，类似于JavaScript中的[].concat(…arr)。</p>
<pre><code><code>def spread(arg):
    ret = []
    for i in arg:
        if isinstance(i, list):
            ret.extend(i)
        else:
            ret.append(i)
    return ret
spread([1,2,3,[4,5,6],[7],8,9]) # [1,2,3,4,5,6,7,8,9]</code></pre>
<h4 id="变量交换">29.变量交换</h4>
<p>以下是交换两个变量的快速方法，而且无需使用额外的变量。</p>
<pre><code><code>def swap(a, b):
  return b, a
a, b = -1, 14
swap(a, b) # (14, -1)</code></pre>
<h4 id="获取缺失键的默认值">30.获取缺失键的默认值</h4>
<p>以下代码段显示了如何在字典中没有包含要查找的键的情况下获得默认值。</p>
<pre><code><code>d = { a : 1,  b : 2}
print(d.get( c , 3)) # 3</code></pre>
<p>以上是你在日常工作中可能会发现的有用方法的简短列表。它主要基于这个GitHub项目（<a href="https://github.com/30-seconds/30_seconds_of_knowledge" class="uri">https://github.com/30-seconds/30_seconds_of_knowledge</a>），你可以在其中找到许多其他有用的代码片段，包括Python及其他编程语言和技术。</p>

</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>