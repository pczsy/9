<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修图像处理_Image' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>图像处理_Image</center></div><div class='banquan'>原文出处:本文由博客园博主无聊就来学习提供。<br/>
原文连接:https://www.cnblogs.com/wljlxx/p/11695390.html</div><br>
    <h1>1.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 安装</h1>
<p>　　&nbsp;输入 pip install PIL报错：</p>
<p>　　ERROR: Could not find a version that satisfies the requirement PIL (from versions: none)<br />
　　ERROR: No
matching distribution found for PIL</p>
<p>解决方案：</p>
<p>Python3中Pillow源自PIL（在2中使用）</p>
<p>（1）&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
python -m pip install Pillow</p>
<p>（2）&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
pip install path\文件名 文件名为在网址: </p>
<p><a href="https://www.lfd.uci.edu/~gohlke/pythonlibs/">https://www.lfd.uci.edu/~gohlke/pythonlibs/</a></p>
<p>中下载对应的模块。</p>
<p>使用（1）时报错：</p>
<p>ReadTimeoutError: HTTPSConnectionPool(host='files.pythonhosted.org',
port=443): Read timed out.</p>
<p>超时问题，延长时间：</p>
<p>python -m pip --default-timeout=100 install -U Pillow</p>
<p>&nbsp;</p>
<p>注：pillow是PIL（Python成像库）的一个分支，不再被维护。所以，为了保持向后兼容性，往往使用旧的模块名称&mdash;&mdash;PIL，即引用模块，直接使用import PIL</p>
<p>&nbsp;</p>
<h1>2.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
功能</h1>
<p>以快速访问几种基本像素类型表示的图像数据为核心，能对图像做归档处理、显示图像、常见的图像处理（变换、点操作、滤波、颜色等等）。</p>
<h2>1.1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Image模块</h2>
<p>from PIL import Image</p>
<p>&nbsp;</p>
<p># 打开一个图像</p>
<p>Picture =
Image.open("C:\\Users\\sue\\Pictures\\test.png")</p>
<p>print(Picture)</p>
<p>&nbsp;</p>
<p># 返回图像实例的属性</p>
<p>print("图像格式：{}；图像模式：{}；图像大小：{}。".format(Picture.format,Picture.mode,Picture.size))</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p># 查看实例，show是暂时存放了一个临时文件，存在效率问题</p>
<p>Picture.show()</p>
<p>&nbsp;</p>
<p># 实例的方法：</p>
<p># 1.保存图片，以及转换图片格式，无法转换报转换错误：svae(存储文件名[，存储文件格式:可省略由扩展名决定])</p>
<p>Picture.save("C:\\Users\\sue\\Pictures\\test2.png","PNG")</p>
<p>&nbsp;</p>
<p>Picture.save("C:\\Users\\sue\\Pictures\\test3.jpg")</p>
<p>try:</p>
<p>&nbsp;&nbsp;&nbsp;
Picture.save("C:\\Users\\sue\\Pictures\\test4.jpg","JPG")
#明确格式后，加转换格式反而报错KeyError</p>
<p>except:</p>
<p>&nbsp;&nbsp;&nbsp;
print("cannot convert")</p>
<p>&nbsp;</p>
<p># 2.制作缩略图
p.thumbnail((x,y)),参数为一个元组</p>
<p>width,heighth = Picture.size</p>
<p>Picture.thumbnail((width/2,heighth/2))</p>
<p>Picture.save("C:\\Users\\sue\\Pictures\\test2.png","PNG")</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p># 3.裁剪图片：p.crop((x,y,x+m,y+n)),x,y为以图片左上角为原点，向下为y轴，向右为x轴；</p>
<p>#&nbsp;&nbsp;
m,n为想要裁剪的长宽</p>
<p>#&nbsp; 在原图（20，10）的位置开始裁剪一个长为200，宽100的图</p>
<p>PCrop = Picture.crop((20,40,20+200,10+100))</p>
<p>PCrop.show()</p>
<p>&nbsp;</p>
<p># 4.变形和粘贴</p>
<p>#&nbsp;
p.transpose(Image.XX):其中XX=FLIP_LEFT_RIGHT(左右镜像)；FLIP_TOP_BOTTOM(上下镜像)</p>
<p>#&nbsp;&nbsp;&nbsp;
ROTATE_90(逆时针旋转90度)；RATATE_180(逆时针旋转180度)；ROTATAE_270;</p>
<p>#&nbsp;&nbsp;&nbsp;
TRANSPOSE(像素矩阵转置，空间变换)；TRANVERSE(空间变换)</p>
<p>#&nbsp;
p.paste(p1,(x,y,x+m,y+n))，将图片p1粘贴到p的(x,y)处，占长m宽n的大小。后面两个不写就是完全粘贴p1</p>
<p>&nbsp;</p>
<p>from PIL import Image</p>
<p>&nbsp;</p>
<p># 将人物图像的左边镜像颠倒，复制到右边，右边原样复制到左边</p>
<p>def P_transpose(P):</p>
<p>&nbsp;&nbsp;&nbsp;
x,y = P.size</p>
<p>&nbsp;</p>
<p>&nbsp;&nbsp;&nbsp;
pleft = P.crop((0,0,x//2,y))</p>
<p>&nbsp;&nbsp;&nbsp;
pright = P.crop((x//2,0,x,y))</p>
<p>&nbsp;</p>
<p>&nbsp;&nbsp;&nbsp;
pleft = pleft.transpose(Image.FLIP_TOP_BOTTOM)</p>
<p>&nbsp;</p>
<p>&nbsp; &nbsp;&nbsp;P.paste(pright,(0,0,x//2,y))</p>
<p>&nbsp;&nbsp;&nbsp;
P.paste(pleft,(x//2,0,x,y))</p>
<p>&nbsp;&nbsp;&nbsp;
P.show()</p>
<p>&nbsp;</p>
<p>Picture =
Image.open("C:\\Users\\sue\\Pictures\\人物.png")</p>
<p>P_transpose(P)</p>
<p>&nbsp;</p>
<p># 5.调整尺寸</p>
<p># resize((m,n))</p>
<p># rotate(sigma),逆时针调整角度</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>