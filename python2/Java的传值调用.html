<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修Java的传值调用' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>Java的传值调用</center></div><div class='banquan'>原文出处:本文由博客园博主为何不是梦提供。<br/>
原文连接:https://www.cnblogs.com/ibigboy/p/12080629.html</div><br>
    <div id="output_wrapper_id" class="output_wrapper" style="font-size: 16px; color: #3e3e3e; line-height: 1.6; word-spacing: 0px; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; background-image: linear-gradient(90deg, rgba(50, 0, 0, 0.05) 3%, rgba(0, 0, 0, 0) 3%), linear-gradient(360deg, rgba(50, 0, 0, 0.05) 3%, rgba(0, 0, 0, 0) 3%); background-size: 20px 20px; background-position: center center;">
<p id="hjava" style="color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px; font-weight: bold; font-size: 1.6em;"><span style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;"><span style="font-size: 12px;">（本文非引战或diss，只是说出自己的理解，欢迎摆正心态观看或探讨）</span><br /></span></p>
<h2 id="h" style="line-height: inherit; padding: 0px; margin: 1.5em 0px; font-weight: bold; font-size: 1.4em; color: white;"><span style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;">引子</span></h2>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">之所以写这篇文章是因为前些天写了一篇<a style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; text-decoration: none; color: #1e6bb8; overflow-wrap: break-word;" href="https://mp.weixin.qq.com/s?__biz=MzUxNTQyOTIxNA==&amp;mid=2247483945&amp;idx=1&amp;sn=bd5a4a77592f6daba5428eb6f8ff1197&amp;chksm=f9b78418cec00d0e36caa3a40138c61c0cdce04b6c2df34ac8b8f533a4b5706a6b4eb6949570&amp;token=167789087&amp;lang=zh_CN#rd">《Java中真的只有值传递么？》</a>探讨了网上关于Java只有值传递的说法，当时写这篇文章的缘由是因为之前看的文章讲解的Java只有值传递，讲的不是让我很明白，没有拿出比较专业的解释或定义，没有说服我。而我在<a style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; text-decoration: none; color: #1e6bb8; overflow-wrap: break-word;" href="https://mp.weixin.qq.com/s?__biz=MzUxNTQyOTIxNA==&amp;mid=2247483945&amp;idx=1&amp;sn=bd5a4a77592f6daba5428eb6f8ff1197&amp;chksm=f9b78418cec00d0e36caa3a40138c61c0cdce04b6c2df34ac8b8f533a4b5706a6b4eb6949570&amp;token=167789087&amp;lang=zh_CN#rd">《Java中真的只有值传递么？》</a>这篇文章中又做了一些解读，发现自己也是没有抓住重点，这才有了今天这篇文章，对之前的这篇文章做一个补充。</p>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">从那篇文章后，我了解到Java的参数传递其实牵涉到了Java语言的设计中的参数传递方式，可能在语言设计之时就考虑了这个问题，所以在工作之余自己简单的研究了一下，最终也能根据自己的理解解释一下关于Java是值传递还是引用传递的说法。</p>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">Java 是引用传递还是值传递现在有以下这些说法：</p>
<blockquote style="line-height: inherit; display: block; padding: 15px 15px 15px 1rem; font-size: 0.9em; margin: 1em 0px; color: #819198; border-left: 6px solid #43a047; background: #eceff1; overflow: auto; overflow-wrap: normal; word-break: normal;">
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 0px;">1、值传递和引用传递，区分的条件是传递的内容，如果是个值，就是值传递。如果是个引用，就是引用传递。</p>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 0px;">2、传递的参数如果是普通类型，那就是值传递，如果是对象，那就是引用传递。</p>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 0px;">3、Java中只有值传递。</p>



</blockquote>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">关于这个问题应该是分情况讨论的，存在即合理，或许在不同的认识下有不同的说法，也不能简单的就说是值传递还是引用传递。</p>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">对或错都是相对的。</p>
<h2 id="h-1" style="line-height: inherit; padding: 0px; margin: 1.5em 0px; font-weight: bold; font-size: 1.4em; color: white;"><span style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;">回顾</span></h2>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">在谈这个问题之前我们先了解下值传递和引用传递的概念及现象。可以简单的通过几个例子来讲解的，大概是这样的。</p>
<h3 id="h-2" style="color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px; font-weight: bold; font-size: 1.3em; border-bottom: 2px solid #ec4444;"><span style="font-size: inherit; line-height: inherit; margin: 0px; display: inline-block; font-weight: normal; background: #ec4444; color: #ffffff; padding: 3px 10px 0px; border-top-right-radius: 3px; border-top-left-radius: 3px; margin-right: 3px;">值传递</span></h3>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">例子1：</p>
<pre><code><code><span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #6666ea; word-wrap: inherit !important; word-break: inherit !important;">public</span>&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #6666ea; word-wrap: inherit !important; word-break: inherit !important;">static</span>&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #6666ea; word-wrap: inherit !important; word-break: inherit !important;">void</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #407ee7; word-wrap: inherit !important; word-break: inherit !important;">main</span><span class="hljs-params" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #df5320; word-wrap: inherit !important; word-break: inherit !important;">(String[]&nbsp;args)</span></span>{<br />&nbsp;&nbsp;&nbsp;&nbsp;TestJavaParamPass()&nbsp;tjpp&nbsp;=&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #6666ea; word-wrap: inherit !important; word-break: inherit !important;">new</span>&nbsp;TestJavaParamPass();<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #6666ea; word-wrap: inherit !important; word-break: inherit !important;">int</span>&nbsp;num&nbsp;=&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #df5320; word-wrap: inherit !important; word-break: inherit !important;">10</span>;<br />&nbsp;&nbsp;&nbsp;&nbsp;tjpp.change(num);<br />&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #7b9726; word-wrap: inherit !important; word-break: inherit !important;">"num&nbsp;in&nbsp;main():"</span>+i);<br />}<br /><span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #6666ea; word-wrap: inherit !important; word-break: inherit !important;">public</span>&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #6666ea; word-wrap: inherit !important; word-break: inherit !important;">void</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #407ee7; word-wrap: inherit !important; word-break: inherit !important;">change</span><span class="hljs-params" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #df5320; word-wrap: inherit !important; word-break: inherit !important;">(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #6666ea; word-wrap: inherit !important; word-break: inherit !important;">int</span>&nbsp;param)</span></span>{<br />&nbsp;&nbsp;&nbsp;&nbsp;param&nbsp;=&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #df5320; word-wrap: inherit !important; word-break: inherit !important;">20</span>;<br />&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #7b9726; word-wrap: inherit !important; word-break: inherit !important;">"param&nbsp;in&nbsp;change():"</span>+param);<br />}<br /></code></pre>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">控制台输出:</p>
<pre><code><code class="bash language-bash hljs" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; background: #1b1918; color: #a8a19f; padding: 0.5em; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;">param&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #6666ea; word-wrap: inherit !important; word-break: inherit !important;">in</span>&nbsp;change():20<br />num&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #6666ea; word-wrap: inherit !important; word-break: inherit !important;">in</span>&nbsp;main():10<br /></code></pre>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">mian()方法中的int变量num传递给change()方法，change()方法接收到后将值改变为20。通过看控制台输出，main()方法中的num变量的值没有改变。</p>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;"><strong style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold;">结论：实参没有被形参影响，基本类型是值传递。</strong></p>
<h3 id="h-3" style="color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px; font-weight: bold; font-size: 1.3em; border-bottom: 2px solid #ec4444;"><span style="font-size: inherit; line-height: inherit; margin: 0px; display: inline-block; font-weight: normal; background: #ec4444; color: #ffffff; padding: 3px 10px 0px; border-top-right-radius: 3px; border-top-left-radius: 3px; margin-right: 3px;">引用传递</span></h3>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">例子2：</p>
<pre><code><code><span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #6666ea; word-wrap: inherit !important; word-break: inherit !important;">public</span>&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #6666ea; word-wrap: inherit !important; word-break: inherit !important;">static</span>&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #6666ea; word-wrap: inherit !important; word-break: inherit !important;">void</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #407ee7; word-wrap: inherit !important; word-break: inherit !important;">main</span><span class="hljs-params" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #df5320; word-wrap: inherit !important; word-break: inherit !important;">(String[]&nbsp;args)</span></span>{<br />&nbsp;&nbsp;&nbsp;&nbsp;TestJavaParamPass()&nbsp;tjpp&nbsp;=&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #6666ea; word-wrap: inherit !important; word-break: inherit !important;">new</span>&nbsp;TestJavaParamPass();<br />&nbsp;&nbsp;&nbsp;&nbsp;User&nbsp;user&nbsp;=&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #6666ea; word-wrap: inherit !important; word-break: inherit !important;">new</span>&nbsp;User();<br />&nbsp;&nbsp;&nbsp;&nbsp;user.setName(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #7b9726; word-wrap: inherit !important; word-break: inherit !important;">"Jerry"</span>);<br />&nbsp;&nbsp;&nbsp;&nbsp;tjpp.change(user);<br />&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #7b9726; word-wrap: inherit !important; word-break: inherit !important;">"user&nbsp;in&nbsp;mian():"</span>+user);<br />}<br /><span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #6666ea; word-wrap: inherit !important; word-break: inherit !important;">public</span>&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #6666ea; word-wrap: inherit !important; word-break: inherit !important;">void</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #407ee7; word-wrap: inherit !important; word-break: inherit !important;">change</span><span class="hljs-params" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #df5320; word-wrap: inherit !important; word-break: inherit !important;">(User&nbsp;param)</span></span>{<br />&nbsp;&nbsp;&nbsp;&nbsp;param.setName(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #7b9726; word-wrap: inherit !important; word-break: inherit !important;">"Tom"</span>);<br />&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #7b9726; word-wrap: inherit !important; word-break: inherit !important;">"param&nbsp;in&nbsp;change():"</span>+param);<br />}<br /></code></pre>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">控制台输出：</p>
<pre><code><code class="bash language-bash hljs" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; background: #1b1918; color: #a8a19f; padding: 0.5em; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;">param&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #6666ea; word-wrap: inherit !important; word-break: inherit !important;">in</span>&nbsp;change():User(name=Tom}<br />user&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #6666ea; word-wrap: inherit !important; word-break: inherit !important;">in</span>&nbsp;mian():User(name=Tom}<br /></code></pre>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">main()方法中的user变量传递给change()方法，change()方法改变了其name属性值。通过看控制台输出，main()方法中的user变量的name属性值发生改变。</p>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;"><strong style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold;">结论：形参变了实参也变了，引用类型是引用传递。</strong></p>
<h3 id="h-4" style="color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px; font-weight: bold; font-size: 1.3em; border-bottom: 2px solid #ec4444;"><span style="font-size: inherit; line-height: inherit; margin: 0px; display: inline-block; font-weight: normal; background: #ec4444; color: #ffffff; padding: 3px 10px 0px; border-top-right-radius: 3px; border-top-left-radius: 3px; margin-right: 3px;">特殊的值传递</span></h3>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">例子3：</p>
<pre><code><code><span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #6666ea; word-wrap: inherit !important; word-break: inherit !important;">public</span>&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #6666ea; word-wrap: inherit !important; word-break: inherit !important;">static</span>&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #6666ea; word-wrap: inherit !important; word-break: inherit !important;">void</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #407ee7; word-wrap: inherit !important; word-break: inherit !important;">main</span><span class="hljs-params" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #df5320; word-wrap: inherit !important; word-break: inherit !important;">(String[]&nbsp;args)</span></span>{<br />&nbsp;&nbsp;&nbsp;&nbsp;TestJavaParamPass()&nbsp;tjpp&nbsp;=&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #6666ea; word-wrap: inherit !important; word-break: inherit !important;">new</span>&nbsp;TestJavaParamPass();<br />&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;name&nbsp;=&nbsp;<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #7b9726; word-wrap: inherit !important; word-break: inherit !important;">"Jerry"</span>;<br />&nbsp;&nbsp;&nbsp;&nbsp;tjpp.change(name);<br />&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #7b9726; word-wrap: inherit !important; word-break: inherit !important;">"name&nbsp;in&nbsp;main():"</span>+i);<br />}<br /><span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #6666ea; word-wrap: inherit !important; word-break: inherit !important;">public</span>&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #6666ea; word-wrap: inherit !important; word-break: inherit !important;">void</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #407ee7; word-wrap: inherit !important; word-break: inherit !important;">change</span><span class="hljs-params" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #df5320; word-wrap: inherit !important; word-break: inherit !important;">(String&nbsp;param)</span></span>{<br />&nbsp;&nbsp;&nbsp;&nbsp;param&nbsp;=&nbsp;<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #7b9726; word-wrap: inherit !important; word-break: inherit !important;">"Tom"</span>;<br />&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #7b9726; word-wrap: inherit !important; word-break: inherit !important;">"param&nbsp;in&nbsp;change():"</span>+param);<br />}<br /></code></pre>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">控制台输出：</p>
<pre><code><code class="bash language-bash hljs" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; background: #1b1918; color: #a8a19f; padding: 0.5em; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;">param&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #6666ea; word-wrap: inherit !important; word-break: inherit !important;">in</span>&nbsp;change():Tom<br />name&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #6666ea; word-wrap: inherit !important; word-break: inherit !important;">in</span>&nbsp;mian():Jerry<br /></code></pre>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">String也是引用类型的数据类型，为什么值没改变？</p>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">因为在change()方法里<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 1px 2px; border-radius: 4px; font-weight: bold; margin: 0px 2px; color: #e65100; background: #f8f8f8;">param = "Tom";</code>相当于<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 1px 2px; border-radius: 4px; font-weight: bold; margin: 0px 2px; color: #e65100; background: #f8f8f8;">param = new String("Tom");</code>就相当于param被重新赋值指向了另外一个对象。所以，其实String类型传的是引用，只不过被重新赋值指向了别的对象了，没有修改原对象。即，String本质上还是引用传递，表像上是值传递。</p>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;"><strong style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold;">结论：基本类型是值传递，引用类型是引用传递，String是特殊的值传递。</strong></p>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">看到这样的结论，没有去深究过，可能大部分程序员的认知都是这样的。</p>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">根据上面的例子我们先初步给值传递和引用传递下个定义，以及解释为什么大多数程序员都将String理解为是特殊的值传递。</p>
<h3 id="h-5" style="color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px; font-weight: bold; font-size: 1.3em; border-bottom: 2px solid #ec4444;"><span style="font-size: inherit; line-height: inherit; margin: 0px; display: inline-block; font-weight: normal; background: #ec4444; color: #ffffff; padding: 3px 10px 0px; border-top-right-radius: 3px; border-top-left-radius: 3px; margin-right: 3px;">概念提取</span></h3>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">与其叫概念提取还不如叫结论总结呢。</p>
<ul style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; padding-left: 32px; list-style-type: disc;">
<li style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; margin-bottom: 0.5em;">
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;"><strong style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold;">值传递：</strong>基本类型的变量在被传递给方法时，传递的是该变量的值（即复制自己的值传递给方法）。</p>
</li>
<li style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; margin-bottom: 0.5em;">
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;"><strong style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold;">引用传递：</strong>引用类型的变量在被传递给方法时， 传递的是该变量的引用（即自己所指向的内存地址）。</p>
</li>
<li style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; margin-bottom: 0.5em;">
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">为什么说<strong style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold;">String是特殊的值传递</strong>：是因为String和基本类型从表象来说表现出来的结果是一样，大概是为了便于记忆这个结果才这样说的吧。但是要知道String也是传递的引用，只不过它的引用被重新赋值，指向了别的对象了，所以不会影响原值。所以String不能简单的说是值传递。</p>
</li>
</ul>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">而仅仅根据上面的实验就给值传递，引用传递下这样的结论是不是太草率了？</p>
<h2 id="h-6" style="line-height: inherit; padding: 0px; margin: 1.5em 0px; font-weight: bold; font-size: 1.4em; color: white;"><span style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;">解析</span></h2>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">对于文章开始时提到的那些说法，前两种可以这样解释：</p>
<div class="mpa-template" data-mpa-template-id="117" data-mpa-color="#ffffff" data-mpa-category="quote">
<div style="border-width: 0px; border-style: none; border-color: initial; box-sizing: border-box;">
<div style="border-style: solid; -webkit-border-image: url('http://q1pqt7tv2.bkt.clouddn.com/Fg9mfOcRlcKdkHW8Ovhz8JzOWVYh') 94 170 140 fill; border-width: 20px 32px 40px 24px; font-size: 14px; line-height: 30px; box-sizing: border-box;">
<div style="margin-left: 16px;">
<p style="color: #222;"><span style="font-size: 16px;"> 大概是因为int没有因为change方法而改变原值，所以就说它传过去的是自身的值，因而叫值传递；User对象经过change方法后，对象的数据变了，就认为是因为实参和形参指向的是同一片内存空间，内存空间的数据变了就都变了，传过去的是引用所以就说对象是引用传递。这样说的侧重点是传递的东西。 </span></p>
</div>
</div>
</div>
</div>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">所以，如果从传递的东西的角度来看这两种说法也是没问题的呀。</p>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">至于<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 1px 2px; border-radius: 4px; font-weight: bold; margin: 0px 2px; color: #e65100; background: #f8f8f8;">Java只有值传递</code>的说法，我查阅了一些资料结合网上的文章了解到了求值策略这个名词，这大概牵涉到了语言本身的设计。所以就从这些名词来探究Java的方法调用时参数传递的奥秘。</p>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">我们先来看看这些编程语言里关于参数传递函数调用有关的术语。</p>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">（以下术语来自<a style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; text-decoration: none; color: #1e6bb8; overflow-wrap: break-word;" href="https://zh.wikipedia.org/wiki/求值策略">Wiki</a> ）</p>
<h3 id="hevaluationstrategy" style="color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px; font-weight: bold; font-size: 1.3em; border-bottom: 2px solid #ec4444;"><span style="font-size: inherit; line-height: inherit; margin: 0px; display: inline-block; font-weight: normal; background: #ec4444; color: #ffffff; padding: 3px 10px 0px; border-top-right-radius: 3px; border-top-left-radius: 3px; margin-right: 3px;">求值策略（Evaluation strategy）</span></h3>
<blockquote style="line-height: inherit; display: block; padding: 15px 15px 15px 1rem; font-size: 0.9em; margin: 1em 0px; color: #819198; border-left: 6px solid #43a047; background: #eceff1; overflow: auto; overflow-wrap: normal; word-break: normal;">
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 0px;">在<a style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; text-decoration: none; color: #1e6bb8; overflow-wrap: break-word;" href="https://zh.wikipedia.org/wiki/计算机科学">计算机科学</a>中，<strong style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold;">求值策略</strong>（英语：Evaluation strategy）是确定<a style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; text-decoration: none; color: #1e6bb8; overflow-wrap: break-word;" href="https://zh.wikipedia.org/wiki/编程语言">编程语言</a>中<a style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; text-decoration: none; color: #1e6bb8; overflow-wrap: break-word;" href="https://zh.wikipedia.org/wiki/表达式">表达式</a>的求值的一组（通常确定性的）规则。 重点典型的位于函数或算子上&mdash;&mdash;求值策略定义何时和以何种次序求值给函数的实际参数，什么时候把它们代换入函数，和代换以何种形式发生。</p>
</blockquote>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;"><strong style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold;">求值策略</strong>：是一组求值规则，用来定义如何为函数的实际参数求值。它是用来规定程序语言在方法、函数或过程调用时的传参策略，是在程序语言设计时就应该考虑的问题。而下面的这几个调用方式都属于求值策略。</p>
<h3 id="hcallbyvalue" style="color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px; font-weight: bold; font-size: 1.3em; border-bottom: 2px solid #ec4444;"><span style="font-size: inherit; line-height: inherit; margin: 0px; display: inline-block; font-weight: normal; background: #ec4444; color: #ffffff; padding: 3px 10px 0px; border-top-right-radius: 3px; border-top-left-radius: 3px; margin-right: 3px;">传值调用（Call by value）</span></h3>
<blockquote style="line-height: inherit; display: block; padding: 15px 15px 15px 1rem; font-size: 0.9em; margin: 1em 0px; color: #819198; border-left: 6px solid #43a047; background: #eceff1; overflow: auto; overflow-wrap: normal; word-break: normal;">
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 0px;">&ldquo;传值调用&rdquo;求值是最常见的求值策略，<a style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; text-decoration: none; color: #1e6bb8; overflow-wrap: break-word;" href="https://zh.wikipedia.org/wiki/C语言">C</a>和<a style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; text-decoration: none; color: #1e6bb8; overflow-wrap: break-word;" href="https://zh.wikipedia.org/wiki/Scheme">Scheme</a>这样差异巨大的语言都在使用。在传值调用中实际参数被求值，其值被绑定到函数中对应的变量上（通常是把值复制到新内存区域）。如果函数或过程能把值赋给它的形式参数，则被赋值的只是局部拷贝&mdash;&mdash;就是说，在函数返回后调用者作用域里的曾传给函数的任何东西都不会变。</p>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 0px;">传值调用不是一个单一的求值策略，而是指一类函数的实参在被传给函数之前就被求值的求值策略。 尽管很多使用传值调用的编程语言（如Common Lisp、Eiffel、Java）从左至右的求值函数的实际参数，某些语言（比如<a style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; text-decoration: none; color: #1e6bb8; overflow-wrap: break-word;" href="https://wiki.tw.wjbk.site/baike-OCaml">OCaml</a>）从右至左的求值函数和它们的实际参数，而另一些语言（比如Scheme和C）未指定这种次序（尽管它们保证<a style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; text-decoration: none; color: #1e6bb8; overflow-wrap: break-word;" href="https://wiki.tw.wjbk.site/w/index.php?title=顺序一致性&amp;action=edit&amp;redlink=1">顺序一致性</a>）。</p>
</blockquote>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;"><strong style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold;">传值调用</strong>：在传值调用中，实际参数被求值后传递给被调函数。也就是说传值调用是<strong style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold;">实参在被传给函数之前就被求值</strong>的一种求值策略。</p>
<h3 id="hjava-1" style="color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px; font-weight: bold; font-size: 1.3em; border-bottom: 2px solid #ec4444;"><span style="font-size: inherit; line-height: inherit; margin: 0px; display: inline-block; font-weight: normal; background: #ec4444; color: #ffffff; padding: 3px 10px 0px; border-top-right-radius: 3px; border-top-left-radius: 3px; margin-right: 3px;">在Java中的体现</span></h3>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">那什么叫<strong style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold;">实参在被传给函数之前就被求值</strong>呢？求的是谁的值呢？这个值又是什么呢？是怎么求得呢？</p>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">带着这些疑问，我们来看下面的例子。</p>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">如下，在调用change()方法时实参为<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 1px 2px; border-radius: 4px; font-weight: bold; margin: 0px 2px; color: #e65100; background: #f8f8f8;">i</code>，当程序执行到change(i)这一行时，<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 1px 2px; border-radius: 4px; font-weight: bold; margin: 0px 2px; color: #e65100; background: #f8f8f8;">i</code>是实参，这时<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 1px 2px; border-radius: 4px; font-weight: bold; margin: 0px 2px; color: #e65100; background: #f8f8f8;">i</code>就要被求值了，会求出<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 1px 2px; border-radius: 4px; font-weight: bold; margin: 0px 2px; color: #e65100; background: #f8f8f8;">i</code>的值即4传给change()方法；change()的形参<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 1px 2px; border-radius: 4px; font-weight: bold; margin: 0px 2px; color: #e65100; background: #f8f8f8;">a</code>拿到的是实参<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 1px 2px; border-radius: 4px; font-weight: bold; margin: 0px 2px; color: #e65100; background: #f8f8f8;">i</code>的值，是一个拷贝副本。</p>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">伪代码：</p>
<pre><code><code class="hljs cs" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; background: #1b1918; color: #a8a19f; padding: 0.5em; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;"><span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #6666ea; word-wrap: inherit !important; word-break: inherit !important;">void</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #407ee7; word-wrap: inherit !important; word-break: inherit !important;">change</span>(<span class="hljs-params" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #df5320; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #6666ea; word-wrap: inherit !important; word-break: inherit !important;">int</span>&nbsp;a</span>)</span>{<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #9c9491; word-wrap: inherit !important; word-break: inherit !important;">//拿到求得的实参的值</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;=&nbsp;a/<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #df5320; word-wrap: inherit !important; word-break: inherit !important;">2</span>;<br />}<br /><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #6666ea; word-wrap: inherit !important; word-break: inherit !important;">int</span>&nbsp;i&nbsp;=&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #df5320; word-wrap: inherit !important; word-break: inherit !important;">4</span>;<br />change(i);<br />System.<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #6666ea; word-wrap: inherit !important; word-break: inherit !important;">out</span>.print(i);<br /></code></pre>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">因为是值的副本，所以在函数内对形参操作不会影响实参，所以输出是4。</p>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">这里我们举的例子是基本类型<strong style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold;">int</strong>类型的。那对于引用类型呢？</p>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">同样需要对实参求值，这时得到的值是实参的地址值，形参拿到的是实参的地址值，这个地址值指向的是u1等号后面使用new关键字开辟出来的那片内存空间，所以此时u2也指向这片内存空间，所以打印出来u2将会和u1输出同样的内容。</p>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">伪代码：</p>
<pre><code><code class="hljs cs" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; background: #1b1918; color: #a8a19f; padding: 0.5em; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;"><span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #6666ea; word-wrap: inherit !important; word-break: inherit !important;">void</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #407ee7; word-wrap: inherit !important; word-break: inherit !important;">change</span>(<span class="hljs-params" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #df5320; word-wrap: inherit !important; word-break: inherit !important;">User&nbsp;u2</span>)</span>{<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #9c9491; word-wrap: inherit !important; word-break: inherit !important;">//拿到求得的实参的地址值</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #6666ea; word-wrap: inherit !important; word-break: inherit !important;">out</span>.print(u2);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;u2&nbsp;=&nbsp;getNewUser();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;u2.setName(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #7b9726; word-wrap: inherit !important; word-break: inherit !important;">"$%#@*"</span>)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #6666ea; word-wrap: inherit !important; word-break: inherit !important;">out</span>.print(u2);<br />}<br /><span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #6666ea; word-wrap: inherit !important; word-break: inherit !important;">public</span>&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #6666ea; word-wrap: inherit !important; word-break: inherit !important;">static</span>&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #6666ea; word-wrap: inherit !important; word-break: inherit !important;">void</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #407ee7; word-wrap: inherit !important; word-break: inherit !important;">main</span>()</span>{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;User&nbsp;u1&nbsp;=&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #6666ea; word-wrap: inherit !important; word-break: inherit !important;">new</span>&nbsp;User();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;u1.setName(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #7b9726; word-wrap: inherit !important; word-break: inherit !important;">"1234"</span>);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;change(u1);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #6666ea; word-wrap: inherit !important; word-break: inherit !important;">out</span>.print(u1);<br />}<br /></code></pre>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">然后，我们模仿上面的change(int a)的方法里，<strong style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold;">对形参接收到的值进行改变</strong>。注意，<strong style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold;">是形参的值</strong>，对change(User u2)来说，形参u2接收到的值是地址值，我们咋改变它呢？我们可以让u2指向另一个内存空间，即通过getNewUser()方法获取一个新的User对象，用这种方式给u2一个新的地址值，这不就改变了吗。</p>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">此时我们看输出，发现经过change()方法实参u1打印信息没变，为什么？因为u1的地址值没变，且u2是获得新地址后（指向另一片内存），在新的这片内存里操作的，故而不会影响到之前的那片内存空间的数据。</p>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">这样基本类型和引用类型的实验方法是一样的，看到的效果也是一样的，即实参没有随形参的改变而改变。</p>
<h2 id="h-7" style="line-height: inherit; padding: 0px; margin: 1.5em 0px; font-weight: bold; font-size: 1.4em; color: white;"><span style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;">总结</span></h2>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">最后得出的结论：<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 1px 2px; border-radius: 4px; font-weight: bold; margin: 0px 2px; color: #e65100; background: #f8f8f8;">从语言设计的角度</code>，Java的方法调用时参数的求值策略是<strong style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold;">传值调用(Call by value)</strong>的。</p>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">如果我们想表达引用类型传递的是引用，仅仅是想说传的是引用不是别的东西的话，我们可以说的明确点：<strong style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold;">引用类型传的是引用，和程序语言中的求值策略不沾边</strong> 。那你说的引用传递就和求值策略中的传引用调用没关系，只是想表达传的是引用的话也没人会说你错。由此来看文章开头提到的前2种说法是不是也有解释的余地？</p>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">存在即合理，不同的说法有不同的前提条件不同的解释方式。如果是从程序语言设计的求值策略角度来问Java是哪种求值策略的话，那可以肯定的说是传值调用（Call by value）。</p>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">(以下术语摘抄自Wiki。能力有限，对这样些专业名词还无法完美解读，仅供参考)</p>
<h2 id="h-8" style="line-height: inherit; padding: 0px; margin: 1.5em 0px; font-weight: bold; font-size: 1.4em; color: white;"><span style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;">附录</span></h2>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">传引用调用和传共享对象调用都是求值策略的一种。</p>
<h3 id="hcallbyreference" style="color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px; font-weight: bold; font-size: 1.3em; border-bottom: 2px solid #ec4444;"><span style="font-size: inherit; line-height: inherit; margin: 0px; display: inline-block; font-weight: normal; background: #ec4444; color: #ffffff; padding: 3px 10px 0px; border-top-right-radius: 3px; border-top-left-radius: 3px; margin-right: 3px;">传引用调用（Call by reference）</span></h3>
<blockquote style="line-height: inherit; display: block; padding: 15px 15px 15px 1rem; font-size: 0.9em; margin: 1em 0px; color: #819198; border-left: 6px solid #43a047; background: #eceff1; overflow: auto; overflow-wrap: normal; word-break: normal;">
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 0px;">在&ldquo;传引用调用&rdquo;求值中，传递给函数的是它的实际参数的隐式<a style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; text-decoration: none; color: #1e6bb8; overflow-wrap: break-word;" href="https://zh.wikipedia.org/wiki/引用">引用</a>而不是实参的拷贝。通常函数能够修改这些参数（比如赋值），而且改变对于调用者是可见的。因此传引用调用提供了一种调用者和函数交换数据的方法。传引用调用的语言中追踪函数调用的副作用比较难，易产生不易察觉的bug。</p>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 0px;">很多语言支持某种形式的传引用调用，但是很少有语言默认使用它。<a style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; text-decoration: none; color: #1e6bb8; overflow-wrap: break-word;" href="https://zh.wikipedia.org/wiki/Fortran">FORTRAN II</a> 是一种早期的传引用调用语言。一些语言如<a style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; text-decoration: none; color: #1e6bb8; overflow-wrap: break-word;" href="https://zh.wikipedia.org/wiki/C%2B%2B">C++</a>、<a style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; text-decoration: none; color: #1e6bb8; overflow-wrap: break-word;" href="https://zh.wikipedia.org/wiki/PHP">PHP</a>、<a style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; text-decoration: none; color: #1e6bb8; overflow-wrap: break-word;" href="https://zh.wikipedia.org/wiki/Visual_Basic_.NET">Visual Basic .NET</a>、<a style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; text-decoration: none; color: #1e6bb8; overflow-wrap: break-word;" href="https://zh.wikipedia.org/wiki/C_Sharp_(programming_language)">C#</a>和<a style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; text-decoration: none; color: #1e6bb8; overflow-wrap: break-word;" href="https://zh.wikipedia.org/wiki/REALbasic">REALbasic</a>默认使用传值调用，但是提供一种传引用的特别语法。</p>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 0px;">在那些使用传值调用又不支持传引用调用的语言里，可以用<a style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; text-decoration: none; color: #1e6bb8; overflow-wrap: break-word;" href="https://zh.wikipedia.org/wiki/參照">引用</a>（引用其他对象的对象），比如<a style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; text-decoration: none; color: #1e6bb8; overflow-wrap: break-word;" href="https://zh.wikipedia.org/wiki/指標_(電腦科學)">指针</a>（表示其他对象的内存地址的对象）来模拟。<a style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; text-decoration: none; color: #1e6bb8; overflow-wrap: break-word;" href="https://zh.wikipedia.org/wiki/C语言">C</a>和<a style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; text-decoration: none; color: #1e6bb8; overflow-wrap: break-word;" href="https://zh.wikipedia.org/wiki/ML語言">ML</a>就用了这种方法。这不是一种不同的求值策略（语言本身还是传值调用）。它有时被叫做&ldquo;传地址调用&rdquo;（call by address）。这可能让人不易理解。在C之类不安全的语言里会引发解引用<a style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; text-decoration: none; color: #1e6bb8; overflow-wrap: break-word;" href="https://zh.wikipedia.org/wiki/空指针">空指针</a>之类的错误。但ML的引用是类型安全和内存安全的。</p>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 0px;">类似的效果可由<a style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; text-decoration: none; color: #1e6bb8; overflow-wrap: break-word;" href="https://zh.wikipedia.org/wiki/求值策略#传共享对象调用（Call_by_sharing）">传共享对象调用</a>（传递一个可变对象）实现。比如Python、Ruby。</p>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 0px;">例：<a style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; text-decoration: none; color: #1e6bb8; overflow-wrap: break-word;" href="https://zh.wikipedia.org/wiki/C语言">C</a>用指针模拟的传引用调用</p>
<pre><code><code class="c language-c hljs cpp" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; background: #1b1918; color: #a8a19f; padding: 0.5em; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;"><span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #6666ea; word-wrap: inherit !important; word-break: inherit !important;">void</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #407ee7; word-wrap: inherit !important; word-break: inherit !important;">modify</span><span class="hljs-params" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #df5320; word-wrap: inherit !important; word-break: inherit !important;">(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #6666ea; word-wrap: inherit !important; word-break: inherit !important;">int</span>&nbsp;p,&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #6666ea; word-wrap: inherit !important; word-break: inherit !important;">int</span>*&nbsp;q,&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #6666ea; word-wrap: inherit !important; word-break: inherit !important;">int</span>*&nbsp;r)</span>&nbsp;</span>{<br />&nbsp;p&nbsp;=&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #df5320; word-wrap: inherit !important; word-break: inherit !important;">27</span>;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #9c9491; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;passed&nbsp;by&nbsp;value:&nbsp;only&nbsp;the&nbsp;local&nbsp;parameter&nbsp;is&nbsp;modified</span><br />&nbsp;*q&nbsp;=&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #df5320; word-wrap: inherit !important; word-break: inherit !important;">27</span>;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #9c9491; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;passed&nbsp;by&nbsp;value&nbsp;or&nbsp;reference,&nbsp;check&nbsp;call&nbsp;site&nbsp;to&nbsp;determine&nbsp;which</span><br />&nbsp;*r&nbsp;=&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #df5320; word-wrap: inherit !important; word-break: inherit !important;">27</span>;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #9c9491; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;passed&nbsp;by&nbsp;value&nbsp;or&nbsp;reference,&nbsp;check&nbsp;call&nbsp;site&nbsp;to&nbsp;determine&nbsp;which</span><br />}<br /><br /><span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #6666ea; word-wrap: inherit !important; word-break: inherit !important;">int</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #407ee7; word-wrap: inherit !important; word-break: inherit !important;">main</span><span class="hljs-params" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #df5320; word-wrap: inherit !important; word-break: inherit !important;">()</span>&nbsp;</span>{<br />&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #6666ea; word-wrap: inherit !important; word-break: inherit !important;">int</span>&nbsp;a&nbsp;=&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #df5320; word-wrap: inherit !important; word-break: inherit !important;">1</span>;<br />&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #6666ea; word-wrap: inherit !important; word-break: inherit !important;">int</span>&nbsp;b&nbsp;=&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #df5320; word-wrap: inherit !important; word-break: inherit !important;">1</span>;<br />&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #6666ea; word-wrap: inherit !important; word-break: inherit !important;">int</span>&nbsp;x&nbsp;=&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #df5320; word-wrap: inherit !important; word-break: inherit !important;">1</span>;<br />&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #6666ea; word-wrap: inherit !important; word-break: inherit !important;">int</span>*&nbsp;c&nbsp;=&nbsp;&amp;x;<br />&nbsp;modify(a,&nbsp;&amp;b,&nbsp;c);&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #9c9491; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;a是传值调用，&nbsp;b通过创建指针实现引用传递，c是按值传递的指针</span><br />&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #9c9491; word-wrap: inherit !important; word-break: inherit !important;">//b&nbsp;and&nbsp;x&nbsp;are&nbsp;changed</span><br />&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #6666ea; word-wrap: inherit !important; word-break: inherit !important;">return</span>&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #df5320; word-wrap: inherit !important; word-break: inherit !important;">0</span>;<br />}<br /></code></pre>
</blockquote>
<h3 id="hcallbysharing" style="color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px; font-weight: bold; font-size: 1.3em; border-bottom: 2px solid #ec4444;"><span style="font-size: inherit; line-height: inherit; margin: 0px; display: inline-block; font-weight: normal; background: #ec4444; color: #ffffff; padding: 3px 10px 0px; border-top-right-radius: 3px; border-top-left-radius: 3px; margin-right: 3px;">传共享对象调用（Call by sharing）</span></h3>
<blockquote style="line-height: inherit; display: block; padding: 15px 15px 15px 1rem; font-size: 0.9em; margin: 1em 0px; color: #819198; border-left: 6px solid #43a047; background: #eceff1; overflow: auto; overflow-wrap: normal; word-break: normal;">
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 0px;">此方式由Barbara Liskov命名[<a style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; text-decoration: none; color: #1e6bb8; overflow-wrap: break-word;" href="https://zh.wikipedia.org/wiki/求值策略#cite_note-CLU_Reference_Manual-1">1]</a>，并被Python、Java（对象类型）、JavaScript、Scheme、OCaml等语言使用。</p>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 0px;">与传引用调用不同，对于调用者而言在被调用函数里修改参数是没有影响的。如果要达成传引用调用的效果就需要传一个共享对象，一旦被调用者修改了对象，调用者就可以看到变化（因为对象是共享的，没有拷贝）。比如这段Python代码：</p>
<pre><code><code class="Python language-Python hljs" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; background: #1b1918; color: #a8a19f; padding: 0.5em; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;"><span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #6666ea; word-wrap: inherit !important; word-break: inherit !important;">def</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #407ee7; word-wrap: inherit !important; word-break: inherit !important;">f</span><span class="hljs-params" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #df5320; word-wrap: inherit !important; word-break: inherit !important;">(l)</span>:</span><br />&nbsp;l.append(<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #df5320; word-wrap: inherit !important; word-break: inherit !important;">1</span>)<br />&nbsp;l&nbsp;=&nbsp;[<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #df5320; word-wrap: inherit !important; word-break: inherit !important;">2</span>]<br />m&nbsp;=&nbsp;[]<br />f(m)<br />print(m)<br /></code></pre>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 0px;">会输出[1]而不是[2]。因为列表是可变的，append方法改变了m。而赋值局部变量l的行为对外面作用域没有影响（在这类语言中赋值是给变量绑定一个新对象，而不是改变对象）。</p>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 0px;">使用C/C++语言的程序员可能因不能用指针等使函数返回多个值而感到不便，但是像Python这样的语言提供了替代方案：函数能方便的返回多个值，比C++11的std::tie更加简单。</p>
</blockquote>
</div>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>