<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修python3 enum模块的应用' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>python3 enum模块的应用</center></div><div class='banquan'>原文出处:本文由博客园博主达标提供。<br/>
原文连接:https://www.cnblogs.com/interpreter/p/python_enum.html</div><br>
    <h1 style="text-align: left; margin-left: 30px;"><strong><span style="font-family: 宋体; font-size: 18pt; color: #000000;">python枚举模块的学习</span></strong></h1>
<p><span style="color: #999999;"><strong><span style="font-family: 宋体; font-size: 18pt;">ps：小编刚开始学习没多久，部分资源来源于其他网友，如有出错，麻烦联系修改哈，互帮互助，共同进步</span></strong></span></p>
<h1><span style="font-size: 18pt;"><strong><span style="font-family: 宋体; color: #000000;">一、枚举与字典类型</span></strong></span></h1>
<p style="text-align: left;"><span style="font-size: 18pt;"><span style="font-family: 宋体; color: #000000;">字典类型的缺点：1.值可变 2.没有防止相同标签的功能</span></span></p>
<p style="text-align: left;"><span style="font-size: 18pt;"><span style="font-family: 宋体; color: #000000;">枚举的特点：1.枚举类的值不可以被外界更改 2.不能存在相同的标签，但允许不同标签存在相同的枚举值，即后者相当于前者的别名 3.枚举值可以是任意类型 4.枚举标签尽量用大写</span></span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">from</span> enum <span style="color: #0000ff;">import</span><span style="color: #000000;"> Enum  #普通类

</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> dict():
    green </span>= 1<span style="color: #000000;">
    green </span>= 2<span style="color: #000000;">
    red </span>= 3<span style="color: #000000;">

dict.red </span>= 4   
<span style="color: #0000ff;">print</span><span style="color: #000000;">(dict.red)<br /><br />&gt;&gt;&gt; 4</span></pre>
</div>
<p style="text-align: left;">&nbsp;</p>
<p style="text-align: left;">&nbsp;</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">class</span><span style="color: #000000;"> VIP(Enum): 
    RED </span>= 1<span style="color: #000000;">
    GREEN </span>=2<span style="color: #000000;">
    YELLOW </span>= 3<span style="color: #000000;">

VIP.GREEN </span>= 5  #枚举值不能动态更改<br /><br />&gt;&gt;&gt;File "D:\python\lib\enum.py", line 361, in __setattr__<br /><br />　　raise AttributeError('Cannot reassign members.')<br /><br /><em id="__mceDel"><em id="__mceDel"><em id="__mceDel">　　AttributeError: Cannot reassign members.</em></em></em></pre>
</div>
<div class="cnblogs_code">
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">class</span><span style="color: #000000;"> VIP(Enum):
    RED </span>= 1<span style="color: #000000;">
    GREEN </span>=2<span style="color: #000000;">
    YELLOW </span>= 3<span style="color: #000000;">
    YELLOW </span>= 3  <span style="color: #008000;">#</span><span style="color: #008000;">不能出现相同的标签</span>

&gt;&gt;&gt;File <span style="color: #800000;">"</span><span style="color: #800000;">D:\python\lib\enum.py</span><span style="color: #800000;">"</span>, line 92, <span style="color: #0000ff;">in</span> <span style="color: #800080;">__setitem__</span>
       <span style="color: #0000ff;">raise</span> TypeError(<span style="color: #800000;">'</span><span style="color: #800000;">Attempted to reuse key: %r</span><span style="color: #800000;">'</span> %<span style="color: #000000;"> key)
       TypeError: Attempted to reuse key: </span><span style="color: #800000;">'</span><span style="color: #800000;">YELLOW</span><span style="color: #800000;">'</span></pre>
</div>
<pre><code><span style="color: #0000ff;">class</span><span style="color: #000000;"> VIP(Enum):
    RED </span>= 1<span style="color: #000000;">
    GREEN </span>=2<span style="color: #000000;">
    YELLOW </span>= 3<span style="color: #000000;">
    BLUE </span>= 3

<span style="color: #0000ff;">print</span><span style="color: #000000;">(VIP.BLUE)

</span>&gt;&gt;&gt;VIP.YELLOW   #即VIP.BLUE类似于VIP.YELLOW的别名</pre>
</div>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">class</span><span style="color: #000000;"> VIP(Enum):
    RED </span>= 1  <span style="color: #008000;">#</span><span style="color: #008000;">整型</span>
    BLUE = 1.2 <span style="color: #008000;">#</span><span style="color: #008000;">浮点型</span>
    GREEN = <span style="color: #800000;">'</span><span style="color: #800000;">green</span><span style="color: #800000;">'</span>  <span style="color: #008000;">#</span><span style="color: #008000;">str</span>
    YELLOW = True  <span style="color: #008000;">#</span><span style="color: #008000;">布尔值</span></pre>
</div>
<h1 style="text-align: left;"><span style="font-family: 宋体; font-size: 18pt;">二、枚举类型、枚举名称、枚举值</span></h1>
<p><span style="font-family: 宋体; font-size: 18pt;">1.获取枚举类型中的标签：.name属性</span></p>
<p><span style="font-family: 宋体; font-size: 18pt;">2.获取枚举类型中的值：.value属性</span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">from</span> enum <span style="color: #0000ff;">import</span><span style="color: #000000;"> Enum
</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> VIP(Enum):
    RED </span>= 1<span style="color: #000000;">
    GREEN </span>= <span style="color: #800000;">'</span><span style="color: #800000;">green</span><span style="color: #800000;">'</span><span style="color: #000000;">
    YELLOW </span>=<span style="color: #000000;"> True
    BLUE </span>= 1.2

<span style="color: #0000ff;">print</span>(VIP.RED)  <span style="color: #008000;">#</span><span style="color: #008000;">枚举的类型</span>
<span style="color: #0000ff;">print</span>(VIP.YELLOW.name)    <span style="color: #008000;">#</span><span style="color: #008000;">枚举的标签</span>
<span style="color: #0000ff;">print</span>(VIP.YELLOW.value)    <span style="color: #008000;">#</span><span style="color: #008000;">枚举的数值</span>
<span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">遍历成员。。。</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #0000ff;">for</span> i <span style="color: #0000ff;">in</span> VIP.<span style="color: #800080;">__members__</span>.items():    <span style="color: #008000;">#</span><span style="color: #008000;">枚举的遍历</span>
    <span style="color: #0000ff;">print</span><span style="color: #000000;">(i)

</span>&gt;&gt;&gt;<span style="color: #000000;">
VIP.RED
RED
</span>1<span style="color: #000000;">
遍历成员。。。
(</span><span style="color: #800000;">'</span><span style="color: #800000;">RED</span><span style="color: #800000;">'</span>, &lt;VIP.RED: 1&gt;<span style="color: #000000;">)
(</span><span style="color: #800000;">'</span><span style="color: #800000;">GREEN</span><span style="color: #800000;">'</span>, &lt;VIP.GREEN: <span style="color: #800000;">'</span><span style="color: #800000;">green</span><span style="color: #800000;">'</span>&gt;<span style="color: #000000;">)
(</span><span style="color: #800000;">'</span><span style="color: #800000;">YELLOW</span><span style="color: #800000;">'</span>, &lt;VIP.RED: 1&gt;<span style="color: #000000;">)
(</span><span style="color: #800000;">'</span><span style="color: #800000;">BLUE</span><span style="color: #800000;">'</span>, &lt;VIP.BLUE: 1.2&gt;)</pre>
</div>
<h1><span style="font-family: 宋体; font-size: 18pt;">三、枚举的比较运算</span></h1>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">class</span><span style="color: #000000;"> VIP(Enum):
    RED </span>= 1<span style="color: #000000;">
    GREEN </span>= <span style="color: #800000;">'</span><span style="color: #800000;">green</span><span style="color: #800000;">'</span><span style="color: #000000;">
    YELLOW </span>=<span style="color: #000000;"> True
    BLUE </span>= 2
<span style="color: #008000;">#</span><span style="color: #008000;">枚举的比较</span>
a = VIP.RED == VIP.RED  <span style="color: #008000;">#</span><span style="color: #008000;">枚举值可以做等值比较</span>
b = VIP.RED ==<span style="color: #000000;"> VIP.GREEN
c </span>= VIP.RED <span style="color: #0000ff;">is</span><span style="color: #000000;"> VIP.RED
d </span>= VIP.RED == 1  <span style="color: #008000;">#</span><span style="color: #008000;">枚举标签与枚举值比较，并不相等</span>
f = VIP.RED &lt; VIP.BLUE  <span style="color: #008000;">#</span><span style="color: #008000;">枚举值不支持大小比较，打印会报错TypeError: '&lt;' not supported between instances of 'VIP' and 'VIP'</span>

<span style="color: #0000ff;">print</span><span style="color: #000000;">(a)
</span><span style="color: #0000ff;">print</span><span style="color: #000000;">(b)
</span><span style="color: #0000ff;">print</span><span style="color: #000000;">(c)
</span><span style="color: #0000ff;">print</span><span style="color: #000000;">(d)

</span>&gt;&gt;&gt;<span style="color: #000000;">
True
False
True
False</span></pre>
</div>
<h1><span style="font-family: 宋体; font-size: 18pt;">四、枚举的转换</span></h1>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">class</span><span style="color: #000000;"> VIP(Enum):
    RED </span>= 1<span style="color: #000000;">
    GREEN </span>= <span style="color: #800000;">'</span><span style="color: #800000;">green</span><span style="color: #800000;">'</span><span style="color: #000000;">
    YELLOW </span>=<span style="color: #000000;"> True
    BLUE </span>= 2

<span style="color: #0000ff;">print</span>(VIP(2))   <span style="color: #008000;">#</span><span style="color: #008000;">通过具体值获取枚举类型，返回VIP.BLUE</span>
<span style="color: #0000ff;">print</span>(VIP(<span style="color: #800000;">'</span><span style="color: #800000;">green</span><span style="color: #800000;">'</span>))    <span style="color: #008000;">#</span><span style="color: #008000;">返回VIP.GREEN</span></pre>
</div>
<h1><span style="font-family: 宋体; font-size: 18pt;">五、枚举的拓展unique</span></h1>
<p><span style="font-family: 宋体; font-size: 18pt;">unique:规定两个不同的枚举不能取相同的值</span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">from</span> enum <span style="color: #0000ff;">import</span><span style="color: #000000;"> Enum,unique

@unique
</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> VIP(Enum):
    RED </span>= 1<span style="color: #000000;">
    GREEN </span>= 1<span style="color: #000000;">
    YELLOW </span>=<span style="color: #000000;"> True
    BLUE </span>= 2

&gt;&gt;&gt;<span style="color: #000000;">报错
ValueError: duplicate values found </span><span style="color: #0000ff;">in</span> &lt;enum <span style="color: #800000;">'</span><span style="color: #800000;">VIP</span><span style="color: #800000;">'</span>&gt;: GREEN -&gt; RED, YELLOW -&gt; RED</pre>
</div>
<h1><span style="font-family: 宋体; font-size: 18pt;">六、枚举的拓展auto</span></h1>
<p><span style="font-family: 宋体; font-size: 18pt;">如果我们对枚举值没有特别的要求或者没有太大的影响时，我们可以使用auto自动生成对应的数值</span></p>
<p>&nbsp;</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">from</span> enum <span style="color: #0000ff;">import</span><span style="color: #000000;"> Enum,auto

</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> VIP(Enum):
    RED </span>=<span style="color: #000000;"> auto()
    GREEN </span>=<span style="color: #000000;"> auto()
    YELLOW </span>=<span style="color: #000000;"> auto()
    BLUE </span>=<span style="color: #000000;"> auto()

</span><span style="color: #0000ff;">for</span> i <span style="color: #0000ff;">in</span> VIP.<span style="color: #800080;">__members__</span>.items():   <span style="color: #008000;">#</span><span style="color: #008000;">遍历枚举</span>
    <span style="color: #0000ff;">print</span><span style="color: #000000;">(i)

</span>&gt;&gt;&gt;<span style="color: #000000;">
(</span><span style="color: #800000;">'</span><span style="color: #800000;">RED</span><span style="color: #800000;">'</span>, &lt;VIP.RED: 1&gt;<span style="color: #000000;">)
(</span><span style="color: #800000;">'</span><span style="color: #800000;">GREEN</span><span style="color: #800000;">'</span>, &lt;VIP.GREEN: 2&gt;<span style="color: #000000;">)
(</span><span style="color: #800000;">'</span><span style="color: #800000;">YELLOW</span><span style="color: #800000;">'</span>, &lt;VIP.YELLOW: 3&gt;<span style="color: #000000;">)
(</span><span style="color: #800000;">'</span><span style="color: #800000;">BLUE</span><span style="color: #800000;">'</span>, &lt;VIP.BLUE: 4&gt;)</pre>
</div>
<p>&nbsp;</p>
<p><span style="font-family: 宋体; font-size: 18pt;">其实，auto值是调用_generate_next_value_()函数来产生的，我们可以通过重写该函数</span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">from</span> enum <span style="color: #0000ff;">import</span><span style="color: #000000;"> Enum,auto

</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> auto_test(Enum):
    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> _generate_next_value_(name, start, count, last_values):
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> name

</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> VIP(auto_test):
    RED </span>=<span style="color: #000000;"> auto()
    GREEN </span>=<span style="color: #000000;"> auto()
    YELLOW </span>=<span style="color: #000000;"> auto()
    BLUE </span>=<span style="color: #000000;"> auto()

</span><span style="color: #008000;">#</span><span style="color: #008000;"> for i in VIP.__members__.items():  #遍历枚举</span><span style="color: #008000;">
#</span><span style="color: #008000;">     print(i)</span>
<span style="color: #0000ff;">print</span>(list(VIP))   <span style="color: #008000;">#</span><span style="color: #008000;">转换列表</span>

&gt;&gt;&gt;<span style="color: #000000;">
[</span>&lt;VIP.RED: <span style="color: #800000;">'</span><span style="color: #800000;">RED</span><span style="color: #800000;">'</span>&gt;, &lt;VIP.GREEN: <span style="color: #800000;">'</span><span style="color: #800000;">GREEN</span><span style="color: #800000;">'</span>&gt;, &lt;VIP.YELLOW: <span style="color: #800000;">'</span><span style="color: #800000;">YELLOW</span><span style="color: #800000;">'</span>&gt;, &lt;VIP.BLUE: <span style="color: #800000;">'</span><span style="color: #800000;">BLUE</span><span style="color: #800000;">'</span>&gt;]</pre>
</div>
<p>&nbsp;</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>