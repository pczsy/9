<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修什么是RESTful？RESTfule风格' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>什么是RESTful？RESTfule风格</center></div><div class='banquan'>原文出处:本文由博客园博主陈彦斌提供。<br/>
原文连接:https://www.cnblogs.com/chenyanbin/p/12040880.html</div><br>
    <h1 style="text-align: center;">导读</h1>
<p>理解什么是REST之前，先去脑补以下什么是HTTP，参考【<a class="entrylistItemTitle" href="https://www.cnblogs.com/chenyanbin/p/12033469.html">Http协议</a>】</p>
<h1 style="text-align: center;">什么是REST?</h1>
<p>　　<span style="color: #ff0000;"><strong>REST</strong></span>(英文：Representational State Transfer，简称<span style="color: #ff0000;"><strong>REST</strong></span>，意思：表述性状态转换，描述了一个<span style="color: #ff0000;"><strong>架构</strong></span>样式的网络系统，比如web应用)。</p>
<p>　　它是一种软件架构风格、设计风格，而不是标准，只是提供了一组设计原则和约束条件，它主要用于<span style="color: #ff0000;"><strong>客户端和服务端</strong></span>交互类的软件。基于这个风格设计的软件可以更简介，更有层次，更易于实现缓存等机制。</p>
<p>　　它本身并没有什么使用性，其核心价值在于如何设计出符合REST风格的网络接口。</p>
<h1 style="text-align: center;">什么是RESTful？</h1>
<p>　　<span style="color: #ff0000;"><strong>REST</strong></span>：指的是一组架构约束条件和原则。满足这些约束条件和原则的应用程序或设计就是<span style="color: #ff0000;"><strong>RESTful</strong></span>。</p>
<h2>RESTful的特性</h2>
<p>　　<span style="color: #ff0000;"><strong>资源(Resources)</strong></span>：网络上的一个实体，或者说是网络上的一个具体信息。它可以是一段文本、一张图片、一首歌曲、一种服务，总之就是一个具体的存在。可以用一个URI（统一资源定位符）指向它，每种资源对应一个特性的URI。要获取这个资源，访问它的URI就可以，因此URI即为每一个资源的独一无二的识别符。</p>
<p>　　<span style="color: #ff0000;"><strong>表现层(Representation)</strong></span>：把资源具体呈现出来的形式，叫做它的表现层(Representation)。比如，文本可以用txt格式表现，也可以用HTML格式、XML格式、JSON格式表现，甚至可以采用二进制格式。</p>
<p>　　<span style="color: #ff0000;"><strong>状态转换(State Transfer)</strong></span>：每发出一个请求，就代表了客户端和服务器的一次交互过程。HTTP协议，是一个无状态协议，即所有的状态都保存在服务器端。因此，如果客户端想要操作服务器，必须通过某种手段，让服务器端发生&ldquo;状态转换&rdquo;(State Transfer)。而这种转换是建立在表现层之上的，所以就是&ldquo;表现层状态转换&rdquo;。具体说，就是HTTP协议里面，四个表示操作方式的动词：<span style="color: #ff0000;"><strong>GET、POST、PUT、DELETE</strong></span>。他们分别对应四种基本操作：GET用来获取资源，POST用来新建资源，PUT用来更新资源，DELETE用来删除资源。</p>
<h1 style="text-align: center;">如何设计RESTful应用程序的API?</h1>
<p>　　<strong>路径设计</strong>：数据库设计完毕之后，基本上就可以确定有哪些资源要进行操作，相对应的路径也可以设计出来。</p>
<p>　　<strong>动词设计</strong>：也就是针对资源的具体操作类型，有HTTP动词表示，常用的HTTP动词如下：POST、DELETE、PUT、GET</p>
<h2>RESTful示例</h2>
<ol>
<li>/account/1 HTTP GET：得到id=1的account</li>
<li>/account/1 HTTP DELETE：删除id=1的account</li>
<li>/account/1 HTTP PUT：更新id=1的account</li>
</ol>
<h1 style="text-align: center;">SpringMvc对RESTful的支持</h1>
<h2>RESTful的URL路径变量</h2>
<p><span style="color: #ff0000;"><strong>URL-PATTERN</strong></span>：设置为<span style="color: #ff0000;"><strong>/</strong></span>，方便拦截RESTful请求。</p>
<p><span style="color: #ff0000;"><strong>@PathVariable</strong></span>：可以解析出来URL中的模板变量(<span style="color: #ff0000;"><strong>{id}/{name}</strong></span>)</p>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">URL：http://localhost:8080/ssm/cyb/item/1/chenyanbin


Controller层：
@RequestMapping("{id}/{name}")
@ResponseBody
public Item queryItemById(@PathVariable Integer id,@PathVariable String name){
.............
}</span></pre>
</div>
<p>如图</p>
<h2><img src="./images/什么是RESTful？RESTfule风格0.png" alt="" /></h2>
<h2>RESTful的CRUD</h2>
<p><span style="color: #ff0000;"><strong>@RequestMapping</strong></span>：通过设置<span style="color: #ff0000;"><strong>method</strong></span>属性的<span style="color: #ff0000;"><strong>CRUD</strong></span>，可以将<strong><span style="color: #ff0000;">同一个URL映射</span></strong>到<span style="color: #ff0000;"><strong>不同</strong></span>的<span style="color: #ff0000;"><strong>HandlerMethod</strong></span>方法上。</p>
<p><span style="color: #ff0000;"><strong>@GetMapping、@PostMapping、@PutMapping、@DeleteMapping</strong></span>注解同@RequestMapping注解的method属性设置。</p>
<h2>RESTful的资源表述</h2>
<p><span style="color: #ff0000;"><strong>RESTful</strong></span>服务中一个重要的特性就是<span style="color: #ff0000;"><strong>一种资源</strong></span>可以有<span style="color: #ff0000;"><strong>多种表现形式</strong></span>，在SpringMvc中可以使用<span style="color: #ff0000;"><strong>ContentNegotiatingManager</strong></span>这个内容协商管理器来实现这种方式。</p>
<h2>内容协商的方式有三种</h2>
<ol>
<li><span style="color: #ff0000;"><strong>扩展名</strong></span>，比如.json表示我要JSON格式数据、.xml表示我要xml格式数据</li>
<li><span style="color: #ff0000;"><strong>请求参数</strong></span>：默认是&ldquo;format&rdquo;</li>
<li><span style="color: #ff0000;"><strong>请求头设置Accept参数</strong></span>，比如设置Accept为application/json表示要JSON格式数据</li>
</ol>
<p>现在一般RESTful风格响应的数据一般都是<span style="color: #ff0000;"><strong>JSON</strong></span>格式，所以一般也不使用内容协商管理器，直接使用<span style="color: #ff0000;"><strong>@ResponseBody</strong></span>注解将数据按照JSON格式返回</p>
<h1 style="text-align: center;">静态资源访问&lt;mvc:resources&gt;</h1>
<p>在Springmvc.xml文件中，使用mvc:resources标签，具体如下：</p>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">&lt;!--</span><span style="color: #008000;"> 当DispatcherServlet配置为/来拦截请求的时候，需要配置静态资源的访问映射 </span><span style="color: #008000;">--&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">mvc:resources </span><span style="color: #ff0000;">location</span><span style="color: #0000ff;">="/js/"</span><span style="color: #ff0000;"> mapping</span><span style="color: #0000ff;">="/js/**"</span><span style="color: #0000ff;">/&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">mvc:resources </span><span style="color: #ff0000;">location</span><span style="color: #0000ff;">="/css/"</span><span style="color: #ff0000;"> mapping</span><span style="color: #0000ff;">="/css/**"</span><span style="color: #0000ff;">/&gt;</span><span style="color: #000000;">
....
....
....
....</span></pre>
</div>
<p>如图</p>
<p><img src="./images/什么是RESTful？RESTfule风格1.png" alt="" /></p>
<p>SpringMvc会把mapping映射到<span style="color: #ff0000;"><strong>ResourceHttpRequestHandler</strong></span>，这样静态资源在经过DispatcherServlet转发时就可以找到对应的Handler了。</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>