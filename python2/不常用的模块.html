<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修不常用的模块' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>不常用的模块</center></div><div class='banquan'>原文出处:本文由博客园博主strawberry*提供。<br/>
原文连接:https://www.cnblogs.com/strawberry-1/p/11468822.html</div><br>
    <h2 id="title-0-3-0">四，configparser模块</h2>
<p>该模块适用于配置文件的格式与windows ini文件类似，可以包含一个或多个节（section），每个节可以有多个参数（键=值）。</p>
<div class="cnblogs_code" onclick="cnblogs_code_show('1cabfe8e-20a6-4c59-aae6-1080ee9420d8')"><img id="code_img_closed_1cabfe8e-20a6-4c59-aae6-1080ee9420d8" class="code_img_closed" src="./images/不常用的模块0.png" alt="" /><img id="code_img_opened_1cabfe8e-20a6-4c59-aae6-1080ee9420d8" class="code_img_opened" onclick="cnblogs_code_hide('1cabfe8e-20a6-4c59-aae6-1080ee9420d8',event)" src="./images/不常用的模块1.png" alt="" />
<div id="cnblogs_code_open_1cabfe8e-20a6-4c59-aae6-1080ee9420d8" class="cnblogs_code_hide">
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码" onclick="copyCnblogsCode(this)"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
<pre><code>"""
Django settings for webwx project.

Generated by 'django-admin startproject' using Django 1.10.3.

For more information on this file, see
https://docs.djangoproject.com/en/1.10/topics/settings/

For the full list of settings and their values, see
https://docs.djangoproject.com/en/1.10/ref/settings/
"""

import os

# Build paths inside the project like this: os.path.join(BASE_DIR, ...)
BASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))


# Quick-start development settings - unsuitable for production
# See https://docs.djangoproject.com/en/1.10/howto/deployment/checklist/

# SECURITY WARNING: keep the secret key used in production secret!
SECRET_KEY = 'mpn^n-s-&amp;+ckg_)gl4sp^@8=89us&amp;@*^r1c_81#x-5+$)rf8=3'

# SECURITY WARNING: don't run with debug turned on in production!
DEBUG = True

ALLOWED_HOSTS = []


# Application definition

INSTALLED_APPS = [
    'django.contrib.admin',
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.staticfiles',
    'web',
]

MIDDLEWARE = [
    'django.middleware.security.SecurityMiddleware',
    'django.contrib.sessions.middleware.SessionMiddleware',
    'django.middleware.common.CommonMiddleware',
    # 'django.middleware.csrf.CsrfViewMiddleware',
    'django.contrib.auth.middleware.AuthenticationMiddleware',
    'django.contrib.messages.middleware.MessageMiddleware',
    'django.middleware.clickjacking.XFrameOptionsMiddleware',
]

ROOT_URLCONF = 'webwx.urls'

TEMPLATES = [
    {
        'BACKEND': 'django.template.backends.django.DjangoTemplates',
        'DIRS': [os.path.join(BASE_DIR, 'templates')]
        ,
        'APP_DIRS': True,
        'OPTIONS': {
            'context_processors': [
                'django.template.context_processors.debug',
                'django.template.context_processors.request',
                'django.contrib.auth.context_processors.auth',
                'django.contrib.messages.context_processors.messages',
            ],
        },
    },
]

WSGI_APPLICATION = 'webwx.wsgi.application'


# Database
# https://docs.djangoproject.com/en/1.10/ref/settings/#databases

DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.sqlite3',
        'NAME': os.path.join(BASE_DIR, 'db.sqlite3'),
    }
}


# Password validation
# https://docs.djangoproject.com/en/1.10/ref/settings/#auth-password-validators

AUTH_PASSWORD_VALIDATORS = [
    {
        'NAME': 'django.contrib.auth.password_validation.UserAttributeSimilarityValidator',
    },
    {
        'NAME': 'django.contrib.auth.password_validation.MinimumLengthValidator',
    },
    {
        'NAME': 'django.contrib.auth.password_validation.CommonPasswordValidator',
    },
    {
        'NAME': 'django.contrib.auth.password_validation.NumericPasswordValidator',
    },
]


# Internationalization
# https://docs.djangoproject.com/en/1.10/topics/i18n/

LANGUAGE_CODE = 'en-us'

TIME_ZONE = 'UTC'

USE_I18N = True

USE_L10N = True

USE_TZ = True


# Static files (CSS, JavaScript, Images)
# https://docs.djangoproject.com/en/1.10/howto/static-files/

STATIC_URL = '/static/'
STATICFILES_DIRS = (
    os.path.join(BASE_DIR,'static'),
)</pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码" onclick="copyCnblogsCode(this)"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
</div>
<span class="cnblogs_code_collapse">Django的配置文件举例</span></div>
<h4>创建文件</h4>
<p><strong>来看一个好多软件的常见文档格式如下：</strong></p>
<div class="cnblogs_code">
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码" onclick="copyCnblogsCode(this)"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
<pre><code>[DEFAULT]
ServerAliveInterval = 45
Compression = yes
CompressionLevel = 9
ForwardX11 = yes
  
[bitbucket.org]
User = hg
  
[topsecret.server.com]
Port = 50022
ForwardX11 = no</pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码" onclick="copyCnblogsCode(this)"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
</div>
<p>如果想用python生成一个这样的文档怎么做呢？</p>
<div class="cnblogs_code">
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码" onclick="copyCnblogsCode(this)"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
<pre><code>import configparser

config = configparser.ConfigParser()

config["DEFAULT"] = {'ServerAliveInterval': '45',
                      'Compression': 'yes',
                     'CompressionLevel': '9',
                     'ForwardX11':'yes'
                     }

config['bitbucket.org'] = {'User':'hg'}

config['topsecret.server.com'] = {'Host Port':'50022','ForwardX11':'no'}

with open('example.ini', 'w') as configfile:

   config.write(configfile)</pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码" onclick="copyCnblogsCode(this)"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
</div>
<h4>查找文件</h4>
<div class="cnblogs_code">
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码" onclick="copyCnblogsCode(this)"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
<pre><code>import configparser

config = configparser.ConfigParser()

#---------------------------查找文件内容,基于字典的形式

print(config.sections())        #  []

config.read('example.ini')

print(config.sections())        #   ['bitbucket.org', 'topsecret.server.com']

print('bytebong.com' in config) # False
print('bitbucket.org' in config) # True


print(config['bitbucket.org']["user"])  # hg

print(config['DEFAULT']['Compression']) #yes

print(config['topsecret.server.com']['ForwardX11'])  #no


print(config['bitbucket.org'])          #&lt;Section: bitbucket.org&gt;

for key in config['bitbucket.org']:     # 注意,有default会默认default的键
    print(key)

print(config.options('bitbucket.org'))  # 同for循环,找到'bitbucket.org'下所有键

print(config.items('bitbucket.org'))    #找到'bitbucket.org'下所有键值对

print(config.get('bitbucket.org','compression')) # yes       get方法Section下的key对应的value</pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码" onclick="copyCnblogsCode(this)"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
</div>
<h4>增删改操作</h4>
<div class="cnblogs_code">
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码" onclick="copyCnblogsCode(this)"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
<pre><code>import configparser

config = configparser.ConfigParser()

config.read('example.ini')

config.add_section('yuan')



config.remove_section('bitbucket.org')
config.remove_option('topsecret.server.com',"forwardx11")


config.set('topsecret.server.com','k1','11111')
config.set('yuan','k2','22222')

config.write(open('new2.ini', "w"))</pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码" onclick="copyCnblogsCode(this)"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
</div>
<h2 id="title-0-4-0">五，logging模块</h2>
<h4>函数式简单配置</h4>
<div class="cnblogs_code">
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码" onclick="copyCnblogsCode(this)"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
<pre><code>import logging  
logging.debug('debug message')  
logging.info('info message')  
logging.warning('warning message')  
logging.error('error message')  
logging.critical('critical message') </pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码" onclick="copyCnblogsCode(this)"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
</div>
<p>默认情况下Python的logging模块将日志打印到了标准输出中，且只显示了大于等于WARNING级别的日志，这说明默认的日志级别设置为WARNING（日志级别等级CRITICAL &gt; ERROR &gt; WARNING &gt; INFO &gt; DEBUG），默认的日志格式为日志级别：Logger名称：用户输出消息。</p>
<p><strong>灵活配置日志级别，日志格式，输出位置:</strong></p>
<div class="cnblogs_code">
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码" onclick="copyCnblogsCode(this)"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
<pre><code>import logging  
logging.basicConfig(level=logging.DEBUG,  
                    format='%(asctime)s %(filename)s[line:%(lineno)d] %(levelname)s %(message)s',  
                    datefmt='%a, %d %b %Y %H:%M:%S',  
                    filename='/tmp/test.log',  
                    filemode='w')  
  
logging.debug('debug message')  
logging.info('info message')  
logging.warning('warning message')  
logging.error('error message')  
logging.critical('critical message')</pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码" onclick="copyCnblogsCode(this)"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
</div>
<div class="cnblogs_code" onclick="cnblogs_code_show('e5957fb3-2529-4264-8133-b9c71777cef3')"><img id="code_img_closed_e5957fb3-2529-4264-8133-b9c71777cef3" class="code_img_closed" src="./images/不常用的模块0.png" alt="" /><img id="code_img_opened_e5957fb3-2529-4264-8133-b9c71777cef3" class="code_img_opened" onclick="cnblogs_code_hide('e5957fb3-2529-4264-8133-b9c71777cef3',event)" src="./images/不常用的模块1.png" alt="" />
<div id="cnblogs_code_open_e5957fb3-2529-4264-8133-b9c71777cef3" class="cnblogs_code_hide">
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码" onclick="copyCnblogsCode(this)"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
<pre><code>logging.basicConfig()函数中可通过具体参数来更改logging模块默认行为，可用参数有：

filename：用指定的文件名创建FiledHandler，这样日志会被存储在指定的文件中。
filemode：文件打开方式，在指定了filename时使用这个参数，默认值为&ldquo;a&rdquo;还可指定为&ldquo;w&rdquo;。
format：指定handler使用的日志显示格式。
datefmt：指定日期时间格式。
level：设置rootlogger（后边会讲解具体概念）的日志级别
stream：用指定的stream创建StreamHandler。可以指定输出到sys.stderr,sys.stdout或者文件(f=open(&lsquo;test.log&rsquo;,&rsquo;w&rsquo;))，默认为sys.stderr。若同时列出了filename和stream两个参数，则stream参数会被忽略。

format参数中可能用到的格式化串：
%(name)s Logger的名字
%(levelno)s 数字形式的日志级别
%(levelname)s 文本形式的日志级别
%(pathname)s 调用日志输出函数的模块的完整路径名，可能没有
%(filename)s 调用日志输出函数的模块的文件名
%(module)s 调用日志输出函数的模块名
%(funcName)s 调用日志输出函数的函数名
%(lineno)d 调用日志输出函数的语句所在的代码行
%(created)f 当前时间，用UNIX标准的表示时间的浮 点数表示
%(relativeCreated)d 输出日志信息时的，自Logger创建以 来的毫秒数
%(asctime)s 字符串形式的当前时间。默认格式是 &ldquo;2003-07-08 16:49:45,896&rdquo;。逗号后面的是毫秒
%(thread)d 线程ID。可能没有
%(threadName)s 线程名。可能没有
%(process)d 进程ID。可能没有
%(message)s用户输出的消息</pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码" onclick="copyCnblogsCode(this)"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
</div>
<span class="cnblogs_code_collapse">参数详解</span></div>
<h4>logger对象配置</h4>
<div class="cnblogs_code">
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码" onclick="copyCnblogsCode(this)"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
<pre><code>import logging

logger = logging.getLogger()
# 创建一个handler，用于写入日志文件
fh = logging.FileHandler('test.log',encoding='utf-8') <br /><br /># 再创建一个handler，用于输出到控制台 <br />ch = logging.StreamHandler() <br />formatter = logging.Formatter('%(asctime)s - %(name)s - %(levelname)s - %(message)s')</pre>
<pre><code>fh.setLevel(logging.DEBUG)<br /><br />fh.setFormatter(formatter) <br />ch.setFormatter(formatter) </pre>
<pre><code>logger.addHandler(fh) #logger对象可以添加多个fh和ch对象 <br />logger.addHandler(ch) <br /><br />logger.debug('logger debug message') <br />logger.info('logger info message') <br />logger.warning('logger warning message') <br />logger.error('logger error message') <br />logger.critical('logger critical message')</pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码" onclick="copyCnblogsCode(this)"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
</div>
<p>logging库提供了多个组件：Logger、Handler、Filter、Formatter。Logger对象提供应用程序可直接使用的接口，Handler发送日志到适当的目的地，Filter提供了过滤日志信息的方法，Formatter指定日志显示格式。另外，可以通过：logger.setLevel(logging.Debug)设置级别,当然，也可以通过</p>
<p>fh.setLevel(logging.Debug)单对文件流设置某个级别。</p>
<h4>logger的配置文件</h4>
<p>有的同学习惯通过logger的对象配置去完成日志的功能，没问题，但是上面这种方式需要创建各种对象，比如logger对象，fileHandler对象，ScreamHandler对象等等，比较麻烦，那么下面给你提供一种字典的方式，创建logger配置文件，这种才是工作中经常使用的实现日志功能的方法，真正的做到&nbsp; &nbsp;----- 拿来即用（简单改改）。</p>
<div class="cnblogs_code" onclick="cnblogs_code_show('efdddeec-74b9-48a9-8e52-46a09068c5f7')"><img id="code_img_closed_efdddeec-74b9-48a9-8e52-46a09068c5f7" class="code_img_closed" src="./images/不常用的模块0.png" alt="" /><img id="code_img_opened_efdddeec-74b9-48a9-8e52-46a09068c5f7" class="code_img_opened" onclick="cnblogs_code_hide('efdddeec-74b9-48a9-8e52-46a09068c5f7',event)" src="./images/不常用的模块1.png" alt="" />
<div id="cnblogs_code_open_efdddeec-74b9-48a9-8e52-46a09068c5f7" class="cnblogs_code_hide">
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码" onclick="copyCnblogsCode(this)"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
<pre><code>"""
logging配置
"""

import os
import logging.config

# 定义三种日志输出格式 开始

standard_format = '[%(asctime)s][%(threadName)s:%(thread)d][task_id:%(name)s][%(filename)s:%(lineno)d]' \
                  '[%(levelname)s][%(message)s]' #其中name为getlogger指定的名字

simple_format = '[%(levelname)s][%(asctime)s][%(filename)s:%(lineno)d]%(message)s'

id_simple_format = '[%(levelname)s][%(asctime)s] %(message)s'

# 定义日志输出格式 结束

logfile_dir = os.path.dirname(os.path.abspath(__file__))  # log文件的目录

logfile_name = 'all2.log'  # log文件名

# 如果不存在定义的日志目录就创建一个
if not os.path.isdir(logfile_dir):
    os.mkdir(logfile_dir)

# log文件的全路径
logfile_path = os.path.join(logfile_dir, logfile_name)

# log配置字典
LOGGING_DIC = {
    'version': 1,
    'disable_existing_loggers': False,
    'formatters': {
        'standard': {
            'format': standard_format
        },
        'simple': {
            'format': simple_format
        },
    },
    'filters': {},
    'handlers': {
        #打印到终端的日志
        'console': {
            'level': 'DEBUG',
            'class': 'logging.StreamHandler',  # 打印到屏幕
            'formatter': 'simple'
        },
        #打印到文件的日志,收集info及以上的日志
        'default': {
            'level': 'DEBUG',
            'class': 'logging.handlers.RotatingFileHandler',  # 保存到文件
            'formatter': 'standard',
            'filename': logfile_path,  # 日志文件
            'maxBytes': 1024*1024*5,  # 日志大小 5M
            'backupCount': 5,
            'encoding': 'utf-8',  # 日志文件的编码，再也不用担心中文log乱码了
        },
    },
    'loggers': {
        #logging.getLogger(__name__)拿到的logger配置
        '': {
            'handlers': ['default', 'console'],  # 这里把上面定义的两个handler都加上，即log数据既写入文件又打印到屏幕
            'level': 'DEBUG',
            'propagate': True,  # 向上（更高level的logger）传递
        },
    },
}


def load_my_logging_cfg():
    logging.config.dictConfig(LOGGING_DIC)  # 导入上面定义的logging配置
    logger = logging.getLogger(__name__)  # 生成一个log实例
    logger.info('It works!')  # 记录该文件的运行状态

if __name__ == '__main__':
    load_my_logging_cfg()</pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码" onclick="copyCnblogsCode(this)"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
</div>
<span class="cnblogs_code_collapse">logger配置文件</span></div>
<div class="cnblogs_code" onclick="cnblogs_code_show('5c5c11c8-0601-407e-81e9-b63808e71fc9')"><img id="code_img_closed_5c5c11c8-0601-407e-81e9-b63808e71fc9" class="code_img_closed" src="./images/不常用的模块0.png" alt="" /><img id="code_img_opened_5c5c11c8-0601-407e-81e9-b63808e71fc9" class="code_img_opened" onclick="cnblogs_code_hide('5c5c11c8-0601-407e-81e9-b63808e71fc9',event)" src="./images/不常用的模块1.png" alt="" />
<div id="cnblogs_code_open_5c5c11c8-0601-407e-81e9-b63808e71fc9" class="cnblogs_code_hide">
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码" onclick="copyCnblogsCode(this)"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
<pre><code>注意注意注意：


#1、有了上述方式我们的好处是：所有与logging模块有关的配置都写到字典中就可以了，更加清晰，方便管理


#2、我们需要解决的问题是：
    1、从字典加载配置：logging.config.dictConfig(settings.LOGGING_DIC)

    2、拿到logger对象来产生日志
    logger对象都是配置到字典的loggers 键对应的子字典中的
    按照我们对logging模块的理解，要想获取某个东西都是通过名字，也就是key来获取的
    于是我们要获取不同的logger对象就是
    logger=logging.getLogger('loggers子字典的key名')

    
    但问题是：如果我们想要不同logger名的logger对象都共用一段配置，那么肯定不能在loggers子字典中定义n个key   
 'loggers': {    
        'l1': {
            'handlers': ['default', 'console'],  #
            'level': 'DEBUG',
            'propagate': True,  # 向上（更高level的logger）传递
        },
        'l2: {
            'handlers': ['default', 'console' ], 
            'level': 'DEBUG',
            'propagate': False,  # 向上（更高level的logger）传递
        },
        'l3': {
            'handlers': ['default', 'console'],  #
            'level': 'DEBUG',
            'propagate': True,  # 向上（更高level的logger）传递
        },

}

    
#我们的解决方式是，定义一个空的key
    'loggers': {
        '': {
            'handlers': ['default', 'console'], 
            'level': 'DEBUG',
            'propagate': True, 
        },

}

这样我们再取logger对象时
logging.getLogger(__name__)，不同的文件__name__不同，这保证了打印日志时标识信息不同，但是拿着该名字去loggers里找key名时却发现找不到，于是默认使用key=''的配置</pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码" onclick="copyCnblogsCode(this)"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
</div>
<span class="cnblogs_code_collapse">如何拿到logger对象的详细解释</span></div>
<h2 id="title-0-5-0">六，collections模块</h2>
<p>在内置数据类型（dict、list、set、tuple）的基础上，<span data-slate-fragment="JTdCJTIyZGF0YSUyMiUzQSU3QiU3RCUyQyUyMmtpbmQlMjIlM0ElMjJkb2N1bWVudCUyMiUyQyUyMm5vZGVzJTIyJTNBJTVCJTdCJTIyZGF0YSUyMiUzQSU3QiU3RCUyQyUyMmtpbmQlMjIlM0ElMjJibG9jayUyMiUyQyUyMmlzVm9pZCUyMiUzQWZhbHNlJTJDJTIydHlwZSUyMiUzQSUyMnBhcmFncmFwaCUyMiUyQyUyMm5vZGVzJTIyJTNBJTVCJTdCJTIya2luZCUyMiUzQSUyMnRleHQlMjIlMkMlMjJyYW5nZXMlMjIlM0ElNUIlN0IlMjJraW5kJTIyJTNBJTIycmFuZ2UlMjIlMkMlMjJ0ZXh0JTIyJTNBJTIyY29sbGVjdGlvbnMlRTYlQTglQTElRTUlOUQlOTclRTUlOUMlQTglRTUlODYlODUlRTclQkQlQUUlRTYlOTUlQjAlRTYlOEQlQUUlRTclQjElQkIlRTUlOUUlOEIlRUYlQkMlODhkaWN0JUUzJTgwJTgxbGlzdCVFMyU4MCU4MXNldCVFMyU4MCU4MXR1cGxlJUVGJUJDJTg5JUU3JTlBJTg0JUU1JTlGJUJBJUU3JUExJTgwJUU0JUI4JThBJUVGJUJDJThDJUU4JUJGJTk4JUU2JThGJTkwJUU0JUJFJTlCJUU0JUJBJTg2JUU1JTg3JUEwJUU0JUI4JUFBJUU5JUEyJTlEJUU1JUE0JTk2JUU3JTlBJTg0JUU2JTk1JUIwJUU2JThEJUFFJUU3JUIxJUJCJUU1JTlFJThCJUVGJUJDJTlBQ2hhaW5NYXAlRTMlODAlODFDb3VudGVyJUUzJTgwJTgxZGVxdWUlRTMlODAlODFkZWZhdWx0ZGljdCVFMyU4MCU4MW5hbWVkdHVwbGUlRTUlOTIlOENPcmRlcmVkRGljdCVFNyVBRCU4OSVFMyU4MCU4MiUyMiUyQyUyMm1hcmtzJTIyJTNBJTVCJTVEJTdEJTVEJTdEJTVEJTdEJTJDJTdCJTIyZGF0YSUyMiUzQSU3QiU3RCUyQyUyMmtpbmQlMjIlM0ElMjJibG9jayUyMiUyQyUyMmlzVm9pZCUyMiUzQWZhbHNlJTJDJTIydHlwZSUyMiUzQSUyMnBhcmFncmFwaCUyMiUyQyUyMm5vZGVzJTIyJTNBJTVCJTdCJTIya2luZCUyMiUzQSUyMnRleHQlMjIlMkMlMjJyYW5nZXMlMjIlM0ElNUIlN0IlMjJraW5kJTIyJTNBJTIycmFuZ2UlMjIlMkMlMjJ0ZXh0JTIyJTNBJTIyMS5uYW1lZHR1cGxlJTNBJTIwJUU3JTk0JTlGJUU2JTg4JTkwJUU1JThGJUFGJUU0JUJCJUE1JUU0JUJEJUJGJUU3JTk0JUE4JUU1JTkwJThEJUU1JUFEJTk3JUU2JTlEJUE1JUU4JUFFJUJGJUU5JTk3JUFFJUU1JTg1JTgzJUU3JUI0JUEwJUU1JTg2JTg1JUU1JUFFJUI5JUU3JTlBJTg0dHVwbGUlRTUlQUQlOTAlRTclQjElQkIlNUNuMi5kZXF1ZSUzQSUyMCVFNSU4RiU4QyVFNyVBQiVBRiVFOSU5OCU5RiVFNSU4OCU5NyVFRiVCQyU4QyVFNSU4RiVBRiVFNCVCQiVBNSVFNSVCRiVBQiVFOSU4MCU5RiVFNyU5QSU4NCVFNCVCQiU4RSVFNSU4RiVBNiVFNSVBNCU5NiVFNCVCOCU4MCVFNCVCRSVBNyVFOCVCRiVCRCVFNSU4QSVBMCVFNSU5MiU4QyVFNiU4RSVBOCVFNSU4NyVCQSVFNSVBRiVCOSVFOCVCMSVBMSU1Q24zLkNvdW50ZXIlM0ElMjAlRTglQUUlQTElRTYlOTUlQjAlRTUlOTklQTglRUYlQkMlOEMlRTQlQjglQkIlRTglQTYlODElRTclOTQlQTglRTYlOUQlQTUlRTglQUUlQTElRTYlOTUlQjAlNUNuNC5PcmRlcmVkRGljdCUzQSUyMCVFNiU5QyU4OSVFNSVCQSU4RiVFNSVBRCU5NyVFNSU4NSVCOCU1Q241LmRlZmF1bHRkaWN0JTNBJTIwJUU1JUI4JUE2JUU2JTlDJTg5JUU5JUJCJTk4JUU4JUFFJUE0JUU1JTgwJUJDJUU3JTlBJTg0JUU1JUFEJTk3JUU1JTg1JUI4JTIyJTJDJTIybWFya3MlMjIlM0ElNUIlNUQlN0QlNUQlN0QlNUQlN0QlNUQlN0Q=">collections模块还提供了几个额外的数据类型：Counter、deque、defaultdict、namedtuple和OrderedDict等。</span></p>
<p data-key="294"><span data-key="285">1.namedtuple: 生成可以使用名字来访问元素内容的tuple</span></p>
<p data-key="294"><span data-key="285">2.deque: 双端队列，可以快速的从另外一侧追加和推出对象</span></p>
<p data-key="294"><span data-key="285">3.Counter: 计数器，主要用来计数</span></p>
<p data-key="294"><span data-key="285">4.OrderedDict: 有序字典</span></p>
<p data-key="294"><span data-key="285">5.defaultdict: 带有默认值的字典</span></p>
<h4><span data-key="285">namedtuple</span></h4>
<p data-key="294"><span data-key="285"><span data-slate-fragment="JTdCJTIyZGF0YSUyMiUzQSU3QiU3RCUyQyUyMmtpbmQlMjIlM0ElMjJkb2N1bWVudCUyMiUyQyUyMm5vZGVzJTIyJTNBJTVCJTdCJTIyZGF0YSUyMiUzQSU3QiU3RCUyQyUyMmtpbmQlMjIlM0ElMjJibG9jayUyMiUyQyUyMmlzVm9pZCUyMiUzQWZhbHNlJTJDJTIydHlwZSUyMiUzQSUyMnBhcmFncmFwaCUyMiUyQyUyMm5vZGVzJTIyJTNBJTVCJTdCJTIya2luZCUyMiUzQSUyMnRleHQlMjIlMkMlMjJyYW5nZXMlMjIlM0ElNUIlN0IlMjJraW5kJTIyJTNBJTIycmFuZ2UlMjIlMkMlMjJ0ZXh0JTIyJTNBJTIyJUU2JTg4JTkxJUU0JUJCJUFDJUU3JTlGJUE1JUU5JTgxJTkzJTIyJTJDJTIybWFya3MlMjIlM0ElNUIlNUQlN0QlMkMlN0IlMjJraW5kJTIyJTNBJTIycmFuZ2UlMjIlMkMlMjJ0ZXh0JTIyJTNBJTIydHVwbGUlMjIlMkMlMjJtYXJrcyUyMiUzQSU1QiU3QiUyMmRhdGElMjIlM0ElN0IlN0QlMkMlMjJraW5kJTIyJTNBJTIybWFyayUyMiUyQyUyMnR5cGUlMjIlM0ElMjJDT0RFJTIyJTdEJTVEJTdEJTJDJTdCJTIya2luZCUyMiUzQSUyMnJhbmdlJTIyJTJDJTIydGV4dCUyMiUzQSUyMiVFNSU4RiVBRiVFNCVCQiVBNSVFOCVBMSVBOCVFNyVBNCVCQSVFNCVCOCU4RCVFNSU4RiU5OCVFOSU5QiU4NiVFNSU5MCU4OCVFRiVCQyU4QyVFNCVCRSU4QiVFNSVBNiU4MiVFRiVCQyU4QyVFNCVCOCU4MCVFNCVCOCVBQSVFNyU4MiVCOSVFNyU5QSU4NCVFNCVCQSU4QyVFNyVCQiVCNCVFNSU5RCU5MCVFNiVBMCU4NyVFNSVCMCVCMSVFNSU4RiVBRiVFNCVCQiVBNSVFOCVBMSVBOCVFNyVBNCVCQSVFNiU4OCU5MCVFRiVCQyU5QSUyMiUyQyUyMm1hcmtzJTIyJTNBJTVCJTVEJTdEJTVEJTdEJTVEJTdEJTVEJTdE">我<span data-offset-key="297-0">们知道<span data-offset-key="297-1"><code>tuple</code><span data-offset-key="297-2">可以表示不变集合，例如，一个点的二维坐标就可以表示成：</span></span></span></span></span></p>
<div class="cnblogs_code">
<pre><code>&gt;&gt;&gt; p = (1, 2)</pre>
</div>
<p><span data-slate-fragment="JTdCJTIyZGF0YSUyMiUzQSU3QiU3RCUyQyUyMmtpbmQlMjIlM0ElMjJkb2N1bWVudCUyMiUyQyUyMm5vZGVzJTIyJTNBJTVCJTdCJTIyZGF0YSUyMiUzQSU3QiU3RCUyQyUyMmtpbmQlMjIlM0ElMjJibG9jayUyMiUyQyUyMmlzVm9pZCUyMiUzQWZhbHNlJTJDJTIydHlwZSUyMiUzQSUyMnBhcmFncmFwaCUyMiUyQyUyMm5vZGVzJTIyJTNBJTVCJTdCJTIya2luZCUyMiUzQSUyMnRleHQlMjIlMkMlMjJyYW5nZXMlMjIlM0ElNUIlN0IlMjJraW5kJTIyJTNBJTIycmFuZ2UlMjIlMkMlMjJ0ZXh0JTIyJTNBJTIyJUU0JUJEJTg2JUU2JTk4JUFGJUVGJUJDJThDJUU3JTlDJThCJUU1JTg4JUIwJTIyJTJDJTIybWFya3MlMjIlM0ElNUIlNUQlN0QlMkMlN0IlMjJraW5kJTIyJTNBJTIycmFuZ2UlMjIlMkMlMjJ0ZXh0JTIyJTNBJTIyKDElMkMlMjAyKSUyMiUyQyUyMm1hcmtzJTIyJTNBJTVCJTdCJTIyZGF0YSUyMiUzQSU3QiU3RCUyQyUyMmtpbmQlMjIlM0ElMjJtYXJrJTIyJTJDJTIydHlwZSUyMiUzQSUyMkNPREUlMjIlN0QlNUQlN0QlMkMlN0IlMjJraW5kJTIyJTNBJTIycmFuZ2UlMjIlMkMlMjJ0ZXh0JTIyJTNBJTIyJUVGJUJDJThDJUU1JUJFJTg4JUU5JTlBJUJFJUU3JTlDJThCJUU1JTg3JUJBJUU4JUJGJTk5JUU0JUI4JUFBJTIyJTJDJTIybWFya3MlMjIlM0ElNUIlNUQlN0QlMkMlN0IlMjJraW5kJTIyJTNBJTIycmFuZ2UlMjIlMkMlMjJ0ZXh0JTIyJTNBJTIydHVwbGUlMjIlMkMlMjJtYXJrcyUyMiUzQSU1QiU3QiUyMmRhdGElMjIlM0ElN0IlN0QlMkMlMjJraW5kJTIyJTNBJTIybWFyayUyMiUyQyUyMnR5cGUlMjIlM0ElMjJDT0RFJTIyJTdEJTVEJTdEJTJDJTdCJTIya2luZCUyMiUzQSUyMnJhbmdlJTIyJTJDJTIydGV4dCUyMiUzQSUyMiVFNiU5OCVBRiVFNyU5NCVBOCVFNiU5RCVBNSVFOCVBMSVBOCVFNyVBNCVCQSVFNCVCOCU4MCVFNCVCOCVBQSVFNSU5RCU5MCVFNiVBMCU4NyVFNyU5QSU4NCVFMyU4MCU4MiUyMiUyQyUyMm1hcmtzJTIyJTNBJTVCJTVEJTdEJTVEJTdEJTVEJTdEJTJDJTdCJTIyZGF0YSUyMiUzQSU3QiU3RCUyQyUyMmtpbmQlMjIlM0ElMjJibG9jayUyMiUyQyUyMmlzVm9pZCUyMiUzQWZhbHNlJTJDJTIydHlwZSUyMiUzQSUyMnBhcmFncmFwaCUyMiUyQyUyMm5vZGVzJTIyJTNBJTVCJTdCJTIya2luZCUyMiUzQSUyMnRleHQlMjIlMkMlMjJyYW5nZXMlMjIlM0ElNUIlN0IlMjJraW5kJTIyJTNBJTIycmFuZ2UlMjIlMkMlMjJ0ZXh0JTIyJTNBJTIyJUU1JUFFJTlBJUU0JUI5JTg5JUU0JUI4JTgwJUU0JUI4JUFBY2xhc3MlRTUlOEYlODglRTUlQjAlOEYlRTklQTIlOTglRTUlQTQlQTclRTUlODElOUElRTQlQkElODYlRUYlQkMlOEMlRTglQkYlOTklRTYlOTclQjYlRUYlQkMlOEMlMjIlMkMlMjJtYXJrcyUyMiUzQSU1QiU1RCU3RCUyQyU3QiUyMmtpbmQlMjIlM0ElMjJyYW5nZSUyMiUyQyUyMnRleHQlMjIlM0ElMjJuYW1lZHR1cGxlJTIyJTJDJTIybWFya3MlMjIlM0ElNUIlN0IlMjJkYXRhJTIyJTNBJTdCJTdEJTJDJTIya2luZCUyMiUzQSUyMm1hcmslMjIlMkMlMjJ0eXBlJTIyJTNBJTIyQ09ERSUyMiU3RCU1RCU3RCUyQyU3QiUyMmtpbmQlMjIlM0ElMjJyYW5nZSUyMiUyQyUyMnRleHQlMjIlM0ElMjIlRTUlQjAlQjElRTYlQjQlQkUlRTQlQjglOEElRTQlQkElODYlRTclOTQlQTglRTUlOUMlQkElRUYlQkMlOUElMjIlMkMlMjJtYXJrcyUyMiUzQSU1QiU1RCU3RCU1RCU3RCU1RCU3RCU1RCU3RA==">但是，看到(1, 2)，很难看出这个tuple是用来表示一个坐标的。</span></p>
<p data-key="313"><span data-key="310"><span data-offset-key="310-0">这时，<span data-offset-key="310-1"><code>namedtuple</code><span data-offset-key="310-2">就派上了用场：</span></span></span></span></p>
<div class="cnblogs_code">
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码" onclick="copyCnblogsCode(this)"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
<pre><code>&gt;&gt;&gt; from collections import namedtuple
&gt;&gt;&gt; Point = namedtuple('Point', ['x', 'y'])
&gt;&gt;&gt; p = Point(1, 2)
&gt;&gt;&gt; p.x
1
&gt;&gt;&gt; p.y
2</pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码" onclick="copyCnblogsCode(this)"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
</div>
<p><span data-slate-fragment="JTdCJTIyZGF0YSUyMiUzQSU3QiU3RCUyQyUyMmtpbmQlMjIlM0ElMjJkb2N1bWVudCUyMiUyQyUyMm5vZGVzJTIyJTNBJTVCJTdCJTIyZGF0YSUyMiUzQSU3QiU3RCUyQyUyMmtpbmQlMjIlM0ElMjJibG9jayUyMiUyQyUyMmlzVm9pZCUyMiUzQWZhbHNlJTJDJTIydHlwZSUyMiUzQSUyMnBhcmFncmFwaCUyMiUyQyUyMm5vZGVzJTIyJTNBJTVCJTdCJTIya2luZCUyMiUzQSUyMnRleHQlMjIlMkMlMjJyYW5nZXMlMjIlM0ElNUIlN0IlMjJraW5kJTIyJTNBJTIycmFuZ2UlMjIlMkMlMjJ0ZXh0JTIyJTNBJTIyJUU3JUIxJUJCJUU0JUJDJUJDJUU3JTlBJTg0JUVGJUJDJThDJUU1JUE2JTgyJUU2JTlFJTlDJUU4JUE2JTgxJUU3JTk0JUE4JUU1JTlEJTkwJUU2JUEwJTg3JUU1JTkyJThDJUU1JThEJThBJUU1JUJFJTg0JUU4JUExJUE4JUU3JUE0JUJBJUU0JUI4JTgwJUU0JUI4JUFBJUU1JTlDJTg2JUVGJUJDJThDJUU0JUI5JTlGJUU1JThGJUFGJUU0JUJCJUE1JUU3JTk0JUE4JTIyJTJDJTIybWFya3MlMjIlM0ElNUIlNUQlN0QlMkMlN0IlMjJraW5kJTIyJTNBJTIycmFuZ2UlMjIlMkMlMjJ0ZXh0JTIyJTNBJTIybmFtZWR0dXBsZSUyMiUyQyUyMm1hcmtzJTIyJTNBJTVCJTdCJTIyZGF0YSUyMiUzQSU3QiU3RCUyQyUyMmtpbmQlMjIlM0ElMjJtYXJrJTIyJTJDJTIydHlwZSUyMiUzQSUyMkNPREUlMjIlN0QlNUQlN0QlMkMlN0IlMjJraW5kJTIyJTNBJTIycmFuZ2UlMjIlMkMlMjJ0ZXh0JTIyJTNBJTIyJUU1JUFFJTlBJUU0JUI5JTg5JUVGJUJDJTlBJTIyJTJDJTIybWFya3MlMjIlM0ElNUIlNUQlN0QlNUQlN0QlNUQlN0QlNUQlN0Q=">类<span data-offset-key="357-0">似的，如果要用坐标和半径表示一个圆，也可以用<span data-offset-key="357-1"><code>namedtuple</code><span data-offset-key="357-2">定义：</span></span></span></span></p>
<div class="cnblogs_code">
<pre><code>#namedtuple('名称', [属性list]):
Circle = namedtuple('Circle', ['x', 'y', 'r'])</pre>
</div>
<h4><span data-key="285">deque</span></h4>
<p><span data-slate-fragment="JTdCJTIyZGF0YSUyMiUzQSU3QiU3RCUyQyUyMmtpbmQlMjIlM0ElMjJkb2N1bWVudCUyMiUyQyUyMm5vZGVzJTIyJTNBJTVCJTdCJTIyZGF0YSUyMiUzQSU3QiU3RCUyQyUyMmtpbmQlMjIlM0ElMjJibG9jayUyMiUyQyUyMmlzVm9pZCUyMiUzQWZhbHNlJTJDJTIydHlwZSUyMiUzQSUyMnBhcmFncmFwaCUyMiUyQyUyMm5vZGVzJTIyJTNBJTVCJTdCJTIya2luZCUyMiUzQSUyMnRleHQlMjIlMkMlMjJyYW5nZXMlMjIlM0ElNUIlN0IlMjJraW5kJTIyJTNBJTIycmFuZ2UlMjIlMkMlMjJ0ZXh0JTIyJTNBJTIyJUU0JUJEJUJGJUU3JTk0JUE4JTIyJTJDJTIybWFya3MlMjIlM0ElNUIlNUQlN0QlMkMlN0IlMjJraW5kJTIyJTNBJTIycmFuZ2UlMjIlMkMlMjJ0ZXh0JTIyJTNBJTIybGlzdCUyMiUyQyUyMm1hcmtzJTIyJTNBJTVCJTdCJTIyZGF0YSUyMiUzQSU3QiU3RCUyQyUyMmtpbmQlMjIlM0ElMjJtYXJrJTIyJTJDJTIydHlwZSUyMiUzQSUyMkNPREUlMjIlN0QlNUQlN0QlMkMlN0IlMjJraW5kJTIyJTNBJTIycmFuZ2UlMjIlMkMlMjJ0ZXh0JTIyJTNBJTIyJUU1JUFEJTk4JUU1JTgyJUE4JUU2JTk1JUIwJUU2JThEJUFFJUU2JTk3JUI2JUVGJUJDJThDJUU2JThDJTg5JUU3JUI0JUEyJUU1JUJDJTk1JUU4JUFFJUJGJUU5JTk3JUFFJUU1JTg1JTgzJUU3JUI0JUEwJUU1JUJFJTg4JUU1JUJGJUFCJUVGJUJDJThDJUU0JUJEJTg2JUU2JTk4JUFGJUU2JThGJTkyJUU1JTg1JUE1JUU1JTkyJThDJUU1JTg4JUEwJUU5JTk5JUE0JUU1JTg1JTgzJUU3JUI0JUEwJUU1JUIwJUIxJUU1JUJFJTg4JUU2JTg1JUEyJUU0JUJBJTg2JUVGJUJDJThDJUU1JTlCJUEwJUU0JUI4JUJBJTIyJTJDJTIybWFya3MlMjIlM0ElNUIlNUQlN0QlMkMlN0IlMjJraW5kJTIyJTNBJTIycmFuZ2UlMjIlMkMlMjJ0ZXh0JTIyJTNBJTIybGlzdCUyMiUyQyUyMm1hcmtzJTIyJTNBJTVCJTdCJTIyZGF0YSUyMiUzQSU3QiU3RCUyQyUyMmtpbmQlMjIlM0ElMjJtYXJrJTIyJTJDJTIydHlwZSUyMiUzQSUyMkNPREUlMjIlN0QlNUQlN0QlMkMlN0IlMjJraW5kJTIyJTNBJTIycmFuZ2UlMjIlMkMlMjJ0ZXh0JTIyJTNBJTIyJUU2JTk4JUFGJUU3JUJBJUJGJUU2JTgwJUE3JUU1JUFEJTk4JUU1JTgyJUE4JUVGJUJDJThDJUU2JTk1JUIwJUU2JThEJUFFJUU5JTg3JThGJUU1JUE0JUE3JUU3JTlBJTg0JUU2JTk3JUI2JUU1JTgwJTk5JUVGJUJDJThDJUU2JThGJTkyJUU1JTg1JUE1JUU1JTkyJThDJUU1JTg4JUEwJUU5JTk5JUE0JUU2JTk1JTg4JUU3JThFJTg3JUU1JUJFJTg4JUU0JUJEJThFJUUzJTgwJTgyJTIyJTJDJTIybWFya3MlMjIlM0ElNUIlNUQlN0QlNUQlN0QlNUQlN0QlMkMlN0IlMjJkYXRhJTIyJTNBJTdCJTdEJTJDJTIya2luZCUyMiUzQSUyMmJsb2NrJTIyJTJDJTIyaXNWb2lkJTIyJTNBZmFsc2UlMkMlMjJ0eXBlJTIyJTNBJTIycGFyYWdyYXBoJTIyJTJDJTIybm9kZXMlMjIlM0ElNUIlN0IlMjJraW5kJTIyJTNBJTIydGV4dCUyMiUyQyUyMnJhbmdlcyUyMiUzQSU1QiU3QiUyMmtpbmQlMjIlM0ElMjJyYW5nZSUyMiUyQyUyMnRleHQlMjIlM0ElMjJkZXF1ZSVFNiU5OCVBRiVFNCVCOCVCQSVFNCVCQSU4NiVFOSVBQiU5OCVFNiU5NSU4OCVFNSVBRSU5RSVFNyU4RSVCMCVFNiU4RiU5MiVFNSU4NSVBNSVFNSU5MiU4QyVFNSU4OCVBMCVFOSU5OSVBNCVFNiU5MyU4RCVFNCVCRCU5QyVFNyU5QSU4NCVFNSU4RiU4QyVFNSU5MCU5MSVFNSU4OCU5NyVFOCVBMSVBOCVFRiVCQyU4QyVFOSU4MCU4MiVFNSU5MCU4OCVFNyU5NCVBOCVFNCVCQSU4RSVFOSU5OCU5RiVFNSU4OCU5NyVFNSU5MiU4QyVFNiVBMCU4OCVFRiVCQyU5QSUyMiUyQyUyMm1hcmtzJTIyJTNBJTVCJTVEJTdEJTVEJTdEJTVEJTdEJTVEJTdE">使用list存储数据时，按索引访问元素很快，但是插入和删除元素就很慢了，因为list是线性存储，数据量大的时候，插入和删除效率很低。</span></p>
<p data-key="375"><span data-key="374">deque是为了高效实现插入和删除操作的双向列表，适合用于队列和栈：</span></p>
<div class="cnblogs_code">
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码" onclick="copyCnblogsCode(this)"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
<pre><code>&gt;&gt;&gt; from collections import deque
&gt;&gt;&gt; q = deque(['a', 'b', 'c'])
&gt;&gt;&gt; q.append('x')
&gt;&gt;&gt; q.appendleft('y')
&gt;&gt;&gt; q
deque(['y', 'a', 'b', 'c', 'x'])</pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码" onclick="copyCnblogsCode(this)"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
</div>
<p><span data-slate-fragment="JTdCJTIyZGF0YSUyMiUzQSU3QiU3RCUyQyUyMmtpbmQlMjIlM0ElMjJkb2N1bWVudCUyMiUyQyUyMm5vZGVzJTIyJTNBJTVCJTdCJTIyZGF0YSUyMiUzQSU3QiU3RCUyQyUyMmtpbmQlMjIlM0ElMjJibG9jayUyMiUyQyUyMmlzVm9pZCUyMiUzQWZhbHNlJTJDJTIydHlwZSUyMiUzQSUyMnBhcmFncmFwaCUyMiUyQyUyMm5vZGVzJTIyJTNBJTVCJTdCJTIya2luZCUyMiUzQSUyMnRleHQlMjIlMkMlMjJyYW5nZXMlMjIlM0ElNUIlN0IlMjJraW5kJTIyJTNBJTIycmFuZ2UlMjIlMkMlMjJ0ZXh0JTIyJTNBJTIyZGVxdWUlMjIlMkMlMjJtYXJrcyUyMiUzQSU1QiU3QiUyMmRhdGElMjIlM0ElN0IlN0QlMkMlMjJraW5kJTIyJTNBJTIybWFyayUyMiUyQyUyMnR5cGUlMjIlM0ElMjJDT0RFJTIyJTdEJTVEJTdEJTJDJTdCJTIya2luZCUyMiUzQSUyMnJhbmdlJTIyJTJDJTIydGV4dCUyMiUzQSUyMiVFOSU5OSVBNCVFNCVCQSU4NiVFNSVBRSU5RSVFNyU4RSVCMGxpc3QlRTclOUElODQlMjIlMkMlMjJtYXJrcyUyMiUzQSU1QiU1RCU3RCUyQyU3QiUyMmtpbmQlMjIlM0ElMjJyYW5nZSUyMiUyQyUyMnRleHQlMjIlM0ElMjJhcHBlbmQoKSUyMiUyQyUyMm1hcmtzJTIyJTNBJTVCJTdCJTIyZGF0YSUyMiUzQSU3QiU3RCUyQyUyMmtpbmQlMjIlM0ElMjJtYXJrJTIyJTJDJTIydHlwZSUyMiUzQSUyMkNPREUlMjIlN0QlNUQlN0QlMkMlN0IlMjJraW5kJTIyJTNBJTIycmFuZ2UlMjIlMkMlMjJ0ZXh0JTIyJTNBJTIyJUU1JTkyJThDJTIyJTJDJTIybWFya3MlMjIlM0ElNUIlNUQlN0QlMkMlN0IlMjJraW5kJTIyJTNBJTIycmFuZ2UlMjIlMkMlMjJ0ZXh0JTIyJTNBJTIycG9wKCklMjIlMkMlMjJtYXJrcyUyMiUzQSU1QiU3QiUyMmRhdGElMjIlM0ElN0IlN0QlMkMlMjJraW5kJTIyJTNBJTIybWFyayUyMiUyQyUyMnR5cGUlMjIlM0ElMjJDT0RFJTIyJTdEJTVEJTdEJTJDJTdCJTIya2luZCUyMiUzQSUyMnJhbmdlJTIyJTJDJTIydGV4dCUyMiUzQSUyMiVFNSVBNCU5NiVFRiVCQyU4QyVFOCVCRiU5OCVFNiU5NCVBRiVFNiU4QyU4MSUyMiUyQyUyMm1hcmtzJTIyJTNBJTVCJTVEJTdEJTJDJTdCJTIya2luZCUyMiUzQSUyMnJhbmdlJTIyJTJDJTIydGV4dCUyMiUzQSUyMmFwcGVuZGxlZnQoKSUyMiUyQyUyMm1hcmtzJTIyJTNBJTVCJTdCJTIyZGF0YSUyMiUzQSU3QiU3RCUyQyUyMmtpbmQlMjIlM0ElMjJtYXJrJTIyJTJDJTIydHlwZSUyMiUzQSUyMkNPREUlMjIlN0QlNUQlN0QlMkMlN0IlMjJraW5kJTIyJTNBJTIycmFuZ2UlMjIlMkMlMjJ0ZXh0JTIyJTNBJTIyJUU1JTkyJThDJTIyJTJDJTIybWFya3MlMjIlM0ElNUIlNUQlN0QlMkMlN0IlMjJraW5kJTIyJTNBJTIycmFuZ2UlMjIlMkMlMjJ0ZXh0JTIyJTNBJTIycG9wbGVmdCgpJTIyJTJDJTIybWFya3MlMjIlM0ElNUIlN0IlMjJkYXRhJTIyJTNBJTdCJTdEJTJDJTIya2luZCUyMiUzQSUyMm1hcmslMjIlMkMlMjJ0eXBlJTIyJTNBJTIyQ09ERSUyMiU3RCU1RCU3RCUyQyU3QiUyMmtpbmQlMjIlM0ElMjJyYW5nZSUyMiUyQyUyMnRleHQlMjIlM0ElMjIlRUYlQkMlOEMlRTglQkYlOTklRTYlQTAlQjclRTUlQjAlQjElRTUlOEYlQUYlRTQlQkIlQTUlRTklOUQlOUUlRTUlQjglQjglRTklQUIlOTglRTYlOTUlODglRTUlOUMlQjAlRTUlQkUlODAlRTUlQTQlQjQlRTklODMlQTglRTYlQjclQkIlRTUlOEElQTAlRTYlODglOTYlRTUlODglQTAlRTklOTklQTQlRTUlODUlODMlRTclQjQlQTAlRTMlODAlODIlMjIlMkMlMjJtYXJrcyUyMiUzQSU1QiU1RCU3RCU1RCU3RCU1RCU3RCU1RCU3RA==">d<span data-offset-key="389-0">eque<span data-offset-key="389-1">除了实现list的<span data-offset-key="389-2"><code>append()</code><span data-offset-key="389-3">和<span data-offset-key="389-4"><code>pop()</code><span data-offset-key="389-5">外，还支持<span data-offset-key="389-6"><code>appendleft()</code><span data-offset-key="389-7">和<span data-offset-key="389-8"><code>popleft()</code><span data-offset-key="389-9">，这样就可以非常高效地往头部添加或删除元素。</span></span></span></span></span></span></span></span></span></span></span></p>
<h4><span data-slate-fragment="JTdCJTIyZGF0YSUyMiUzQSU3QiU3RCUyQyUyMmtpbmQlMjIlM0ElMjJkb2N1bWVudCUyMiUyQyUyMm5vZGVzJTIyJTNBJTVCJTdCJTIyZGF0YSUyMiUzQSU3QiUyMmlkJTIyJTNBJTIyb3JkZXJlZGRpY3QlMjIlN0QlMkMlMjJraW5kJTIyJTNBJTIyYmxvY2slMjIlMkMlMjJpc1ZvaWQlMjIlM0FmYWxzZSUyQyUyMnR5cGUlMjIlM0ElMjJoZWFkZXJfdGhyZWUlMjIlMkMlMjJub2RlcyUyMiUzQSU1QiU3QiUyMmtpbmQlMjIlM0ElMjJ0ZXh0JTIyJTJDJTIycmFuZ2VzJTIyJTNBJTVCJTdCJTIya2luZCUyMiUzQSUyMnJhbmdlJTIyJTJDJTIydGV4dCUyMiUzQSUyMk9yZGVyZWREaWN0JTIyJTJDJTIybWFya3MlMjIlM0ElNUIlNUQlN0QlNUQlN0QlNUQlN0QlNUQlN0Q=">OrderedDict</span></h4>
<p><span data-slate-fragment="JTdCJTIyZGF0YSUyMiUzQSU3QiU3RCUyQyUyMmtpbmQlMjIlM0ElMjJkb2N1bWVudCUyMiUyQyUyMm5vZGVzJTIyJTNBJTVCJTdCJTIyZGF0YSUyMiUzQSU3QiU3RCUyQyUyMmtpbmQlMjIlM0ElMjJibG9jayUyMiUyQyUyMmlzVm9pZCUyMiUzQWZhbHNlJTJDJTIydHlwZSUyMiUzQSUyMnBhcmFncmFwaCUyMiUyQyUyMm5vZGVzJTIyJTNBJTVCJTdCJTIya2luZCUyMiUzQSUyMnRleHQlMjIlMkMlMjJyYW5nZXMlMjIlM0ElNUIlN0IlMjJraW5kJTIyJTNBJTIycmFuZ2UlMjIlMkMlMjJ0ZXh0JTIyJTNBJTIyJUU0JUJEJUJGJUU3JTk0JUE4JTIyJTJDJTIybWFya3MlMjIlM0ElNUIlNUQlN0QlMkMlN0IlMjJraW5kJTIyJTNBJTIycmFuZ2UlMjIlMkMlMjJ0ZXh0JTIyJTNBJTIyZGljdCUyMiUyQyUyMm1hcmtzJTIyJTNBJTVCJTdCJTIyZGF0YSUyMiUzQSU3QiU3RCUyQyUyMmtpbmQlMjIlM0ElMjJtYXJrJTIyJTJDJTIydHlwZSUyMiUzQSUyMkNPREUlMjIlN0QlNUQlN0QlMkMlN0IlMjJraW5kJTIyJTNBJTIycmFuZ2UlMjIlMkMlMjJ0ZXh0JTIyJTNBJTIyJUU2JTk3JUI2JUVGJUJDJThDS2V5JUU2JTk4JUFGJUU2JTk3JUEwJUU1JUJBJThGJUU3JTlBJTg0JUUzJTgwJTgyJUU1JTlDJUE4JUU1JUFGJUI5JTIyJTJDJTIybWFya3MlMjIlM0ElNUIlNUQlN0QlMkMlN0IlMjJraW5kJTIyJTNBJTIycmFuZ2UlMjIlMkMlMjJ0ZXh0JTIyJTNBJTIyZGljdCUyMiUyQyUyMm1hcmtzJTIyJTNBJTVCJTdCJTIyZGF0YSUyMiUzQSU3QiU3RCUyQyUyMmtpbmQlMjIlM0ElMjJtYXJrJTIyJTJDJTIydHlwZSUyMiUzQSUyMkNPREUlMjIlN0QlNUQlN0QlMkMlN0IlMjJraW5kJTIyJTNBJTIycmFuZ2UlMjIlMkMlMjJ0ZXh0JTIyJTNBJTIyJUU1JTgxJTlBJUU4JUJGJUFEJUU0JUJCJUEzJUU2JTk3JUI2JUVGJUJDJThDJUU2JTg4JTkxJUU0JUJCJUFDJUU2JTk3JUEwJUU2JUIzJTk1JUU3JUExJUFFJUU1JUFFJTlBS2V5JUU3JTlBJTg0JUU5JUExJUJBJUU1JUJBJThGJUUzJTgwJTgyJTIyJTJDJTIybWFya3MlMjIlM0ElNUIlNUQlN0QlNUQlN0QlNUQlN0QlMkMlN0IlMjJkYXRhJTIyJTNBJTdCJTdEJTJDJTIya2luZCUyMiUzQSUyMmJsb2NrJTIyJTJDJTIyaXNWb2lkJTIyJTNBZmFsc2UlMkMlMjJ0eXBlJTIyJTNBJTIycGFyYWdyYXBoJTIyJTJDJTIybm9kZXMlMjIlM0ElNUIlN0IlMjJraW5kJTIyJTNBJTIydGV4dCUyMiUyQyUyMnJhbmdlcyUyMiUzQSU1QiU3QiUyMmtpbmQlMjIlM0ElMjJyYW5nZSUyMiUyQyUyMnRleHQlMjIlM0ElMjIlRTUlQTYlODIlRTYlOUUlOUMlRTglQTYlODElRTQlQkYlOUQlRTYlOEMlODFLZXklRTclOUElODQlRTklQTElQkElRTUlQkElOEYlRUYlQkMlOEMlRTUlOEYlQUYlRTQlQkIlQTUlRTclOTQlQTglMjIlMkMlMjJtYXJrcyUyMiUzQSU1QiU1RCU3RCUyQyU3QiUyMmtpbmQlMjIlM0ElMjJyYW5nZSUyMiUyQyUyMnRleHQlMjIlM0ElMjJPcmRlcmVkRGljdCUyMiUyQyUyMm1hcmtzJTIyJTNBJTVCJTdCJTIyZGF0YSUyMiUzQSU3QiU3RCUyQyUyMmtpbmQlMjIlM0ElMjJtYXJrJTIyJTJDJTIydHlwZSUyMiUzQSUyMkNPREUlMjIlN0QlNUQlN0QlMkMlN0IlMjJraW5kJTIyJTNBJTIycmFuZ2UlMjIlMkMlMjJ0ZXh0JTIyJTNBJTIyJUVGJUJDJTlBJTIyJTJDJTIybWFya3MlMjIlM0ElNUIlNUQlN0QlNUQlN0QlNUQlN0QlNUQlN0Q=">使用dict时，Key是无序的。在对dict做迭代时，我们无法确定Key的顺序。</span></p>
<p data-key="446"><span data-key="443"><span data-offset-key="443-0">如果要保持Key的顺序，可以用<span data-offset-key="443-1"><code>OrderedDict</code><span data-offset-key="443-2">：</span></span></span></span></p>
<div class="cnblogs_code">
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码" onclick="copyCnblogsCode(this)"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
<pre><code>&gt;&gt;&gt; from collections import OrderedDict
&gt;&gt;&gt; d = dict([('a', 1), ('b', 2), ('c', 3)])
&gt;&gt;&gt; d # dict的Key是无序的
{'a': 1, 'c': 3, 'b': 2}
&gt;&gt;&gt; od = OrderedDict([('a', 1), ('b', 2), ('c', 3)])
&gt;&gt;&gt; od # OrderedDict的Key是有序的
OrderedDict([('a', 1), ('b', 2), ('c', 3)])</pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码" onclick="copyCnblogsCode(this)"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
</div>
<p><span data-slate-fragment="JTdCJTIyZGF0YSUyMiUzQSU3QiU3RCUyQyUyMmtpbmQlMjIlM0ElMjJkb2N1bWVudCUyMiUyQyUyMm5vZGVzJTIyJTNBJTVCJTdCJTIyZGF0YSUyMiUzQSU3QiU3RCUyQyUyMmtpbmQlMjIlM0ElMjJibG9jayUyMiUyQyUyMmlzVm9pZCUyMiUzQWZhbHNlJTJDJTIydHlwZSUyMiUzQSUyMnBhcmFncmFwaCUyMiUyQyUyMm5vZGVzJTIyJTNBJTVCJTdCJTIya2luZCUyMiUzQSUyMnRleHQlMjIlMkMlMjJyYW5nZXMlMjIlM0ElNUIlN0IlMjJraW5kJTIyJTNBJTIycmFuZ2UlMjIlMkMlMjJ0ZXh0JTIyJTNBJTIyJUU2JUIzJUE4JUU2JTg0JThGJUVGJUJDJThDJTIyJTJDJTIybWFya3MlMjIlM0ElNUIlNUQlN0QlMkMlN0IlMjJraW5kJTIyJTNBJTIycmFuZ2UlMjIlMkMlMjJ0ZXh0JTIyJTNBJTIyT3JkZXJlZERpY3QlMjIlMkMlMjJtYXJrcyUyMiUzQSU1QiU3QiUyMmRhdGElMjIlM0ElN0IlN0QlMkMlMjJraW5kJTIyJTNBJTIybWFyayUyMiUyQyUyMnR5cGUlMjIlM0ElMjJDT0RFJTIyJTdEJTVEJTdEJTJDJTdCJTIya2luZCUyMiUzQSUyMnJhbmdlJTIyJTJDJTIydGV4dCUyMiUzQSUyMiVFNyU5QSU4NEtleSVFNCVCQyU5QSVFNiU4QyU4OSVFNyU4NSVBNyVFNiU4RiU5MiVFNSU4NSVBNSVFNyU5QSU4NCVFOSVBMSVCQSVFNSVCQSU4RiVFNiU4RSU5MiVFNSU4OCU5NyVFRiVCQyU4QyVFNCVCOCU4RCVFNiU5OCVBRktleSVFNiU5QyVBQyVFOCVCQSVBQiVFNiU4RSU5MiVFNSVCQSU4RiVFRiVCQyU5QSUyMiUyQyUyMm1hcmtzJTIyJTNBJTVCJTVEJTdEJTVEJTdEJTVEJTdEJTVEJTdE">注<span data-offset-key="462-0">意，<span data-offset-key="462-1"><code>OrderedDict</code><span data-offset-key="462-2">的Key会按照插入的顺序排列，不是Key本身排序：</span></span></span></span></p>
<div class="cnblogs_code">
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码" onclick="copyCnblogsCode(this)"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
<pre><code>&gt;&gt;&gt; od = OrderedDict()
&gt;&gt;&gt; od['z'] = 1
&gt;&gt;&gt; od['y'] = 2
&gt;&gt;&gt; od['x'] = 3
&gt;&gt;&gt; od.keys() # 按照插入的Key的顺序返回
['z', 'y', 'x']</pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码" onclick="copyCnblogsCode(this)"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
</div>
<h4><span data-slate-fragment="JTdCJTIyZGF0YSUyMiUzQSU3QiU3RCUyQyUyMmtpbmQlMjIlM0ElMjJkb2N1bWVudCUyMiUyQyUyMm5vZGVzJTIyJTNBJTVCJTdCJTIyZGF0YSUyMiUzQSU3QiUyMmlkJTIyJTNBJTIyZGVmYXVsdGRpY3QlMjIlN0QlMkMlMjJraW5kJTIyJTNBJTIyYmxvY2slMjIlMkMlMjJpc1ZvaWQlMjIlM0FmYWxzZSUyQyUyMnR5cGUlMjIlM0ElMjJoZWFkZXJfdGhyZWUlMjIlMkMlMjJub2RlcyUyMiUzQSU1QiU3QiUyMmtpbmQlMjIlM0ElMjJ0ZXh0JTIyJTJDJTIycmFuZ2VzJTIyJTNBJTVCJTdCJTIya2luZCUyMiUzQSUyMnJhbmdlJTIyJTJDJTIydGV4dCUyMiUzQSUyMmRlZmF1bHRkaWN0JTIyJTJDJTIybWFya3MlMjIlM0ElNUIlNUQlN0QlNUQlN0QlNUQlN0QlNUQlN0Q=">defaultdict&nbsp;</span></h4>
<p><span data-slate-fragment="JTdCJTIyZGF0YSUyMiUzQSU3QiU3RCUyQyUyMmtpbmQlMjIlM0ElMjJkb2N1bWVudCUyMiUyQyUyMm5vZGVzJTIyJTNBJTVCJTdCJTIyZGF0YSUyMiUzQSU3QiU3RCUyQyUyMmtpbmQlMjIlM0ElMjJibG9jayUyMiUyQyUyMmlzVm9pZCUyMiUzQWZhbHNlJTJDJTIydHlwZSUyMiUzQSUyMnBhcmFncmFwaCUyMiUyQyUyMm5vZGVzJTIyJTNBJTVCJTdCJTIya2luZCUyMiUzQSUyMnRleHQlMjIlMkMlMjJyYW5nZXMlMjIlM0ElNUIlN0IlMjJraW5kJTIyJTNBJTIycmFuZ2UlMjIlMkMlMjJ0ZXh0JTIyJTNBJTIyJUU0JUJEJUJGJUU3JTk0JUE4JTIyJTJDJTIybWFya3MlMjIlM0ElNUIlNUQlN0QlMkMlN0IlMjJraW5kJTIyJTNBJTIycmFuZ2UlMjIlMkMlMjJ0ZXh0JTIyJTNBJTIyZGljdCUyMiUyQyUyMm1hcmtzJTIyJTNBJTVCJTdCJTIyZGF0YSUyMiUzQSU3QiU3RCUyQyUyMmtpbmQlMjIlM0ElMjJtYXJrJTIyJTJDJTIydHlwZSUyMiUzQSUyMkNPREUlMjIlN0QlNUQlN0QlMkMlN0IlMjJraW5kJTIyJTNBJTIycmFuZ2UlMjIlMkMlMjJ0ZXh0JTIyJTNBJTIyJUU2JTk3JUI2JUVGJUJDJThDJUU1JUE2JTgyJUU2JTlFJTlDJUU1JUJDJTk1JUU3JTk0JUE4JUU3JTlBJTg0S2V5JUU0JUI4JThEJUU1JUFEJTk4JUU1JTlDJUE4JUVGJUJDJThDJUU1JUIwJUIxJUU0JUJDJTlBJUU2JThBJTlCJUU1JTg3JUJBJTIyJTJDJTIybWFya3MlMjIlM0ElNUIlNUQlN0QlMkMlN0IlMjJraW5kJTIyJTNBJTIycmFuZ2UlMjIlMkMlMjJ0ZXh0JTIyJTNBJTIyS2V5RXJyb3IlMjIlMkMlMjJtYXJrcyUyMiUzQSU1QiU3QiUyMmRhdGElMjIlM0ElN0IlN0QlMkMlMjJraW5kJTIyJTNBJTIybWFyayUyMiUyQyUyMnR5cGUlMjIlM0ElMjJDT0RFJTIyJTdEJTVEJTdEJTJDJTdCJTIya2luZCUyMiUzQSUyMnJhbmdlJTIyJTJDJTIydGV4dCUyMiUzQSUyMiVFMyU4MCU4MiVFNSVBNiU4MiVFNiU5RSU5QyVFNSVCOCU4QyVFNiU5QyU5QmtleSVFNCVCOCU4RCVFNSVBRCU5OCVFNSU5QyVBOCVFNiU5NyVCNiVFRiVCQyU4QyVFOCVCRiU5NCVFNSU5QiU5RSVFNCVCOCU4MCVFNCVCOCVBQSVFOSVCQiU5OCVFOCVBRSVBNCVFNSU4MCVCQyVFRiVCQyU4QyVFNSVCMCVCMSVFNSU4RiVBRiVFNCVCQiVBNSVFNyU5NCVBOCUyMiUyQyUyMm1hcmtzJTIyJTNBJTVCJTVEJTdEJTJDJTdCJTIya2luZCUyMiUzQSUyMnJhbmdlJTIyJTJDJTIydGV4dCUyMiUzQSUyMmRlZmF1bHRkaWN0JTIyJTJDJTIybWFya3MlMjIlM0ElNUIlN0IlMjJkYXRhJTIyJTNBJTdCJTdEJTJDJTIya2luZCUyMiUzQSUyMm1hcmslMjIlMkMlMjJ0eXBlJTIyJTNBJTIyQ09ERSUyMiU3RCU1RCU3RCUyQyU3QiUyMmtpbmQlMjIlM0ElMjJyYW5nZSUyMiUyQyUyMnRleHQlMjIlM0ElMjIlRUYlQkMlOUElMjIlMkMlMjJtYXJrcyUyMiUzQSU1QiU1RCU3RCU1RCU3RCU1RCU3RCU1RCU3RA=="><code class="python plain">有如下值集合 [</code><code class="python value">11</code><code class="python plain">,</code><code class="python value">22</code><code class="python plain">,</code><code class="python value">33</code><code class="python plain">,</code><code class="python value">44</code><code class="python plain">,</code><code class="python value">55</code><code class="python plain">,</code><code class="python value">66</code><code class="python plain">,</code><code class="python value">77</code><code class="python plain">,</code><code class="python value">88</code><code class="python plain">,</code><code class="python value">99</code><code class="python plain">,</code><code class="python value">90.</code><code class="python plain">..]，将所有大于&nbsp;</code><code class="python value">66</code>&nbsp;<code class="python plain">的值保存至字典的第一个key中，将小于&nbsp;</code><code class="python value">66</code>&nbsp;<code class="python plain">的值保存至第二个key的值中。</code></span></p>
<div class="line number2 index1 alt1"><code class="python plain">即： {</code><code class="python string">'k1'</code><code class="python plain">: 大于</code><code class="python value">66</code>&nbsp;<code class="python plain">,&nbsp;</code><code class="python string">'k2'</code><code class="python plain">: 小于</code><code class="python value">66</code><code class="python plain">}</code></div>
<div class="line number2 index1 alt1">
<div class="cnblogs_code" onclick="cnblogs_code_show('272c153d-9e9d-4486-8d89-32484ead4a77')"><img id="code_img_closed_272c153d-9e9d-4486-8d89-32484ead4a77" class="code_img_closed" src="./images/不常用的模块0.png" alt="" /><img id="code_img_opened_272c153d-9e9d-4486-8d89-32484ead4a77" class="code_img_opened" onclick="cnblogs_code_hide('272c153d-9e9d-4486-8d89-32484ead4a77',event)" src="./images/不常用的模块1.png" alt="" />
<div id="cnblogs_code_open_272c153d-9e9d-4486-8d89-32484ead4a77" class="cnblogs_code_hide">
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码" onclick="copyCnblogsCode(this)"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
<pre><code>li = [11,22,33,44,55,77,88,99,90]
result = {}
for row in li:
    if row &gt; 66:
        if 'key1' not in result:
            result['key1'] = []
        result['key1'].append(row)
    else:
        if 'key2' not in result:
            result['key2'] = []
        result['key2'].append(row)
print(result)</pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码" onclick="copyCnblogsCode(this)"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
</div>
<span class="cnblogs_code_collapse">原生字典的解决方法</span></div>
</div>
<div class="line number2 index1 alt1">
<div class="cnblogs_code" onclick="cnblogs_code_show('9fd7beab-6eef-4367-8245-fb5d85387a79')"><img id="code_img_closed_9fd7beab-6eef-4367-8245-fb5d85387a79" class="code_img_closed" src="./images/不常用的模块0.png" alt="" /><img id="code_img_opened_9fd7beab-6eef-4367-8245-fb5d85387a79" class="code_img_opened" onclick="cnblogs_code_hide('9fd7beab-6eef-4367-8245-fb5d85387a79',event)" src="./images/不常用的模块1.png" alt="" />
<div id="cnblogs_code_open_9fd7beab-6eef-4367-8245-fb5d85387a79" class="cnblogs_code_hide">
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码" onclick="copyCnblogsCode(this)"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
<pre><code>from collections import defaultdict

values = [11, 22, 33,44,55,66,77,88,99,90]

my_dict = defaultdict(list)

for value in  values:
    if value&gt;66:
        my_dict['k1'].append(value)
    else:
        my_dict['k2'].append(value)</pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码" onclick="copyCnblogsCode(this)"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
</div>
<span class="cnblogs_code_collapse">defaultdict字典解决方法</span></div>
<p>使<span data-offset-key="402-0">用<span data-offset-key="402-1"><code>dict</code><span data-offset-key="402-2">时，如果引用的Key不存在，就会抛出<span data-offset-key="402-3"><code>KeyError</code><span data-offset-key="402-4">。如果希望key不存在时，返回一个默认值，就可以用<span data-offset-key="402-5"><code>defaultdict</code><span data-offset-key="402-6">：</span></span></span></span></span></span></span></p>
<div class="cnblogs_code" onclick="cnblogs_code_show('3a856beb-aafc-476d-a65e-65fb1d9fc1dd')"><img id="code_img_closed_3a856beb-aafc-476d-a65e-65fb1d9fc1dd" class="code_img_closed" src="./images/不常用的模块0.png" alt="" /><img id="code_img_opened_3a856beb-aafc-476d-a65e-65fb1d9fc1dd" class="code_img_opened" onclick="cnblogs_code_hide('3a856beb-aafc-476d-a65e-65fb1d9fc1dd',event)" src="./images/不常用的模块1.png" alt="" />
<div id="cnblogs_code_open_3a856beb-aafc-476d-a65e-65fb1d9fc1dd" class="cnblogs_code_hide">
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码" onclick="copyCnblogsCode(this)"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
<pre><code>&gt;&gt;&gt; from collections import defaultdict
&gt;&gt;&gt; dd = defaultdict(lambda: 'N/A')
&gt;&gt;&gt; dd['key1'] = 'abc'
&gt;&gt;&gt; dd['key1'] # key1存在
'abc'
&gt;&gt;&gt; dd['key2'] # key2不存在，返回默认值
'N/A'

例2</pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码" onclick="copyCnblogsCode(this)"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
</div>
<span class="cnblogs_code_collapse">例2</span></div>
<h4><span data-slate-fragment="JTdCJTIyZGF0YSUyMiUzQSU3QiU3RCUyQyUyMmtpbmQlMjIlM0ElMjJkb2N1bWVudCUyMiUyQyUyMm5vZGVzJTIyJTNBJTVCJTdCJTIyZGF0YSUyMiUzQSU3QiUyMmlkJTIyJTNBJTIyY291bnRlciUyMiU3RCUyQyUyMmtpbmQlMjIlM0ElMjJibG9jayUyMiUyQyUyMmlzVm9pZCUyMiUzQWZhbHNlJTJDJTIydHlwZSUyMiUzQSUyMmhlYWRlcl90aHJlZSUyMiUyQyUyMm5vZGVzJTIyJTNBJTVCJTdCJTIya2luZCUyMiUzQSUyMnRleHQlMjIlMkMlMjJyYW5nZXMlMjIlM0ElNUIlN0IlMjJraW5kJTIyJTNBJTIycmFuZ2UlMjIlMkMlMjJ0ZXh0JTIyJTNBJTIyQ291bnRlciUyMiUyQyUyMm1hcmtzJTIyJTNBJTVCJTVEJTdEJTVEJTdEJTVEJTdEJTVEJTdE">Counter</span></h4>
<p>Counter类的目的是用来跟踪值出现的次数。它是一个无序的容器类型，以字典的键值对形式存储，其中元素作为key，其计数作为value。计数值可以是任意的Interger（包括0和负数）。Counter类和其他语言的bags或multisets很相似。</p>
<div class="cnblogs_code">
<pre><code>c = Counter('abcdeabcdabcaba')
print c
输出：Counter({'a': 5, 'b': 4, 'c': 3, 'd': 2, 'e': 1})</pre>
</div>
</div>
<h2 id="title-0-6-0">七，时间有关的模块</h2>
<h4>7.1time模块</h4>
<p>和时间有关系的我们就要用到时间模块。在使用模块之前，应该首先导入这个模块。</p>
<div class="cnblogs_code">
<pre><code>#常用方法
1.time.sleep(secs)
(线程)推迟指定的时间运行。单位为秒。
2.time.time()
获取当前时间戳</pre>
</div>
<p><strong>表示时间的三种方式</strong></p>
<p>在Python中，通常有这三种方式来表示时间：时间戳、元组(struct_time)、格式化的时间字符串：</p>
<p>(1)时间戳(timestamp) ：通常来说，时间戳表示的是从1970年1月1日00:00:00开始按秒计算的偏移量。我们运行&ldquo;type(time.time())&rdquo;，返回的是float类型。</p>
<p>(2)格式化的时间字符串(Format String)： &lsquo;1999-12-06&rsquo;</p>
<div class="cnblogs_code" onclick="cnblogs_code_show('79459e2f-c2cc-467b-95dc-2d32cbbca270')"><img id="code_img_closed_79459e2f-c2cc-467b-95dc-2d32cbbca270" class="code_img_closed" src="./images/不常用的模块0.png" alt="" /><img id="code_img_opened_79459e2f-c2cc-467b-95dc-2d32cbbca270" class="code_img_opened" onclick="cnblogs_code_hide('79459e2f-c2cc-467b-95dc-2d32cbbca270',event)" src="./images/不常用的模块1.png" alt="" />
<div id="cnblogs_code_open_79459e2f-c2cc-467b-95dc-2d32cbbca270" class="cnblogs_code_hide">
<pre><code>%y 两位数的年份表示（00-99）
%Y 四位数的年份表示（000-9999）
%m 月份（01-12）
%d 月内中的一天（0-31）
%H 24小时制小时数（0-23）
%I 12小时制小时数（01-12）
%M 分钟数（00=59）
%S 秒（00-59）
%a 本地简化星期名称
%A 本地完整星期名称
%b 本地简化的月份名称
%B 本地完整的月份名称
%c 本地相应的日期表示和时间表示
%j 年内的一天（001-366）
%p 本地A.M.或P.M.的等价符
%U 一年中的星期数（00-53）星期天为星期的开始
%w 星期（0-6），星期天为星期的开始
%W 一年中的星期数（00-53）星期一为星期的开始
%x 本地相应的日期表示
%X 本地相应的时间表示
%Z 当前时区的名称
%% %号本身

python中时间日期格式化符号：</pre>
</div>
<span class="cnblogs_code_collapse">python中时间日期格式化符号</span></div>
<p>(3)元组(struct_time) ：struct_time元组共有9个元素共九个元素:(年，月，日，时，分，秒，一年中第几周，一年中第几天等）</p>
<table border="1">
<tbody>
<tr><th>索引（Index）</th><th>属性（Attribute）</th><th>值（Values）</th></tr>
<tr>
<td>0</td>
<td>tm_year（年）</td>
<td>比如2011</td>
</tr>
<tr>
<td>1</td>
<td>tm_mon（月）</td>
<td>1 - 12</td>
</tr>
<tr>
<td>2</td>
<td>tm_mday（日）</td>
<td>1 - 31</td>
</tr>
<tr>
<td>3</td>
<td>tm_hour（时）</td>
<td>0 - 23</td>
</tr>
<tr>
<td>4</td>
<td>tm_min（分）</td>
<td>0 - 59</td>
</tr>
<tr>
<td>5</td>
<td>tm_sec（秒）</td>
<td>0 - 60</td>
</tr>
<tr>
<td>6</td>
<td>tm_wday（weekday）</td>
<td>0 - 6（0表示周一）</td>
</tr>
<tr>
<td>7</td>
<td>tm_yday（一年中的第几天）</td>
<td>1 - 366</td>
</tr>
<tr>
<td>8</td>
<td>tm_isdst（是否是夏令时）</td>
<td>默认为0</td>
</tr>
</tbody>
</table>
<p>&nbsp;首先，我们先导入time模块，来认识一下python中表示时间的几种格式：</p>
<div class="cnblogs_code">
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码" onclick="copyCnblogsCode(this)"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
<pre><code>#导入时间模块
&gt;&gt;&gt;import time

#时间戳
&gt;&gt;&gt;time.time()
1500875844.800804

#时间字符串
&gt;&gt;&gt;time.strftime("%Y-%m-%d %X")
'2017-07-24 13:54:37'
&gt;&gt;&gt;time.strftime("%Y-%m-%d %H-%M-%S")
'2017-07-24 13-55-04'

#时间元组:localtime将一个时间戳转换为当前时区的struct_time
time.localtime()
time.struct_time(tm_year=2017, tm_mon=7, tm_mday=24,
　　　　　　　　　　tm_hour=13, tm_min=59, tm_sec=37, 
                 tm_wday=0, tm_yday=205, tm_isdst=0)</pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码" onclick="copyCnblogsCode(this)"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
</div>
<p>小结：时间戳是计算机能够识别的时间；时间字符串是人能够看懂的时间；元组则是用来操作时间的</p>
<p><strong>几种格式之间的转换</strong></p>
<p><img src="./images/不常用的模块72.png" alt="" width="393" height="205" /></p>
<div class="cnblogs_code">
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码" onclick="copyCnblogsCode(this)"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><span class="cnblogs_code_copy"><span class="cnblogs_code_copy"><a title="复制代码"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></span></span>
<pre><code># 格式化时间 ----&gt;  结构化时间<br />ft = time.strftime('%Y/%m/%d %H:%M:%S')<br />st = time.strptime(ft,'%Y/%m/%d %H:%M:%S')<br />print(st)<br /># 结构化时间 ---&gt; 时间戳<br />t = time.mktime(st)<br />print(t)<br /><br /># 时间戳 ----&gt; 结构化时间<br />t = time.time()<br />st = time.localtime(t)<br />print(st)<br /># 结构化时间 ---&gt; 格式化时间<br />ft = time.strftime('%Y/%m/%d %H:%M:%S',st)<br />print(ft)</pre>
</div>
<div class="cnblogs_code_toolbar">&nbsp;</div>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码" onclick="copyCnblogsCode(this)"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
</div>
<p><img src="./images/不常用的模块76.png" alt="" width="421" height="225" /></p>
<div class="cnblogs_code">
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码" onclick="copyCnblogsCode(this)"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
<pre><code>#结构化时间 --&gt; %a %b %d %H:%M:%S %Y串
#time.asctime(结构化时间) 如果不传参数，直接返回当前时间的格式化串
&gt;&gt;&gt;time.asctime(time.localtime(1500000000))
'Fri Jul 14 10:40:00 2017'
&gt;&gt;&gt;time.asctime()
'Mon Jul 24 15:18:33 2017'

#时间戳 --&gt; %a %d %d %H:%M:%S %Y串
#time.ctime(时间戳)  如果不传参数，直接返回当前时间的格式化串
&gt;&gt;&gt;time.ctime()
'Mon Jul 24 15:19:07 2017'
&gt;&gt;&gt;time.ctime(1500000000)
'Fri Jul 14 10:40:00 2017'&nbsp;<br /><br /></pre>
<pre><code>t = time.time()<br />ft = time.ctime(t)<br />print(ft)<br /><br />st = time.localtime()<br />ft = time.asctime(st)<br />print(ft)</pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码" onclick="copyCnblogsCode(this)"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
</div>
<div class="cnblogs_code" onclick="cnblogs_code_show('0335a8d1-3ea8-49d2-b0d1-99a7f129ce9f')"><img id="code_img_closed_0335a8d1-3ea8-49d2-b0d1-99a7f129ce9f" class="code_img_closed" src="./images/不常用的模块0.png" alt="" /><img id="code_img_opened_0335a8d1-3ea8-49d2-b0d1-99a7f129ce9f" class="code_img_opened" onclick="cnblogs_code_hide('0335a8d1-3ea8-49d2-b0d1-99a7f129ce9f',event)" src="./images/不常用的模块1.png" alt="" />
<div id="cnblogs_code_open_0335a8d1-3ea8-49d2-b0d1-99a7f129ce9f" class="cnblogs_code_hide">
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码" onclick="copyCnblogsCode(this)"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
<pre><code>import time
true_time=time.mktime(time.strptime('2017-09-11 08:30:00','%Y-%m-%d %H:%M:%S'))
time_now=time.mktime(time.strptime('2017-09-12 11:00:00','%Y-%m-%d %H:%M:%S'))
dif_time=time_now-true_time
struct_time=time.gmtime(dif_time)
print('过去了%d年%d月%d天%d小时%d分钟%d秒'%(struct_time.tm_year-1970,struct_time.tm_mon-1,
                                       struct_time.tm_mday-1,struct_time.tm_hour,
                                       struct_time.tm_min,struct_time.tm_sec))

计算时间差</pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码" onclick="copyCnblogsCode(this)"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
</div>
<span class="cnblogs_code_collapse">计算时间差</span></div>
<h4>7.2datetime模块</h4>
<div class="cnblogs_code" onclick="cnblogs_code_show('659fab85-fa64-4dc8-b3fc-480fe660b73d')"><img id="code_img_closed_659fab85-fa64-4dc8-b3fc-480fe660b73d" class="code_img_closed" src="./images/不常用的模块0.png" alt="" /><img id="code_img_opened_659fab85-fa64-4dc8-b3fc-480fe660b73d" class="code_img_opened" onclick="cnblogs_code_hide('659fab85-fa64-4dc8-b3fc-480fe660b73d',event)" src="./images/不常用的模块1.png" alt="" />
<div id="cnblogs_code_open_659fab85-fa64-4dc8-b3fc-480fe660b73d" class="cnblogs_code_hide">
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码" onclick="copyCnblogsCode(this)"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
<pre><code># datatime模块
import datetime
now_time = datetime.datetime.now()  # 现在的时间
# 只能调整的字段：weeks days hours minutes seconds
print(datetime.datetime.now() + datetime.timedelta(weeks=3)) # 三周后
print(datetime.datetime.now() + datetime.timedelta(weeks=-3)) # 三周前
print(datetime.datetime.now() + datetime.timedelta(days=-3)) # 三天前
print(datetime.datetime.now() + datetime.timedelta(days=3)) # 三天后
print(datetime.datetime.now() + datetime.timedelta(hours=5)) # 5小时后
print(datetime.datetime.now() + datetime.timedelta(hours=-5)) # 5小时前
print(datetime.datetime.now() + datetime.timedelta(minutes=-15)) # 15分钟前
print(datetime.datetime.now() + datetime.timedelta(minutes=15)) # 15分钟后
print(datetime.datetime.now() + datetime.timedelta(seconds=-70)) # 70秒前
print(datetime.datetime.now() + datetime.timedelta(seconds=70)) # 70秒后

current_time = datetime.datetime.now()
# 可直接调整到指定的 年 月 日 时 分 秒 等

print(current_time.replace(year=1977))  # 直接调整到1977年
print(current_time.replace(month=1))  # 直接调整到1月份
print(current_time.replace(year=1989,month=4,day=25))  # 1989-04-25 18:49:05.898601

# 将时间戳转化成时间
print(datetime.date.fromtimestamp(1232132131))  # 2009-01-17</pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码" onclick="copyCnblogsCode(this)"><img src="./images/不常用的模块2.png" alt="复制代码" /></a></span></div>
</div>
</div>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>