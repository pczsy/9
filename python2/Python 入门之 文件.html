<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修Python 入门之 文件' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>Python 入门之 文件</center></div><div class='banquan'>原文出处:本文由博客园博主永亮提供。<br/>
原文连接:https://www.cnblogs.com/caiyongliang/p/11428830.html</div><br>
    <h1 id="python-入门之-文件">Python 入门之 文件</h1>
<h3 id="文件操作">1、文件操作</h3>
<h4 id="找到文件位置">找到文件位置</h4>
<h4 id="双击打开">双击打开</h4>
<h4 id="进行一些操作">进行一些操作</h4>
<h5 id="rread读-wwrite写-a追加">r—read(读) w—write(写) a—追加</h5>
<h5 id="rd--读字节-wd--清空写写字节-ad---追加写字节">rd--读字节 wd--清空写，写字节 ad --追加写(字节)</h5>
<p>r+ -- 读写 w+ --写读 a+ -- 追加读</p>
<h4 id="关闭文件">关闭文件</h4>
<p>open() ： 打开 ，open通过python控制操作系统进行打开文件</p>
<p>open(&quot;t1&quot;,&quot;r&quot;,encoding=&quot;utf-8&quot;) //Open(“文件的路径”,”进行的操作”,”文件的编码形式”)</p>
<p>file 文件的位置</p>
<p>mode 默认不写就是r</p>
<p>encoding 文件的编码</p>
<p>f 文件句柄</p>
<p>文件只能读取一次</p>
<h3 id="读操作">（1）读操作</h3>
<h4 id="r----读">&lt;1&gt; r -- 读</h4>
<pre><code><code>f = open(&quot;D:\Python_s25\day08\小姐姐电话号&quot;,mode=&quot;r&quot;,encoding=&quot;utf-8&quot;)print(f.read())   # 全部读取
print(f.read(3))  # 按照字符读取
print(f.readline())  # 默认尾部有一个\n
print(f.readline().strip())  # 读取一行
print(f.readline().strip())  # 将\n去除
print(f.readlines()) #一行一行读取,全部存储在列表中</code></pre>
<p>路径：</p>
<p>绝对路径：从磁盘（c盘）开始查找</p>
<p>相对路径：相对于某个路径文件进行查找</p>
<p>路径的转义：</p>
<pre><code><code>1.&quot;D:\\Python_s25\\day08\\t1&quot;
2.r&quot;D:\Python_s25\day08\t1&quot;   -- 推荐使用</code></pre>
<h4 id="rb----读字节">&lt;2&gt; rb -- 读字节：</h4>
<pre><code><code>f = open(&quot;timg.jpg&quot;,mode=&quot;rb&quot;)
print(f.read())      # 全部读取
print(f.read(3))     # 按照字节读取
print(f.readline())  # 按照行进行读取
print(f.readlines())</code></pre>
<h4 id="r和-rb的区别">r和 rb的区别:</h4>
<p>1.r需要指定encoding,rb不需要 （字节操作，不能指定encoding）</p>
<p>2.r模式中的read(3) 按照字符读取, rb模式中的read(3) 按照字节读取</p>
<p>read 和 readlines 如果文件较大时，会出现内存溢出</p>
<p>解决方案：当文件较大时，使用for循环进行读取（只是展示了一下）</p>
<p>面试题：</p>
<pre><code><code>f = open(&#39;t1&#39;,mode=&quot;r&quot;,encoding=&quot;utf-8&quot;)
    for i in f:   
        print(i.strip())</code></pre>
<h3 id="写操作">（2）写操作：</h3>
<h4 id="w----清空写写的是文本">&lt;1&gt; w -- 清空写（写的是文本）</h4>
<h5 id="先清空文件在打开文件时进行清空">先清空文件（在打开文件时进行清空）</h5>
<h5 id="写入内容">写入内容</h5>
<p>当模式为w 和 a 时，有文件就是用当前文件，没有文件就创建一个文件</p>
<pre><code><code>ff = open(&quot;a1&quot;,mode=&quot;w&quot;,encoding=&quot;utf-8&quot;)
ff.write(&quot;123&quot;)  # 写的内容必须是字符串
ff = open(&quot;a1&quot;,mode=&quot;w&quot;,encoding=&quot;utf-8&quot;)
ff.write(&quot;我是一个字符串串&quot;)  # 写的内容必须是字符串
ff = open(&quot;a1&quot;,mode=&quot;w&quot;,encoding=&quot;utf-8&quot;)
ff.write(&quot;[1,2,3,4]\n&quot;)  # 写的内容必须是字符串
ff.write(&#39;1111\n&#39;)  # 写的内容必须是字符串
ff.write(&#39;2222\n&#39;)  # 写的内容必须是字符串
ff = open(&quot;a1&quot;,mode=&quot;w&quot;,encoding=&quot;utf-8&quot;)
ff.write(&quot;[1,2,3,4]\n&quot;)  # 写的内容必须是字符串
ff.write(&#39;1111\n&#39;)  # 写的内容必须是字符串
ff.write(&#39;2222\n&#39;)  # 写的内容必须是字符串</code></pre>
<h4 id="wb----清空写写字节">&lt;2&gt; wb -- 清空写（写字节）</h4>
<pre><code><code>f = open(&#39;timg.jpg&#39;,mode=&quot;rb&quot;)
f1 = open(&quot;g1.jpg&quot;,mode=&quot;wb&quot;)
content = f.read()
f1.write(content)</code></pre>
<h3 id="追加操作">（3）追加操作：</h3>
<h4 id="a----追加写文本">&lt;1&gt; a -- 追加写（文本）</h4>
<pre><code><code>f = open(&quot;b1&quot;,mode=&quot;a&quot;,encoding=&quot;utf-8&quot;)
f.write(&quot;你好啊\n&quot;)
f.write(&quot;我好啊\n&quot;)
f.write(&quot;他好啊\n&quot;)
f.write(&quot;大家好啊\n&quot;)</code></pre>
<h4 id="ab----追加写字节">&lt;2&gt; ab -- 追加写（字节）</h4>
<h3 id="操作">（4）+操作：</h3>
<h4 id="r-读写有点用">&lt;1&gt; r+ 读写（有点用）</h4>
<pre><code><code>坑 -- 使用方式是错误
f = open(&quot;b1&quot;,mode=&quot;r+&quot;,encoding=&quot;utf-8&quot;)
f.write(&quot;今天是周一&quot;)    # write是清空写
print(f.read())
正确的操作:
f = open(&quot;b1&quot;,mode=&quot;r+&quot;,encoding=&quot;utf8&quot;)
print(f.read())
f.write(&quot;今天是周一&quot;)</code></pre>
<h4 id="w-写读有点用">&lt;2&gt; w+ 写读（有点用）</h4>
<pre><code><code>f = open(&quot;b1&quot;,mode=&quot;w+&quot;,encoding=&quot;utf-8&quot;)
f.write(&quot;今天是周一&quot;)
f.seek(0)  # 移动光标
print(f.read())
f = open(&quot;b1&quot;,mode=&quot;w+&quot;,encoding=&quot;utf-8&quot;)
f.write(&quot;今天是周一&quot;)
f.seek(0)  # 移动光标
f.write(&quot;啊啊啊啊啊啊&quot;)
f.seek(0)
print(f.read())

</code></pre>
<h4 id="a-追加读">&lt;3&gt; a+ 追加读</h4>
<pre><code><code>f = open(&quot;b1&quot;,mode=&quot;a+&quot;,encoding=&quot;utf-8&quot;)
f.write(&quot;今天是周一&quot;)
f.seek(0)  # 移动光标
f.write(&quot;啊啊啊啊&quot;)
print(f.read())

</code></pre>
<h3 id="其他操作">（5）其他操作：</h3>
<p>&lt;1&gt; 移动光标 ： seek()</p>
<pre><code><code>seek() 移动光标
f.seek(0,0)  # 移动光标到文件的头部
f.seek(0,1)  # 移动光标到当前位置
f.seek(0,2)  # 移动光标到文件末尾
f.seek(6)   # 移动6个字节。光标是按照字节移动

f = open(&quot;a1&quot;,&quot;r&quot;,encoding=&quot;utf-8&quot;)
print(f.read(5))
f.seek(0,0)  # 移动光标到文件的头部
f.seek(0,1)  # 移动光标到当前位置
f.seek(0,2)  # 移动光标到文件末尾
print(f.read())
f = open(&quot;c1&quot;,&quot;r&quot;,encoding=&quot;gbk&quot;)
f.seek(6)   # 光标是按照字节移动
print(f.read(3))

</code></pre>
<h4 id="查看光标-tell----查光标">&lt;2&gt; 查看光标： tell -- 查光标</h4>
<pre><code><code>tell 查光标
f = open(&quot;c1&quot;,&quot;r&quot;,encoding=&quot;gbk&quot;)
print(f.read(3))
print(f.tell())  # 按照字节进行计算

</code></pre>
<h4 id="修改文件-import-os-操作系统交互的接口">&lt;2&gt; 修改文件： import os #操作系统交互的接口</h4>
<pre><code><code>f = open(&#39;a2&#39;,&quot;r&quot;,encoding=&quot;utf-8&quot;)
f1 = open(&quot;a1&quot;,&quot;w&quot;,encoding=&quot;utf-8&quot;)
for i in f:    
    i = i.replace(&quot;日&quot;,&quot;天&quot;)                                  
    f1.write(i) 
f.close()
f1.close()
os.remove(&quot;a2&quot;)   # 删除不能找回
os.rename(&quot;a1&quot;,&quot;a2&quot;)

</code></pre>
<pre><code><code>f = open(&#39;a2&#39;,&quot;r&quot;,encoding=&quot;utf-8&quot;)
f1 = open(&quot;a1&quot;,&quot;w&quot;,encoding=&quot;utf-8&quot;)
for i in f:    
    i = i.replace(&quot;天&quot;,&quot;日&quot;)  
    f1.write(i)
f.close()
f1.close()
os.rename(&quot;a2&quot;,&quot;a3&quot;)
os.rename(&quot;a1&quot;,&quot;a2&quot;)

</code></pre>
<h4 id="with-open">&lt;3&gt;With open</h4>
<h5 id="自动关闭文件">自动关闭文件</h5>
<h5 id="同一时间操作多个文件">同一时间操作多个文件</h5>
<p>考点：</p>
<pre><code><code>import os  # 操作系统交互的接口
f = open(&#39;a2&#39;,&quot;r&quot;,encoding=&quot;utf-8&quot;)
f1 = open(&quot;a1&quot;,&quot;w&quot;,encoding=&quot;utf-8&quot;)
i = f1.read().replace(&quot;天&quot;,&quot;日&quot;)    # 将文件中全部内容读取 容易导致内存溢出f1.write(i)
f.close()
f1.close()
os.rename(&quot;a2&quot;,&quot;a3&quot;)
os.rename(&quot;a1&quot;,&quot;a2&quot;)
with open(&quot;a3&quot;,&quot;r&quot;,encoding=&quot;utf-8&quot;)as f,\                      
        open(&#39;a2&#39;,&quot;r&quot;,encoding=&quot;utf-8&quot;)as f1:    
    print(f.read())    
    print(f1.read())

</code></pre>
<h3 id="文件操作的目的">2、文件操作的目的：</h3>
<h4 id="持久化永久存储">持久化：永久存储</h4>

</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>