<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修使用python实现数组、链表、队列、栈' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>使用python实现数组、链表、队列、栈</center></div><div class='banquan'>原文出处:本文由博客园博主Nolinked提供。<br/>
原文连接:https://www.cnblogs.com/pungchur/p/12068073.html</div><br>
    <h2>引言</h2>
<p>什么是数据结构？</p>
<ol>
<li>数据结构是指相互之间存在着一种或多种关系的数据元素的集合和该集合中数据元素之间的关系组成。</li>
<li>简单来说，数据结构就是设计数据以何种方式组织并存储在计算机中。</li>
<li>比如：列表，集合和字典等都是数据结构</li>
<li>N.Wirth：&ldquo;程序=数据结构+算法&rdquo;</li>
</ol>
<p>数据结构按照其逻辑结构可分为线性结构、树结构、图结构</p>
<ol>
<li>线性结构：数据结构中的元素存在一对一的互相关系。</li>
<li>树结构：数据结构中的元素存在一对多的互相关系。</li>
<li>图结构：数据结构中的元素存在多对多的互相关系。</li>
</ol>
<h2>数组</h2>
<p>在python中是没有数组的，有的是列表，它是一种基本的数据结构类型。</p>
<h3>实现</h3>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">class</span><span style="color: #000000;"> Array(object):
    </span><span style="color: #0000ff;">def</span> <span style="color: #800080;">__init__</span>(self, size=32<span style="color: #000000;">):
        </span><span style="color: #800000;">"""</span><span style="color: #800000;">
        :param size: 长度
        </span><span style="color: #800000;">"""</span><span style="color: #000000;">
        self._size </span>=<span style="color: #000000;"> size
        self._items </span>= [None] *<span style="color: #000000;"> size

    </span><span style="color: #008000;">#</span><span style="color: #008000;"> 在执行array[key]时执行</span>
    <span style="color: #0000ff;">def</span> <span style="color: #800080;">__getitem__</span><span style="color: #000000;">(self, index):
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> self._items[index]

    </span><span style="color: #008000;">#</span><span style="color: #008000;"> 在执行array[key] = value 时执行</span>
    <span style="color: #0000ff;">def</span> <span style="color: #800080;">__setitem__</span><span style="color: #000000;">(self, index, value):
        self._items[index] </span>=<span style="color: #000000;"> value

    </span><span style="color: #008000;">#</span><span style="color: #008000;"> 在执行len(array) 时执行</span>
    <span style="color: #0000ff;">def</span> <span style="color: #800080;">__len__</span><span style="color: #000000;">(self):
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> self._size
    
    </span><span style="color: #008000;">#</span><span style="color: #008000;"> 清空数组</span>
    <span style="color: #0000ff;">def</span> clear(self, value=<span style="color: #000000;">None):
        </span><span style="color: #0000ff;">for</span> i <span style="color: #0000ff;">in</span><span style="color: #000000;"> range(len(self._items)):
            self._items[i] </span>=<span style="color: #000000;"> value

    </span><span style="color: #008000;">#</span><span style="color: #008000;"> 在遍历时执行</span>
    <span style="color: #0000ff;">def</span> <span style="color: #800080;">__iter__</span><span style="color: #000000;">(self):
        </span><span style="color: #0000ff;">for</span> item <span style="color: #0000ff;">in</span><span style="color: #000000;"> self._items:
            </span><span style="color: #0000ff;">yield</span> item</pre>
</div>
<h3>使用</h3>
<div class="cnblogs_code">
<pre><code>a = Array(4<span style="color: #000000;">)
a[0] </span>= 1
<span style="color: #0000ff;">print</span>(a[0]) <span style="color: #008000;">#</span><span style="color: #008000;"> 1</span>
<span style="color: #000000;">
a.clear()    
</span><span style="color: #0000ff;">print</span>(a[0]) <span style="color: #008000;">#</span><span style="color: #008000;"> None</span>
<span style="color: #000000;">
a[0] </span>= 1<span style="color: #000000;">
a[</span>1] = 2<span style="color: #000000;">
a[</span>3] = 4
<span style="color: #0000ff;">for</span> i <span style="color: #0000ff;">in</span><span style="color: #000000;"> a:
    </span><span style="color: #0000ff;">print</span>(i) <span style="color: #008000;">#</span><span style="color: #008000;"> 1, 2, None, 4</span></pre>
</div>
<h2>链表</h2>
<p>链表中每一个元素都是一个对象，每一个对象被称为节点，包含有数据域value和指向下一个节点的指针next。</p>
<p>通过各个节点直接的相互链接，最终串成一个链表。</p>
<p><img src="./images/使用python实现数组、链表、队列、栈0.png" alt="" /></p>
<h3>实现</h3>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">class</span><span style="color: #000000;"> Node(object):
    </span><span style="color: #0000ff;">def</span> <span style="color: #800080;">__init__</span>(self, value=None, next=<span style="color: #000000;">None):
        self.value, self.next </span>=<span style="color: #000000;"> value, next


</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> LinkedList(object):
    </span><span style="color: #0000ff;">def</span> <span style="color: #800080;">__init__</span>(self, size=<span style="color: #000000;">None):
        </span><span style="color: #800000;">"""</span><span style="color: #800000;">
        :param size: int or None, 如果None，则该链表可以无限扩充
        </span><span style="color: #800000;">"""</span><span style="color: #000000;">
        self.size </span>=<span style="color: #000000;"> size
        </span><span style="color: #008000;">#</span><span style="color: #008000;"> 定义一个根节点</span>
        self.root =<span style="color: #000000;"> Node()
        </span><span style="color: #008000;">#</span><span style="color: #008000;"> 尾节点始终指向最后一个节点</span>
        self.tail_node =<span style="color: #000000;"> None
        self.length </span>=<span style="color: #000000;"> 0

    </span><span style="color: #0000ff;">def</span> <span style="color: #800080;">__len__</span><span style="color: #000000;">(self):
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> self.length

    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> append(self, value):
        </span><span style="color: #008000;">#</span><span style="color: #008000;"> size 不为 None, 且长度大于等于size则链表已满</span>
        <span style="color: #0000ff;">if</span> self.size <span style="color: #0000ff;">and</span> len(self) &gt;=<span style="color: #000000;"> self.size:
            </span><span style="color: #0000ff;">raise</span> Exception(<span style="color: #800000;">"</span><span style="color: #800000;">LinkedList is full</span><span style="color: #800000;">"</span><span style="color: #000000;">)
        </span><span style="color: #008000;">#</span><span style="color: #008000;"> 构建节点</span>
        node =<span style="color: #000000;"> Node(value)
        tail_node </span>=<span style="color: #000000;"> self.tail_node
        </span><span style="color: #008000;">#</span><span style="color: #008000;"> 判断尾节点是否为空</span>
        <span style="color: #0000ff;">if</span> tail_node <span style="color: #0000ff;">is</span><span style="color: #000000;"> None:
            </span><span style="color: #008000;">#</span><span style="color: #008000;"> 还没有 append 过，length = 0， 追加到 root 后</span>
            self.root.next =<span style="color: #000000;"> node
        </span><span style="color: #0000ff;">else</span><span style="color: #000000;">:
            </span><span style="color: #008000;">#</span><span style="color: #008000;"> 否则追加到最后一个节点的后边，并更新最后一个节点是 append 的节点</span>
            tail_node.next =<span style="color: #000000;"> node
        </span><span style="color: #008000;">#</span><span style="color: #008000;"> 把尾节点指向node</span>
        self.tail_node =<span style="color: #000000;"> node
        </span><span style="color: #008000;">#</span><span style="color: #008000;"> 长度加一</span>
        self.length += 1

    <span style="color: #008000;">#</span><span style="color: #008000;"> 往左边添加</span>
    <span style="color: #0000ff;">def</span><span style="color: #000000;"> append_left(self, value):
        </span><span style="color: #0000ff;">if</span> self.size <span style="color: #0000ff;">and</span> len(self) &gt;=<span style="color: #000000;"> self.size:
            </span><span style="color: #0000ff;">raise</span> Exception(<span style="color: #800000;">"</span><span style="color: #800000;">LinkedList is full</span><span style="color: #800000;">"</span><span style="color: #000000;">)
        </span><span style="color: #008000;">#</span><span style="color: #008000;"> 构建节点</span>
        node =<span style="color: #000000;"> Node(value)
        </span><span style="color: #008000;">#</span><span style="color: #008000;"> 链表为空，则直接添加设置</span>
        <span style="color: #0000ff;">if</span> self.tail_node <span style="color: #0000ff;">is</span><span style="color: #000000;"> None:
            self.tail_node </span>=<span style="color: #000000;"> node

        </span><span style="color: #008000;">#</span><span style="color: #008000;"> 设置头节点为根节点的下一个节点</span>
        head_node =<span style="color: #000000;"> self.root.next
        </span><span style="color: #008000;">#</span><span style="color: #008000;"> 把根节点的下一个节点指向node</span>
        self.root.next =<span style="color: #000000;"> node
        </span><span style="color: #008000;">#</span><span style="color: #008000;"> 把node的下一个节点指向原头节点</span>
        node.next =<span style="color: #000000;"> head_node
        </span><span style="color: #008000;">#</span><span style="color: #008000;"> 长度加一</span>
        self.length += 1

    <span style="color: #008000;">#</span><span style="color: #008000;"> 遍历节点</span>
    <span style="color: #0000ff;">def</span><span style="color: #000000;"> iter_node(self):
        </span><span style="color: #008000;">#</span><span style="color: #008000;"> 第一个节点</span>
        current_node =<span style="color: #000000;"> self.root.next
        </span><span style="color: #008000;">#</span><span style="color: #008000;"> 不是尾节点就一直遍历</span>
        <span style="color: #0000ff;">while</span> current_node <span style="color: #0000ff;">is</span> <span style="color: #0000ff;">not</span><span style="color: #000000;"> self.tail_node:
            </span><span style="color: #0000ff;">yield</span><span style="color: #000000;"> current_node
            </span><span style="color: #008000;">#</span><span style="color: #008000;"> 移动到下一个节点</span>
            current_node =<span style="color: #000000;"> current_node.next
        </span><span style="color: #008000;">#</span><span style="color: #008000;"> 尾节点</span>
        <span style="color: #0000ff;">if</span> current_node <span style="color: #0000ff;">is</span> <span style="color: #0000ff;">not</span><span style="color: #000000;"> None:
            </span><span style="color: #0000ff;">yield</span><span style="color: #000000;"> current_node

    </span><span style="color: #008000;">#</span><span style="color: #008000;"> 实现遍历方法</span>
    <span style="color: #0000ff;">def</span> <span style="color: #800080;">__iter__</span><span style="color: #000000;">(self):
        </span><span style="color: #0000ff;">for</span> node <span style="color: #0000ff;">in</span><span style="color: #000000;"> self.iter_node():
            </span><span style="color: #0000ff;">yield</span><span style="color: #000000;"> node.value

    </span><span style="color: #008000;">#</span><span style="color: #008000;"> 删除指定元素</span>
    <span style="color: #0000ff;">def</span><span style="color: #000000;"> remove(self, value):
        </span><span style="color: #008000;">#</span><span style="color: #008000;"> 删除一个值为value的节点，只要使该节点的前一个节点的next指向该节点的下一个</span>
        <span style="color: #008000;">#</span><span style="color: #008000;"> 定义上一个节点</span>
        perv_node =<span style="color: #000000;"> self.root
        </span><span style="color: #008000;">#</span><span style="color: #008000;"> 遍历链表</span>
        <span style="color: #0000ff;">for</span> current_node <span style="color: #0000ff;">in</span><span style="color: #000000;"> self.iter_node():
            </span><span style="color: #0000ff;">if</span> current_node.value ==<span style="color: #000000;"> value:
                </span><span style="color: #008000;">#</span><span style="color: #008000;"> 把上一个节点的next指向当前节点的下一个节点</span>
                perv_node.next =<span style="color: #000000;"> current_node.next
                </span><span style="color: #008000;">#</span><span style="color: #008000;"> 判断当前节点是否是尾节点</span>
                <span style="color: #0000ff;">if</span> current_node <span style="color: #0000ff;">is</span><span style="color: #000000;"> self.tail_node:
                    </span><span style="color: #008000;">#</span><span style="color: #008000;"> 更新尾节点 tail_node</span>
                    <span style="color: #008000;">#</span><span style="color: #008000;"> 如果第一个节点就找到了，把尾节点设为空</span>
                    <span style="color: #0000ff;">if</span> perv_node <span style="color: #0000ff;">is</span><span style="color: #000000;"> self.root:
                        self.tail_node </span>=<span style="color: #000000;"> None
                    </span><span style="color: #0000ff;">else</span><span style="color: #000000;">:
                        self.tail_node </span>=<span style="color: #000000;"> perv_node
                </span><span style="color: #008000;">#</span><span style="color: #008000;"> 删除节点，长度减一，删除成功返回1</span>
                <span style="color: #0000ff;">del</span><span style="color: #000000;"> current_node
                self.length </span>-= 1
                <span style="color: #0000ff;">return</span> 1
            <span style="color: #0000ff;">else</span><span style="color: #000000;">:
                perv_node </span>=<span style="color: #000000;"> current_node
        </span><span style="color: #008000;">#</span><span style="color: #008000;"> 没找到返回-1</span>
        <span style="color: #0000ff;">return</span> -1

    <span style="color: #008000;">#</span><span style="color: #008000;"> 查找元素，找到返回下标，没找到返回-1</span>
    <span style="color: #0000ff;">def</span><span style="color: #000000;"> find(self, value):
        index </span>=<span style="color: #000000;"> 0
        </span><span style="color: #008000;">#</span><span style="color: #008000;"> 遍历链表，找到返回index,没找到返回-1</span>
        <span style="color: #0000ff;">for</span> node <span style="color: #0000ff;">in</span><span style="color: #000000;"> self.iter_node():
            </span><span style="color: #0000ff;">if</span> node.value ==<span style="color: #000000;"> value:
                </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> index
            index </span>+= 1
        <span style="color: #0000ff;">return</span> -1

    <span style="color: #008000;">#</span><span style="color: #008000;"> 删除第一个节点</span>
    <span style="color: #0000ff;">def</span><span style="color: #000000;"> popleft(self):
        </span><span style="color: #008000;">#</span><span style="color: #008000;"> 链表为空</span>
        <span style="color: #0000ff;">if</span> self.root.next <span style="color: #0000ff;">is</span><span style="color: #000000;"> None:
            </span><span style="color: #0000ff;">raise</span> Exception(<span style="color: #800000;">"</span><span style="color: #800000;">pop from empty LinkedList</span><span style="color: #800000;">"</span><span style="color: #000000;">)
        </span><span style="color: #008000;">#</span><span style="color: #008000;"> 找到第一个节点</span>
        head_node =<span style="color: #000000;"> self.root.next
        </span><span style="color: #008000;">#</span><span style="color: #008000;"> 把根节点的下一个节点，指向第一个节点的下一个节点</span>
        self.root.next =<span style="color: #000000;"> head_node.next
        </span><span style="color: #008000;">#</span><span style="color: #008000;"> 获取删除节点的value</span>
        value =<span style="color: #000000;"> head_node.value
        </span><span style="color: #008000;">#</span><span style="color: #008000;"> 如果第一个节点是尾节点, 则把尾节点设为None</span>
        <span style="color: #0000ff;">if</span> head_node <span style="color: #0000ff;">is</span><span style="color: #000000;"> self.tail_node:
            self.tail_node </span>=<span style="color: #000000;"> None

        </span><span style="color: #008000;">#</span><span style="color: #008000;"> 长度减一，删除节点，返回该节点的值</span>
        self.length -= 1
        <span style="color: #0000ff;">del</span><span style="color: #000000;"> head_node
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> value

    </span><span style="color: #008000;">#</span><span style="color: #008000;"> 清空链表</span>
    <span style="color: #0000ff;">def</span><span style="color: #000000;"> clear(self):
        </span><span style="color: #0000ff;">for</span> node <span style="color: #0000ff;">in</span><span style="color: #000000;"> self.iter_node():
            </span><span style="color: #0000ff;">del</span><span style="color: #000000;"> node
        self.root.next </span>=<span style="color: #000000;"> None
        self.tail_node </span>=<span style="color: #000000;"> None
        self.length </span>=<span style="color: #000000;"> 0

    </span><span style="color: #008000;">#</span><span style="color: #008000;"> 反转链表</span>
    <span style="color: #0000ff;">def</span><span style="color: #000000;"> reverse(self):
        </span><span style="color: #008000;">#</span><span style="color: #008000;"> 第一个节点为当前节点，并把尾节点指向当前节点</span>
        current_node =<span style="color: #000000;"> self.root.next
        self.tail_node </span>=<span style="color: #000000;"> current_node
        perv_node </span>=<span style="color: #000000;"> None

        </span><span style="color: #0000ff;">while</span><span style="color: #000000;"> current_node:
            </span><span style="color: #008000;">#</span><span style="color: #008000;"> 下一个节点</span>
            next_node =<span style="color: #000000;"> current_node.next
            </span><span style="color: #008000;">#</span><span style="color: #008000;"> 当前节点的下一个节点指向perv_node</span>
            current_node.next =<span style="color: #000000;"> perv_node

            </span><span style="color: #008000;">#</span><span style="color: #008000;"> 当前节点的下一个节点为空，则把根节点的next指向当前节点</span>
            <span style="color: #0000ff;">if</span> next_node <span style="color: #0000ff;">is</span><span style="color: #000000;"> None:
                self.root.next </span>=<span style="color: #000000;"> current_node

            </span><span style="color: #008000;">#</span><span style="color: #008000;"> 把当前节点赋值给perv_node</span>
            perv_node =<span style="color: #000000;"> current_node
            </span><span style="color: #008000;">#</span><span style="color: #008000;"> 把下一个节点赋值为当前节点</span>
            current_node = next_node</pre>
</div>
<h3>使用</h3>
<div class="cnblogs_code">
<pre><code>ll =<span style="color: #000000;"> LinkedList()

ll.append(0)
ll.append(</span>1<span style="color: #000000;">)
ll.append(</span>2<span style="color: #000000;">)
ll.append(</span>3<span style="color: #000000;">)
</span><span style="color: #0000ff;">print</span>(len(ll)) <span style="color: #008000;">#</span><span style="color: #008000;"> 4</span>
<span style="color: #0000ff;">print</span>(ll.find(2)) <span style="color: #008000;">#</span><span style="color: #008000;"> 2</span>
<span style="color: #0000ff;">print</span>(ll.find(-1)) <span style="color: #008000;">#</span><span style="color: #008000;"> -1</span>
<span style="color: #000000;">
ll.clear()
</span><span style="color: #0000ff;">print</span>(len(ll)) <span style="color: #008000;">#</span><span style="color: #008000;"> 0</span>
<span style="color: #0000ff;">print</span>(list(ll)) <span style="color: #008000;">#</span><span style="color: #008000;"> []</span></pre>
</div>
<h3>循环链表</h3>
<p>双链表中每一个节点有两个指针，一个指向后面节点、一个指向前面节点。</p>
<p><img src="./images/使用python实现数组、链表、队列、栈1.png" alt="" /></p>
<h3>循环链表实现</h3>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">class</span><span style="color: #000000;"> Node(object):
    </span><span style="color: #0000ff;">def</span> <span style="color: #800080;">__init__</span>(self, value=None, prev=None, next=<span style="color: #000000;">None):
        self.value </span>=<span style="color: #000000;"> value
        self.prev </span>=<span style="color: #000000;"> prev
        self.next </span>=<span style="color: #000000;"> next


</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> CircularDoubleLinkedList(object):
    </span><span style="color: #800000;">"""</span><span style="color: #800000;">
    双向循环链表
    </span><span style="color: #800000;">"""</span>

    <span style="color: #0000ff;">def</span> <span style="color: #800080;">__init__</span>(self, maxsize=<span style="color: #000000;">None):
        self.maxsize </span>=<span style="color: #000000;"> maxsize
        node </span>=<span style="color: #000000;"> Node()
        node.prev </span>=<span style="color: #000000;"> node
        node.next </span>=<span style="color: #000000;"> node
        self.root </span>=<span style="color: #000000;"> node
        self.length </span>=<span style="color: #000000;"> 0

    </span><span style="color: #0000ff;">def</span> <span style="color: #800080;">__len__</span><span style="color: #000000;">(self):
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> self.length

    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> head_node(self):
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> self.root.next

    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> tail_node(self):
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> self.root.prev

    </span><span style="color: #008000;">#</span><span style="color: #008000;"> 遍历</span>
    <span style="color: #0000ff;">def</span><span style="color: #000000;"> iter_node(self):
        </span><span style="color: #0000ff;">if</span> self.root.next <span style="color: #0000ff;">is</span><span style="color: #000000;"> self.root:
            </span><span style="color: #0000ff;">return</span><span style="color: #000000;">
        current_node </span>=<span style="color: #000000;"> self.root.next
        </span><span style="color: #0000ff;">while</span> current_node.next <span style="color: #0000ff;">is</span> <span style="color: #0000ff;">not</span><span style="color: #000000;"> self.root:
            </span><span style="color: #0000ff;">yield</span><span style="color: #000000;"> current_node
            current_node </span>=<span style="color: #000000;"> current_node.next
        </span><span style="color: #0000ff;">yield</span><span style="color: #000000;"> current_node

    </span><span style="color: #0000ff;">def</span> <span style="color: #800080;">__iter__</span><span style="color: #000000;">(self):
        </span><span style="color: #0000ff;">for</span> node <span style="color: #0000ff;">in</span><span style="color: #000000;"> self.iter_node():
            </span><span style="color: #0000ff;">yield</span><span style="color: #000000;"> node.value

    </span><span style="color: #008000;">#</span><span style="color: #008000;"> 反序遍历</span>
    <span style="color: #0000ff;">def</span><span style="color: #000000;"> iter_node_reverse(self):
        </span><span style="color: #0000ff;">if</span> self.root.prev <span style="color: #0000ff;">is</span><span style="color: #000000;"> self.root:
            </span><span style="color: #0000ff;">return</span><span style="color: #000000;">
        current_node </span>=<span style="color: #000000;"> self.root.prev
        </span><span style="color: #0000ff;">while</span> current_node.prev <span style="color: #0000ff;">is</span> <span style="color: #0000ff;">not</span><span style="color: #000000;"> self.root:
            </span><span style="color: #0000ff;">yield</span><span style="color: #000000;"> current_node
            current_node </span>=<span style="color: #000000;"> current_node.prev
        </span><span style="color: #0000ff;">yield</span><span style="color: #000000;"> current_node

    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> append(self, value):
        </span><span style="color: #0000ff;">if</span> self.maxsize <span style="color: #0000ff;">is</span> <span style="color: #0000ff;">not</span> None <span style="color: #0000ff;">and</span> len(self) &gt;=<span style="color: #000000;"> self.maxsize:
            </span><span style="color: #0000ff;">raise</span> Exception(<span style="color: #800000;">"</span><span style="color: #800000;">LinkedList is full</span><span style="color: #800000;">"</span><span style="color: #000000;">)
        node </span>=<span style="color: #000000;"> Node(value)
        tail_node </span>= self.tail_node() <span style="color: #0000ff;">or</span><span style="color: #000000;"> self.root
        tail_node.next </span>=<span style="color: #000000;"> node
        node.prev </span>=<span style="color: #000000;"> tail_node
        node.next </span>=<span style="color: #000000;"> self.root
        self.root.prev </span>=<span style="color: #000000;"> node
        self.length </span>+= 1

    <span style="color: #0000ff;">def</span><span style="color: #000000;"> append_left(self, value):
        </span><span style="color: #0000ff;">if</span> self.maxsize <span style="color: #0000ff;">is</span> <span style="color: #0000ff;">not</span> None <span style="color: #0000ff;">and</span> len(self) &gt;=<span style="color: #000000;"> self.maxsize:
            </span><span style="color: #0000ff;">raise</span> Exception(<span style="color: #800000;">"</span><span style="color: #800000;">LinkedList is full</span><span style="color: #800000;">"</span><span style="color: #000000;">)
        node </span>=<span style="color: #000000;"> Node(value)
        </span><span style="color: #0000ff;">if</span> self.root.next <span style="color: #0000ff;">is</span><span style="color: #000000;"> self.root:
            self.root.next </span>=<span style="color: #000000;"> node
            node.prev </span>=<span style="color: #000000;"> self.root
            node.next </span>=<span style="color: #000000;"> self.root
            self.root.prev </span>=<span style="color: #000000;"> node
        </span><span style="color: #0000ff;">else</span><span style="color: #000000;">:
            node.next </span>=<span style="color: #000000;"> self.root.next
            self.root.next.prev </span>=<span style="color: #000000;"> node
            self.root.next </span>=<span style="color: #000000;"> node
            node.prev </span>=<span style="color: #000000;"> self.root
        self.length </span>+= 1

    <span style="color: #0000ff;">def</span><span style="color: #000000;"> remove(self, node):
        </span><span style="color: #0000ff;">if</span> node <span style="color: #0000ff;">is</span><span style="color: #000000;"> self.root:
            </span><span style="color: #0000ff;">return</span><span style="color: #000000;">
        node.next.prev </span>=<span style="color: #000000;"> node.prev
        node.prev.next </span>=<span style="color: #000000;"> node.next
        self.length </span>-= 1
        <span style="color: #0000ff;">return</span> node</pre>
</div>
<h3>循环链表的使用</h3>
<div class="cnblogs_code">
<pre><code>dll =<span style="color: #000000;"> CircularDoubleLinkedList()

dll.append(0)
dll.append(</span>1<span style="color: #000000;">)
dll.append(</span>2<span style="color: #000000;">)

</span><span style="color: #0000ff;">assert</span> list(dll) == [0, 1, 2<span style="color: #000000;">]
</span><span style="color: #0000ff;">print</span>(list(dll)) <span style="color: #008000;">#</span><span style="color: #008000;"> [0, 1, 2]</span>

<span style="color: #0000ff;">print</span>([node.value <span style="color: #0000ff;">for</span> node <span style="color: #0000ff;">in</span> dll.iter_node()]) <span style="color: #008000;">#</span><span style="color: #008000;"> [0, 1, 2]</span>
<span style="color: #0000ff;">print</span>([node.value <span style="color: #0000ff;">for</span> node <span style="color: #0000ff;">in</span> dll.iter_node_reverse()]) <span style="color: #008000;">#</span><span style="color: #008000;"> [2, 1, 0]</span>
<span style="color: #000000;">
headnode </span>=<span style="color: #000000;"> dll.head_node()
</span><span style="color: #0000ff;">print</span>(headnode.value) <span style="color: #008000;">#</span><span style="color: #008000;"> 0</span>
<span style="color: #000000;">dll.remove(headnode)
</span><span style="color: #0000ff;">print</span>(len(dll)) <span style="color: #008000;">#</span><span style="color: #008000;"> 2</span></pre>
</div>
<h2>队列</h2>
<p>队列<strong>(Queue)</strong>是一个数据集合，仅允许在列表的一端进行插入，另一端进行删除。</p>
<p>进行插入的一端成为队尾<strong>(rear)</strong>，插入动作称为进队或入队。</p>
<p>进行删除的一端称为队头<strong>(front)</strong>，删除动作称为出队。</p>
<p>队列的性质：先进先出<strong>(First-in, First-out)</strong>。</p>
<p><img src="./images/使用python实现数组、链表、队列、栈2.png" alt="" /></p>
<h3>基于数组实现环形队列</h3>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">class</span><span style="color: #000000;"> Array(object):
    </span><span style="color: #0000ff;">def</span> <span style="color: #800080;">__init__</span>(self, size=32<span style="color: #000000;">):
        </span><span style="color: #800000;">"""</span><span style="color: #800000;">
        :param size: 长度
        </span><span style="color: #800000;">"""</span><span style="color: #000000;">
        self._size </span>=<span style="color: #000000;"> size
        self._items </span>= [None] *<span style="color: #000000;"> size

    </span><span style="color: #008000;">#</span><span style="color: #008000;"> 在执行array[key]时执行</span>
    <span style="color: #0000ff;">def</span> <span style="color: #800080;">__getitem__</span><span style="color: #000000;">(self, index):
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> self._items[index]

    </span><span style="color: #008000;">#</span><span style="color: #008000;"> 在执行array[key] = value 时执行</span>
    <span style="color: #0000ff;">def</span> <span style="color: #800080;">__setitem__</span><span style="color: #000000;">(self, index, value):
        self._items[index] </span>=<span style="color: #000000;"> value

    </span><span style="color: #008000;">#</span><span style="color: #008000;"> 在执行len(array) 时执行</span>
    <span style="color: #0000ff;">def</span> <span style="color: #800080;">__len__</span><span style="color: #000000;">(self):
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> self._size
    
    </span><span style="color: #008000;">#</span><span style="color: #008000;"> 清空数组</span>
    <span style="color: #0000ff;">def</span> clear(self, value=<span style="color: #000000;">None):
        </span><span style="color: #0000ff;">for</span> i <span style="color: #0000ff;">in</span><span style="color: #000000;"> range(len(self._items)):
            self._items[i] </span>=<span style="color: #000000;"> value

    </span><span style="color: #008000;">#</span><span style="color: #008000;"> 在遍历时执行</span>
    <span style="color: #0000ff;">def</span> <span style="color: #800080;">__iter__</span><span style="color: #000000;">(self):
        </span><span style="color: #0000ff;">for</span> item <span style="color: #0000ff;">in</span><span style="color: #000000;"> self._items:
            </span><span style="color: #0000ff;">yield</span><span style="color: #000000;"> item


</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> ArrayQueue(object):
    </span><span style="color: #0000ff;">def</span> <span style="color: #800080;">__init__</span><span style="color: #000000;">(self, maxsize):
        self.maxsize </span>=<span style="color: #000000;"> maxsize
        self.array </span>=<span style="color: #000000;"> Array(maxsize)
        self.head </span>=<span style="color: #000000;"> 0
        self.tail </span>=<span style="color: #000000;"> 0

    </span><span style="color: #0000ff;">def</span> <span style="color: #800080;">__len__</span><span style="color: #000000;">(self):
        </span><span style="color: #0000ff;">return</span> self.head -<span style="color: #000000;"> self.tail

    </span><span style="color: #008000;">#</span><span style="color: #008000;"> 入队</span>
    <span style="color: #0000ff;">def</span><span style="color: #000000;"> push(self, value):
        </span><span style="color: #0000ff;">if</span> len(self) &gt;=<span style="color: #000000;"> self.maxsize:
            </span><span style="color: #0000ff;">raise</span> Exception(<span style="color: #800000;">"</span><span style="color: #800000;">Queue is full</span><span style="color: #800000;">"</span><span style="color: #000000;">)
        self.array[self.head </span>% self.maxsize] =<span style="color: #000000;"> value
        self.head </span>+= 1

    <span style="color: #008000;">#</span><span style="color: #008000;"> 出队</span>
    <span style="color: #0000ff;">def</span><span style="color: #000000;"> pop(self):
        value </span>= self.array[self.tail %<span style="color: #000000;"> self.maxsize]
        self.tail </span>+= 1
        <span style="color: #0000ff;">return</span> value</pre>
</div>
<h3>使用</h3>
<div class="cnblogs_code">
<pre><code>size = 5<span style="color: #000000;">
q </span>=<span style="color: #000000;"> ArrayQueue(size)
</span><span style="color: #0000ff;">for</span> i <span style="color: #0000ff;">in</span><span style="color: #000000;"> range(size):
    q.push(i)

</span><span style="color: #0000ff;">print</span>(len(q)) <span style="color: #008000;">#</span><span style="color: #008000;"> 5</span>

<span style="color: #0000ff;">print</span>(q.pop()) <span style="color: #008000;">#</span><span style="color: #008000;"> 0</span>
<span style="color: #0000ff;">print</span>(q.pop()) <span style="color: #008000;">#</span><span style="color: #008000;"> 1</span></pre>
</div>
<h3>双向队列</h3>
<p>两端都可以进行插入，删除。</p>
<p><img src="./images/使用python实现数组、链表、队列、栈3.png" alt="" /></p>
<h3>基于双向链表实现双向队列</h3>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">class</span><span style="color: #000000;"> Node(object):
    </span><span style="color: #0000ff;">def</span> <span style="color: #800080;">__init__</span>(self, value=None, prev=None, next=<span style="color: #000000;">None):
        self.value </span>=<span style="color: #000000;"> value
        self.prev </span>=<span style="color: #000000;"> prev
        self.next </span>=<span style="color: #000000;"> next


</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> CircularDoubleLinkedList(object):
    </span><span style="color: #800000;">"""</span><span style="color: #800000;">
    双向循环链表
    </span><span style="color: #800000;">"""</span>

    <span style="color: #0000ff;">def</span> <span style="color: #800080;">__init__</span>(self, maxsize=<span style="color: #000000;">None):
        self.maxsize </span>=<span style="color: #000000;"> maxsize
        node </span>=<span style="color: #000000;"> Node()
        node.prev </span>=<span style="color: #000000;"> node
        node.next </span>=<span style="color: #000000;"> node
        self.root </span>=<span style="color: #000000;"> node
        self.length </span>=<span style="color: #000000;"> 0

    </span><span style="color: #0000ff;">def</span> <span style="color: #800080;">__len__</span><span style="color: #000000;">(self):
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> self.length

    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> head_node(self):
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> self.root.next

    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> tail_node(self):
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> self.root.prev

    </span><span style="color: #008000;">#</span><span style="color: #008000;"> 遍历</span>
    <span style="color: #0000ff;">def</span><span style="color: #000000;"> iter_node(self):
        </span><span style="color: #0000ff;">if</span> self.root.next <span style="color: #0000ff;">is</span><span style="color: #000000;"> self.root:
            </span><span style="color: #0000ff;">return</span><span style="color: #000000;">
        current_node </span>=<span style="color: #000000;"> self.root.next
        </span><span style="color: #0000ff;">while</span> current_node.next <span style="color: #0000ff;">is</span> <span style="color: #0000ff;">not</span><span style="color: #000000;"> self.root:
            </span><span style="color: #0000ff;">yield</span><span style="color: #000000;"> current_node
            current_node </span>=<span style="color: #000000;"> current_node.next
        </span><span style="color: #0000ff;">yield</span><span style="color: #000000;"> current_node

    </span><span style="color: #0000ff;">def</span> <span style="color: #800080;">__iter__</span><span style="color: #000000;">(self):
        </span><span style="color: #0000ff;">for</span> node <span style="color: #0000ff;">in</span><span style="color: #000000;"> self.iter_node():
            </span><span style="color: #0000ff;">yield</span><span style="color: #000000;"> node.value

    </span><span style="color: #008000;">#</span><span style="color: #008000;"> 反序遍历</span>
    <span style="color: #0000ff;">def</span><span style="color: #000000;"> iter_node_reverse(self):
        </span><span style="color: #0000ff;">if</span> self.root.prev <span style="color: #0000ff;">is</span><span style="color: #000000;"> self.root:
            </span><span style="color: #0000ff;">return</span><span style="color: #000000;">
        current_node </span>=<span style="color: #000000;"> self.root.prev
        </span><span style="color: #0000ff;">while</span> current_node.prev <span style="color: #0000ff;">is</span> <span style="color: #0000ff;">not</span><span style="color: #000000;"> self.root:
            </span><span style="color: #0000ff;">yield</span><span style="color: #000000;"> current_node
            current_node </span>=<span style="color: #000000;"> current_node.prev
        </span><span style="color: #0000ff;">yield</span><span style="color: #000000;"> current_node

    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> append(self, value):
        </span><span style="color: #0000ff;">if</span> self.maxsize <span style="color: #0000ff;">is</span> <span style="color: #0000ff;">not</span> None <span style="color: #0000ff;">and</span> len(self) &gt;=<span style="color: #000000;"> self.maxsize:
            </span><span style="color: #0000ff;">raise</span> Exception(<span style="color: #800000;">"</span><span style="color: #800000;">LinkedList is full</span><span style="color: #800000;">"</span><span style="color: #000000;">)
        node </span>=<span style="color: #000000;"> Node(value)
        tail_node </span>= self.tail_node() <span style="color: #0000ff;">or</span><span style="color: #000000;"> self.root
        tail_node.next </span>=<span style="color: #000000;"> node
        node.prev </span>=<span style="color: #000000;"> tail_node
        node.next </span>=<span style="color: #000000;"> self.root
        self.root.prev </span>=<span style="color: #000000;"> node
        self.length </span>+= 1

    <span style="color: #0000ff;">def</span><span style="color: #000000;"> append_left(self, value):
        </span><span style="color: #0000ff;">if</span> self.maxsize <span style="color: #0000ff;">is</span> <span style="color: #0000ff;">not</span> None <span style="color: #0000ff;">and</span> len(self) &gt;=<span style="color: #000000;"> self.maxsize:
            </span><span style="color: #0000ff;">raise</span> Exception(<span style="color: #800000;">"</span><span style="color: #800000;">LinkedList is full</span><span style="color: #800000;">"</span><span style="color: #000000;">)
        node </span>=<span style="color: #000000;"> Node(value)
        </span><span style="color: #0000ff;">if</span> self.root.next <span style="color: #0000ff;">is</span><span style="color: #000000;"> self.root:
            self.root.next </span>=<span style="color: #000000;"> node
            node.prev </span>=<span style="color: #000000;"> self.root
            node.next </span>=<span style="color: #000000;"> self.root
            self.root.prev </span>=<span style="color: #000000;"> node
        </span><span style="color: #0000ff;">else</span><span style="color: #000000;">:
            node.next </span>=<span style="color: #000000;"> self.root.next
            self.root.next.prev </span>=<span style="color: #000000;"> node
            self.root.next </span>=<span style="color: #000000;"> node
            node.prev </span>=<span style="color: #000000;"> self.root
        self.length </span>+= 1

    <span style="color: #0000ff;">def</span><span style="color: #000000;"> remove(self, node):
        </span><span style="color: #0000ff;">if</span> node <span style="color: #0000ff;">is</span><span style="color: #000000;"> self.root:
            </span><span style="color: #0000ff;">return</span><span style="color: #000000;">
        node.next.prev </span>=<span style="color: #000000;"> node.prev
        node.prev.next </span>=<span style="color: #000000;"> node.next
        self.length </span>-= 1
        <span style="color: #0000ff;">return</span><span style="color: #000000;"> node


</span><span style="color: #008000;">#</span><span style="color: #008000;"> 双向队列</span>
<span style="color: #0000ff;">class</span><span style="color: #000000;"> Deque(CircularDoubleLinkedList):
    </span><span style="color: #008000;">#</span><span style="color: #008000;"> 从右边出队</span>
    <span style="color: #0000ff;">def</span><span style="color: #000000;"> pop(self):
        </span><span style="color: #0000ff;">if</span> len(self) &lt;=<span style="color: #000000;"> 0:
            </span><span style="color: #0000ff;">raise</span> Exception(<span style="color: #800000;">"</span><span style="color: #800000;">stark is empty!</span><span style="color: #800000;">"</span><span style="color: #000000;">)
        tail_node </span>=<span style="color: #000000;"> self.tail_node()
        value </span>=<span style="color: #000000;"> tail_node.value
        self.remove(tail_node)
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> value

    </span><span style="color: #008000;">#</span><span style="color: #008000;"> 从左边出队</span>
    <span style="color: #0000ff;">def</span><span style="color: #000000;"> popleft(self):
        </span><span style="color: #0000ff;">if</span> len(self) &lt;=<span style="color: #000000;"> 0:
            </span><span style="color: #0000ff;">raise</span> Exception(<span style="color: #800000;">"</span><span style="color: #800000;">stark is empty!</span><span style="color: #800000;">"</span><span style="color: #000000;">)
        head_node </span>=<span style="color: #000000;"> self.head_node()
        value </span>=<span style="color: #000000;"> head_node.value
        self.remove(head_node)
        </span><span style="color: #0000ff;">return</span> value</pre>
</div>
<h3>双向队列的使用</h3>
<div class="cnblogs_code">
<pre><code>dq =<span style="color: #000000;"> Deque()
dq.append(</span>1<span style="color: #000000;">)
dq.append(</span>2<span style="color: #000000;">)
</span><span style="color: #0000ff;">print</span>(list(dq)) <span style="color: #008000;">#</span><span style="color: #008000;"> [1, 2]</span>
<span style="color: #000000;">
dq.appendleft(0)
</span><span style="color: #0000ff;">print</span>(list(dq)) <span style="color: #008000;">#</span><span style="color: #008000;"> [0, 1, 2]</span>
<span style="color: #000000;">
dq.pop()
</span><span style="color: #0000ff;">print</span>(list(dq)) <span style="color: #008000;">#</span><span style="color: #008000;"> [0, 1]</span>
<span style="color: #000000;">
dq.popleft()
</span><span style="color: #0000ff;">print</span>(list(dq)) <span style="color: #008000;">#</span><span style="color: #008000;"> [1]</span>
<span style="color: #000000;">
dq.pop()
</span><span style="color: #0000ff;">print</span>(len(dq)) <span style="color: #008000;">#</span><span style="color: #008000;"> 0</span></pre>
</div>
<h2>栈</h2>
<p>栈(Stack)是一个数据集合，可以理解为只能在一端插入或删除操作的链表。</p>
<p>栈的特点：后进先出<strong>(Last-in, First-out)</strong></p>
<p>栈的概念：</p>
<ol>
<li>栈顶</li>
<li>栈底</li>
</ol>
<p>栈的基本操作：</p>
<ol>
<li>进栈（压栈）：<strong>push</strong></li>
<li>出栈：<strong>pop</strong></li>
</ol>
<p><img src="./images/使用python实现数组、链表、队列、栈4.png" alt="" /></p>
<h3>基于双向队列实现</h3>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">class</span><span style="color: #000000;"> Node(object):
    </span><span style="color: #0000ff;">def</span> <span style="color: #800080;">__init__</span>(self, value=None, prev=None, next=<span style="color: #000000;">None):
        self.value </span>=<span style="color: #000000;"> value
        self.prev </span>=<span style="color: #000000;"> prev
        self.next </span>=<span style="color: #000000;"> next


</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> CircularDoubleLinkedList(object):
    </span><span style="color: #800000;">"""</span><span style="color: #800000;">
    双向循环链表
    </span><span style="color: #800000;">"""</span>
    <span style="color: #0000ff;">def</span> <span style="color: #800080;">__init__</span>(self, maxsize=<span style="color: #000000;">None):
        self.maxsize </span>=<span style="color: #000000;"> maxsize
        node </span>=<span style="color: #000000;"> Node()
        node.prev </span>=<span style="color: #000000;"> node
        node.next </span>=<span style="color: #000000;"> node
        self.root </span>=<span style="color: #000000;"> node
        self.length </span>=<span style="color: #000000;"> 0

    </span><span style="color: #0000ff;">def</span> <span style="color: #800080;">__len__</span><span style="color: #000000;">(self):
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> self.length

    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> head_node(self):
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> self.root.next

    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> tail_node(self):
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> self.root.prev

    </span><span style="color: #008000;">#</span><span style="color: #008000;"> 遍历</span>
    <span style="color: #0000ff;">def</span><span style="color: #000000;"> iter_node(self):
        </span><span style="color: #0000ff;">if</span> self.root.next <span style="color: #0000ff;">is</span><span style="color: #000000;"> self.root:
            </span><span style="color: #0000ff;">return</span><span style="color: #000000;">
        current_node </span>=<span style="color: #000000;"> self.root.next
        </span><span style="color: #0000ff;">while</span> current_node.next <span style="color: #0000ff;">is</span> <span style="color: #0000ff;">not</span><span style="color: #000000;"> self.root:
            </span><span style="color: #0000ff;">yield</span><span style="color: #000000;"> current_node
            current_node </span>=<span style="color: #000000;"> current_node.next
        </span><span style="color: #0000ff;">yield</span><span style="color: #000000;"> current_node

    </span><span style="color: #0000ff;">def</span> <span style="color: #800080;">__iter__</span><span style="color: #000000;">(self):
        </span><span style="color: #0000ff;">for</span> node <span style="color: #0000ff;">in</span><span style="color: #000000;"> self.iter_node():
            </span><span style="color: #0000ff;">yield</span><span style="color: #000000;"> node.value

    </span><span style="color: #008000;">#</span><span style="color: #008000;"> 反序遍历</span>
    <span style="color: #0000ff;">def</span><span style="color: #000000;"> iter_node_reverse(self):
        </span><span style="color: #0000ff;">if</span> self.root.prev <span style="color: #0000ff;">is</span><span style="color: #000000;"> self.root:
            </span><span style="color: #0000ff;">return</span><span style="color: #000000;">
        current_node </span>=<span style="color: #000000;"> self.root.prev
        </span><span style="color: #0000ff;">while</span> current_node.prev <span style="color: #0000ff;">is</span> <span style="color: #0000ff;">not</span><span style="color: #000000;"> self.root:
            </span><span style="color: #0000ff;">yield</span><span style="color: #000000;"> current_node
            current_node </span>=<span style="color: #000000;"> current_node.prev
        </span><span style="color: #0000ff;">yield</span><span style="color: #000000;"> current_node

    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> append(self, value):
        </span><span style="color: #0000ff;">if</span> self.maxsize <span style="color: #0000ff;">is</span> <span style="color: #0000ff;">not</span> None <span style="color: #0000ff;">and</span> len(self) &gt;=<span style="color: #000000;"> self.maxsize:
            </span><span style="color: #0000ff;">raise</span> Exception(<span style="color: #800000;">"</span><span style="color: #800000;">LinkedList is full</span><span style="color: #800000;">"</span><span style="color: #000000;">)
        node </span>=<span style="color: #000000;"> Node(value)
        tail_node </span>= self.tail_node() <span style="color: #0000ff;">or</span><span style="color: #000000;"> self.root
        tail_node.next </span>=<span style="color: #000000;"> node
        node.prev </span>=<span style="color: #000000;"> tail_node
        node.next </span>=<span style="color: #000000;"> self.root
        self.root.prev </span>=<span style="color: #000000;"> node
        self.length </span>+= 1

    <span style="color: #0000ff;">def</span><span style="color: #000000;"> append_left(self, value):
        </span><span style="color: #0000ff;">if</span> self.maxsize <span style="color: #0000ff;">is</span> <span style="color: #0000ff;">not</span> None <span style="color: #0000ff;">and</span> len(self) &gt;=<span style="color: #000000;"> self.maxsize:
            </span><span style="color: #0000ff;">raise</span> Exception(<span style="color: #800000;">"</span><span style="color: #800000;">LinkedList is full</span><span style="color: #800000;">"</span><span style="color: #000000;">)
        node </span>=<span style="color: #000000;"> Node(value)
        </span><span style="color: #0000ff;">if</span> self.root.next <span style="color: #0000ff;">is</span><span style="color: #000000;"> self.root:
            self.root.next </span>=<span style="color: #000000;"> node
            node.prev </span>=<span style="color: #000000;"> self.root
            node.next </span>=<span style="color: #000000;"> self.root
            self.root.prev </span>=<span style="color: #000000;"> node
        </span><span style="color: #0000ff;">else</span><span style="color: #000000;">:
            node.next </span>=<span style="color: #000000;"> self.root.next
            self.root.next.prev </span>=<span style="color: #000000;"> node
            self.root.next </span>=<span style="color: #000000;"> node
            node.prev </span>=<span style="color: #000000;"> self.root
        self.length </span>+= 1

    <span style="color: #0000ff;">def</span><span style="color: #000000;"> remove(self, node):
        </span><span style="color: #0000ff;">if</span> node <span style="color: #0000ff;">is</span><span style="color: #000000;"> self.root:
            </span><span style="color: #0000ff;">return</span><span style="color: #000000;">
        node.next.prev </span>=<span style="color: #000000;"> node.prev
        node.prev.next </span>=<span style="color: #000000;"> node.next
        self.length </span>-= 1
        <span style="color: #0000ff;">return</span><span style="color: #000000;"> node


</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> Deque(CircularDoubleLinkedList):
    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> pop(self):
        </span><span style="color: #0000ff;">if</span> len(self) &lt;=<span style="color: #000000;"> 0:
            </span><span style="color: #0000ff;">raise</span> Exception(<span style="color: #800000;">"</span><span style="color: #800000;">stark is empty!</span><span style="color: #800000;">"</span><span style="color: #000000;">)
        tail_node </span>=<span style="color: #000000;"> self.tail_node()
        value </span>=<span style="color: #000000;"> tail_node.value
        self.remove(tail_node)
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> value

    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> popleft(self):
        </span><span style="color: #0000ff;">if</span> len(self) &lt;=<span style="color: #000000;"> 0:
            </span><span style="color: #0000ff;">raise</span> Exception(<span style="color: #800000;">"</span><span style="color: #800000;">stark is empty!</span><span style="color: #800000;">"</span><span style="color: #000000;">)
        head_node </span>=<span style="color: #000000;"> self.head_node()
        value </span>=<span style="color: #000000;"> head_node.value
        self.remove(head_node)
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> value


</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> Stack(object):
    </span><span style="color: #0000ff;">def</span> <span style="color: #800080;">__init__</span><span style="color: #000000;">(self):
        self.deque </span>=<span style="color: #000000;"> Deque() 
    
    </span><span style="color: #008000;">#</span><span style="color: #008000;"> 压栈</span>
    <span style="color: #0000ff;">def</span><span style="color: #000000;"> push(self, value):
        self.deque.append(value)

    </span><span style="color: #008000;">#</span><span style="color: #008000;"> 出栈</span>
    <span style="color: #0000ff;">def</span><span style="color: #000000;"> pop(self):
        </span><span style="color: #0000ff;">return</span> self.deque.pop()</pre>
</div>
<h3>使用</h3>
<div class="cnblogs_code">
<pre><code>s =<span style="color: #000000;"> Stack()
s.push(0)
s.push(</span>1<span style="color: #000000;">)
s.push(</span>2<span style="color: #000000;">)

</span><span style="color: #0000ff;">print</span>(s.pop()) <span style="color: #008000;">#</span><span style="color: #008000;"> 2</span>
<span style="color: #0000ff;">print</span>(s.pop()) <span style="color: #008000;">#</span><span style="color: #008000;"> 1</span>
<span style="color: #0000ff;">print</span>(s.pop()) <span style="color: #008000;">#</span><span style="color: #008000;"> 0</span></pre>
</div>
<p><span style="color: #00ffff;"><strong>~&gt;.&lt;~</strong></span></p>
<p><img id="uploading_image_31093" src="./images/使用python实现数组、链表、队列、栈5.png" alt="" /></p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>