<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修__init__、__new__方法详解' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>__init__、__new__方法详解</center></div><div class='banquan'>原文出处:本文由博客园博主feel_different提供。<br/>
原文连接:https://www.cnblogs.com/bind/p/11514725.html</div><br>
    <h1>__init__详解</h1>
<div class="cnblogs_code">
<pre><code><span style="color: rgb(0, 0, 255);">class</span> Dog(<span style="color: rgb(0, 0, 255);">object</span><span style="color: rgb(0, 0, 0);">):
    def __init__(self):
        print(</span><span style="color: rgb(128, 0, 0);">'</span><span style="color: rgb(128, 0, 0);">init方法</span><span style="color: rgb(128, 0, 0);">'</span><span style="color: rgb(0, 0, 0);">)

    def __del__(self):
        print(</span><span style="color: rgb(128, 0, 0);">'</span><span style="color: rgb(128, 0, 0);">del方法</span><span style="color: rgb(128, 0, 0);">'</span><span style="color: rgb(0, 0, 0);">)

    def __str__(self):
        print(</span><span style="color: rgb(128, 0, 0);">'</span><span style="color: rgb(128, 0, 0);">str方法</span><span style="color: rgb(128, 0, 0);">'</span><span style="color: rgb(0, 0, 0);">)

    def __new__(cls, </span>*args, **<span style="color: rgb(0, 0, 0);">kwargs):
        print(</span><span style="color: rgb(128, 0, 0);">'</span><span style="color: rgb(128, 0, 0);">new方法</span><span style="color: rgb(128, 0, 0);">'</span><span style="color: rgb(0, 0, 0);">)
        </span><span style="color: rgb(0, 0, 255);">return</span> <span style="color: rgb(0, 0, 255);">object</span><span style="color: rgb(0, 0, 0);">.__new__(cls)

xtq</span>=<span style="color: rgb(0, 0, 0);">Dog()

</span><span style="color: rgb(128, 0, 0);">'''
</span><span style="color: rgb(0, 0, 0);">相当于要做三件事：
</span><span style="color: rgb(128, 0, 128);">1</span><span style="color: rgb(0, 0, 0);">、调用__new__方法来创建对象，然后找一个变量来接收__new__的返回值，这个返回值表示创建出来的对象的引用
</span><span style="color: rgb(128, 0, 128);">2</span><span style="color: rgb(0, 0, 0);">、__init__（刚创建出来的引用）
</span><span style="color: rgb(128, 0, 128);">3</span><span style="color: rgb(0, 0, 0);">、返回对象的引用
在 C</span>++<span style="color: rgb(0, 0, 0);">、java中的构造方法用来创建、初始化
在python中实际由 __new__、__init__ 来创建、初始化，所以init不等价于构造方法
</span><span style="color: rgb(128, 0, 0);">'''</span></pre>
</div>
<p><br></p>
<h1>init方法为对象定制自己独有的特征</h1>
<div class="cnblogs_code">
<pre><code></pre>
<pre><code></pre>
<pre><code>#方式一、为对象初始化自己独有的特征
<span style="color: rgb(0, 0, 255);">class</span> People:
    country='China'
    x=1
    <span style="color: rgb(0, 0, 255);">def</span> run(self):
        <span style="color: rgb(0, 0, 255);">print</span>('-----&gt;', self)

# 实例化出三个空对象
obj1=People()
obj2=People()
obj3=People()

# 为对象定制自己独有的特征
obj1.<span style="color: rgb(0, 0, 255);">name</span>='egon'
obj1.age=18
obj1.sex='male'

obj2.<span style="color: rgb(0, 0, 255);">name</span>='lxx'
obj2.age=38
obj2.sex='female'

obj3.<span style="color: rgb(0, 0, 255);">name</span>='alex'
obj3.age=38
obj3.sex='female'

# <span style="color: rgb(0, 0, 255);">print</span>(obj1.__dict__)
# <span style="color: rgb(0, 0, 255);">print</span>(obj2.__dict__)
# <span style="color: rgb(0, 0, 255);">print</span>(obj3.__dict__)
# <span style="color: rgb(0, 0, 255);">print</span>(People.__dict__)





#方式二、为对象初始化自己独有的特征
<span style="color: rgb(0, 0, 255);">class</span> People:
    country='China'
    x=1
    <span style="color: rgb(0, 0, 255);">def</span> run(self):
        <span style="color: rgb(0, 0, 255);">print</span>('-----&gt;', self)

# 实例化出三个空对象
obj1=People()
obj2=People()
obj3=People()

# 为对象定制自己独有的特征
<span style="color: rgb(0, 0, 255);">def</span> chu_shi_hua(obj, x, y, z): #obj=obj1,x='egon',y=18,z='male'
    obj.<span style="color: rgb(0, 0, 255);">name</span> = x
    obj.age = y
    obj.sex = z

chu_shi_hua(obj1,'egon',18,'male')
chu_shi_hua(obj2,'lxx',38,'female')
chu_shi_hua(obj3,'alex',38,'female')





#方式三、为对象初始化自己独有的特征
<span style="color: rgb(0, 0, 255);">class</span> People:
    country='China'
    x=1

    <span style="color: rgb(0, 0, 255);">def</span> chu_shi_hua(obj, x, y, z): #obj=obj1,x='egon',y=18,z='male'
        obj.<span style="color: rgb(0, 0, 255);">name</span> = x
        obj.age = y
        obj.sex = z

    <span style="color: rgb(0, 0, 255);">def</span> run(self):
        <span style="color: rgb(0, 0, 255);">print</span>('-----&gt;', self)


obj1=People()
# <span style="color: rgb(0, 0, 255);">print</span>(People.chu_shi_hua)
People.chu_shi_hua(obj1,'egon',18,'male')

obj2=People()
People.chu_shi_hua(obj2,'lxx',38,'female')

obj3=People()
People.chu_shi_hua(obj3,'alex',38,'female')




# 方式四、为对象初始化自己独有的特征
<span style="color: rgb(0, 0, 255);">class</span> People:
    country='China'
    x=1

    <span style="color: rgb(0, 0, 255);">def</span> __init__(obj, x, y, z): #obj=obj1,x='egon',y=18,z='male'
        obj.<span style="color: rgb(0, 0, 255);">name</span> = x
        obj.age = y
        obj.sex = z

    <span style="color: rgb(0, 0, 255);">def</span> run(self):
        <span style="color: rgb(0, 0, 255);">print</span>('-----&gt;', self)

obj1=People('egon',18,'male') #People.__init__(obj1,'egon',18,'male')
obj2=People('lxx',38,'female') #People.__init__(obj2,'lxx',38,'female')
obj3=People('alex',38,'female') #People.__init__(obj3,'alex',38,'female')


# __init__方法
# 强调：
#   1、该方法内可以有任意的python代码
#   2、一定不能有返回值
<span style="color: rgb(0, 0, 255);">class</span> People:
    country='China'
    x=1

    <span style="color: rgb(0, 0, 255);">def</span> __init__(obj, <span style="color: rgb(0, 0, 255);">name</span>, age, sex): #obj=obj1,x='egon',y=18,z='male'
        # <span style="color: rgb(0, 0, 255);">if</span> type(<span style="color: rgb(0, 0, 255);">name</span>) is not str:
        #     raise TypeError('名字必须是字符串类型')
        obj.<span style="color: rgb(0, 0, 255);">name</span> = <span style="color: rgb(0, 0, 255);">name</span>
        obj.age = age
        obj.sex = sex


    <span style="color: rgb(0, 0, 255);">def</span> run(self):
        <span style="color: rgb(0, 0, 255);">print</span>('-----&gt;', self)


# obj1=People('egon',18,'male')
obj1=People(3537,18,'male')

# <span style="color: rgb(0, 0, 255);">print</span>(obj1.run)
# obj1.run() #People.run(obj1)
# <span style="color: rgb(0, 0, 255);">print</span>(People.run)
</pre>
</div>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>