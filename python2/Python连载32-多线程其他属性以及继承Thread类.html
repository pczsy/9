<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修Python连载32-多线程其他属性以及继承Thread类' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>Python连载32-多线程其他属性以及继承Thread类</center></div><div class='banquan'>原文出处:本文由博客园博主心悦君兮君不知-睿提供。<br/>
原文连接:https://www.cnblogs.com/ruigege0000/p/11397571.html</div><br>
    <p>一、线程常用属性</p>
<p>1.threading.currentThread:返回当前线程变量</p>
<p>2.threading.enumerate:返回一个包含正在运行的线程的list，正在运行的线程指的是线程启动后，结束前的状态</p>
<p>3.threading.activeCount：返回正在运行的线程数量，效果跟len(threading.enumer)一样</p>
<p>4.thr.setName:给线程设置名字</p>
<p>5.thr.getName:得到线程的名字。</p>
<p>举例：</p>
<p>&nbsp;</p>
<p>i</p>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">mport _thread as thread

</span><span style="color: #0000ff;">import</span><span style="color: #000000;"> time

</span><span style="color: #0000ff;">def</span><span style="color: #000000;"> loop1(in1):

    </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">Start loop 1 at:</span><span style="color: #800000;">"</span><span style="color: #000000;">,time.ctime())

    </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">我是参数</span><span style="color: #800000;">"</span><span style="color: #000000;">,in1)

    time.sleep(</span>4<span style="color: #000000;">)

    </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">End loop 1 at:</span><span style="color: #800000;">"</span><span style="color: #000000;">,time.ctime())

​

</span><span style="color: #0000ff;">def</span><span style="color: #000000;"> loop2(in1,in2):

    </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">Start loop 2 at:</span><span style="color: #800000;">"</span><span style="color: #000000;">,time.ctime())

    </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">我是参数</span><span style="color: #800000;">"</span>,in1,<span style="color: #800000;">"</span><span style="color: #800000;">和参数 </span><span style="color: #800000;">"</span><span style="color: #000000;">,in2)

    time.sleep(</span>4<span style="color: #000000;">)

    </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">End loop 2 at:</span><span style="color: #800000;">"</span><span style="color: #000000;">,time.ctime())

​

</span><span style="color: #0000ff;">import</span><span style="color: #000000;"> threading

</span><span style="color: #0000ff;">def</span><span style="color: #000000;"> main1():

    </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">Starting at:</span><span style="color: #800000;">"</span><span style="color: #000000;">,time.ctime())

    t1 </span>= threading.Thread(target=loop1,args=(<span style="color: #800000;">''</span><span style="color: #000000;">,))

    t1.setName(</span><span style="color: #800000;">"</span><span style="color: #800000;">THR_1</span><span style="color: #800000;">"</span>)<span style="color: #008000;">#</span><span style="color: #008000;">给线程重命名</span>
<span style="color: #000000;">
    t1.start()

​

    t2 </span>= threading.Thread(target=loop2,args=(<span style="color: #800000;">''</span>,<span style="color: #800000;">''</span><span style="color: #000000;">))

    t2.setName(</span><span style="color: #800000;">"</span><span style="color: #800000;">THR_2</span><span style="color: #800000;">"</span><span style="color: #000000;">)

    t2.setDaemon(True)  </span><span style="color: #008000;">#</span><span style="color: #008000;">主线程运行完了就完了，不用等线程2</span>
<span style="color: #000000;">
    t2.start()

​

    time.sleep(</span>3)<span style="color: #008000;">#</span><span style="color: #008000;">三秒后两个子线程仍然在运行着，因为他们里面有一个四秒在停着</span>

    <span style="color: #0000ff;">for</span> thr <span style="color: #0000ff;">in</span> threading.enumerate():<span style="color: #008000;">#</span><span style="color: #008000;">返回的是正在运行的子线程的列表</span>

        <span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">正在运行的子线程名为：{0}</span><span style="color: #800000;">"</span>.format(thr.getName()))<span style="color: #008000;">#</span><span style="color: #008000;">读取了该线程的名字</span>
<span style="color: #000000;">
​

    </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">正在运行的子线程数量为：{0}</span><span style="color: #800000;">"</span>.format(threading.activeCount()))<span style="color: #008000;">#</span><span style="color: #008000;">打印出了线程的数量，包括主线程和两个子线程一共3个线程</span>
<span style="color: #000000;">
    t1.join()</span><span style="color: #008000;">#</span><span style="color: #008000;">等线程1运行完了再接着向下运行</span>

    <span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">ALL done at :</span><span style="color: #800000;">"</span><span style="color: #000000;">,time.ctime())

​

</span><span style="color: #0000ff;">if</span> <span style="color: #800080;">__name__</span> == <span style="color: #800000;">"</span><span style="color: #800000;">__main__</span><span style="color: #800000;">"</span><span style="color: #000000;">:

    main1()</span></pre>
</div>
<p>&nbsp;</p>
<p><img src="./images/Python连载32-多线程其他属性以及继承Thread类0.png" alt="" /></p>
<p>二、直接继承子类threading.Thread</p>
<p>1.直接继承Thread；重写run函数</p>
<p>​2.例子：</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<div class="cnblogs_code">
<pre><code>  <span style="color: #0000ff;">class</span> MyThread(threading.Thread):<span style="color: #008000;">#</span><span style="color: #008000;">定义一个Thread的子类</span>

        <span style="color: #0000ff;">def</span> <span style="color: #800080;">__init__</span>(self,args):<span style="color: #008000;">#</span><span style="color: #008000;">重写__init__函数，其中参数为self和新引入的参数</span>
<span style="color: #000000;">
            super(MyThread,self).</span><span style="color: #800080;">__init__</span>()<span style="color: #008000;">#</span><span style="color: #008000;">固定格式，继承父类的__init__函数</span>
<span style="color: #000000;">
            self.args </span>=<span style="color: #000000;"> args

​

        </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> run(self):

            time.sleep(</span>1<span style="color: #000000;">)

            </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">The args for this class is {0}</span><span style="color: #800000;">"</span><span style="color: #000000;">.format(self.args))

​

    </span><span style="color: #0000ff;">for</span> i <span style="color: #0000ff;">in</span> range(5<span style="color: #000000;">):

        t </span>=<span style="color: #000000;"> MyThread(i)

        t.start()

        t.join()</span></pre>
</div>
<p><img src="./images/Python连载32-多线程其他属性以及继承Thread类1.png" alt="" /></p>
<p>三、源码</p>
<p>d24_3_other_multi_thread_attribute.py</p>
<p>https://github.com/ruigege66/Python_learning/blob/master/d24_3_other_multi_thread_attribute.py​</p>
<p>2.CSDN：https://blog.csdn.net/weixin_44630050（心悦君兮君不知-睿）</p>
<p>3.博客园：https://www.cnblogs.com/ruigege0000/</p>
<p>4.欢迎关注微信公众号：傅里叶变换，后台回复&rdquo;礼包&ldquo;，获取大数据学习资料</p>
<p>&nbsp;<img src="./images/Python连载32-多线程其他属性以及继承Thread类2.png" alt="" /></p>
<p>&nbsp;</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>