<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修python中13个实用的文件操作' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>python中13个实用的文件操作</center></div><div class='banquan'>原文出处:本文由博客园博主python学习者0提供。<br/>
原文连接:https://www.cnblogs.com/xxpythonxx/p/11799435.html</div><br>
    <p><strong>1. 判断指定目录是否存在:</strong></p>
<pre><code><code>os.path.exists(input_folder)</code></pre>
<p><strong>2. 判断指定目录是不是文件夹</strong></p>
<pre><code><code>os.path.isdir(input_folder)</code></pre>
<p><strong>3. 判断指定目录是不是文件</strong></p>
<pre><code><code>os.path.isfile(input_folder)</code></pre>
<p><strong>4. 判断指定文件是不是图片（判断给定文件是何种图片类型）</strong></p>
<pre><code><code>import imghdr
img_list= {&#39;jpg&#39;,&#39;bmp&#39;,&#39;png&#39;,&#39;jpeg&#39;,&#39;rgb&#39;,&#39;gif&#39;,&#39;pbm&#39;,&#39;ppm&#39;,&#39;tiff&#39;,&#39;xbm&#39;}
if imghdr.what(input_filename) not in img_list:

print(not image)</code></pre>
<p><strong>5. 判断指定txt(文件)是否为空</strong></p>
<pre><code><code>import os
if os.path.getsize(&#39;test.txt&#39;) is 0:
    print(&#39;test.txt is empty!&#39;)</code></pre>
<p><strong>6. 按行读取txt文件内容</strong></p>
<pre><code><code>f = open(&#39;test.txt&#39;, &quot;r&quot;)
lines = f.readlines()
for line in lines:
    print line
    line = line.strip(&#39;\n&#39;)  # 去掉换行符号 &#39;\n&#39;
    print line</code></pre>
<p><strong>7. 遍历指定目录文件夹下所有文件</strong></p>
<pre><code><code>for file in sorted(glob.glob(os.path.join(input_folder, &#39;*.*&#39;))):
    print(file)</code></pre>
<p><strong>8. 在python程序中兼容路径中的中文符号</strong></p>
<pre><code><code>for file in sorted(glob.glob(os.path.join(input_folder, &#39;*.*&#39;))):

    file = unicode(file,&#39;utf-8&#39;)</code></pre>
<p><strong>9. 判断文件夹是否存在，不存在则创建，存在则删除后再创建：</strong></p>
<pre><code><code>if not os.path.exists(&#39;folder1&#39;):
        os.makedirs(&#39;folder1&#39;)
else:
        shutil.rmtree(&#39;folder1&#39;)

        os.makedirs(&#39;folder1&#39;)</code></pre>
<p><strong>10. 创建一个txt文件并写入，如果存在则清空后写入：</strong></p>
<pre><code><code>f = open(&#39;test.txt&#39;, &quot;wt&quot;)
f.writelines(&#39;test&#39; + &#39;\n&#39;)
f.close()</code></pre>
<p><strong>11. 判断路径(字符串) path_str 中是否有中文字符：</strong></p>
<pre><code><code># coding:utf-8
for ch in path_str.decode(&#39;utf-8&#39;):

        if u&#39;\u4e00&#39; &lt;= ch &lt;= u&#39;\u9fff&#39;:
            print(&#39;chinese character founded!&#39;)</code></pre>
<p><strong>12. os.walk 遍历文件夹下所有文件（包括文件夹下的文件夹内文件）</strong></p>
<pre><code><code>for root, dirs, files in os.walk(INPUT_FOLDER):
    for file in files:
        item = os.path.join(root,file)
        print(item)</code></pre>
<p><strong>13. 在python程序中获取文件或文件夹的绝对权限：</strong></p>
<pre><code><code>if os.path.exists(input_pathof_fileOrdir):

    os.system(&quot;chmod 777  %s&quot; % &#39;./{0}&#39;.format(input_pathof_fileOrdir))</code></pre>

</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>